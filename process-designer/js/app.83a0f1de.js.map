{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./package/process-designer/plugins/extension-moddle/activiti/activitiExtension.js","webpack:///./package/process-designer/plugins/extension-moddle/camunda/extension.js","webpack:///./src/App.vue?6400","webpack:///./src/translations.js","webpack:///./package/process-panel/ProcessPanel.vue?fd21","webpack:///./src/utils/index.js","webpack:///./package/process-panel/condition-config/ConditionConfig.vue?47f5","webpack:///package/process-panel/condition-config/ConditionConfig.vue","webpack:///./package/process-panel/condition-config/ConditionConfig.vue?149a","webpack:///./package/process-panel/condition-config/ConditionConfig.vue","webpack:///./package/process-panel/extensional/listeners/ElementListener.vue?c90c","webpack:///package/process-panel/extensional/listeners/ElementListener.vue","webpack:///./package/process-panel/extensional/listeners/ElementListener.vue?1f4a","webpack:///./package/process-panel/extensional/listeners/ElementListener.vue","webpack:///./package/process-panel/extensional/attrbutes/ElementAttributes.vue?ddb3","webpack:///package/process-panel/extensional/attrbutes/ElementAttributes.vue","webpack:///./package/process-panel/extensional/attrbutes/ElementAttributes.vue?8f38","webpack:///./package/process-panel/extensional/attrbutes/ElementAttributes.vue","webpack:///package/process-panel/ProcessPanel.vue","webpack:///./package/process-panel/ProcessPanel.vue?d224","webpack:///./package/process-panel/ProcessPanel.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./package/process-designer/ProcessDesigner.vue?161c","webpack:///./package/process-designer/plugins/defaultEmpty.js","webpack:///./package/process-designer/plugins/translate/customTranslate.js","webpack:///./package/process-designer/plugins/translate/zh.js","webpack:///package/process-designer/ProcessDesigner.vue","webpack:///./package/process-designer/ProcessDesigner.vue?0480","webpack:///./package/process-designer/ProcessDesigner.vue","webpack:///./package/process-designer/index.js","webpack:///./package/index.js","webpack:///./src/main.js","webpack:///./src/App.vue?c650","webpack:///external \"elementUI\"","webpack:///external \"VueRouter\"","webpack:///external \"Vue\"","webpack:///./package/process-designer/plugins/extension-moddle/camunda/index.js","webpack:///./package/process-designer/plugins/extension-moddle/flowable/flowableExtension.js","webpack:///./package/process-designer/plugins/extension-moddle/flowable/index.js","webpack:///./package/process-designer/plugins/extension-moddle/activiti/index.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","some","require","ALLOWED_TYPES","FailedJobRetryTimeCycle","Connector","Field","is","element","type","$instanceOf","exists","includesType","collection","anyType","types","isAllowed","propName","propDescriptor","newElement","replace","ActivitiModdleExtension","eventBus","on","context","propertyDescriptor","this","canCloneProperty","$inject","eventDefinitions","loopCharacteristics","isFunction","isObject","WILDCARD","CamundaModdleExtension","self","parent","canCopyProperty","isAny","getParent","$parent","isAllowedInParent","descriptor","$type","$model","getTypeDescriptor","allowedIn","meta","isWildcard","indexOf","canHostInputOutput","canHostConnector","canHostIn","connector","flowNode","serviceTaskLike","callActivity","signalEventDefinition","_vm","_h","$createElement","_c","_self","attrs","labelEditing","elementClick","initModeler","staticClass","modeler","staticRenderFns","style","model","callback","$$v","activeTab","expression","slot","_v","idEditDisabled","$event","updateBaseInfo","nativeOn","id","$set","elementType","versionTag","_e","_b","condition","elementId","$props","elementListeners","updateElementListener","elementAttributes","minRows","maxRows","updateDocumentation","documentation","debounce","fn","wait","timeout","clearTimeout","console","log","setTimeout","updateFlowType","changeFlowConditionType","conditionType","updateFlowCondition","scriptType","props","bpmnModeler","conditions","String","watch","deep","immediate","handler","keys","initConditionForm","mounted","modeling","moddle","elementRegistry","methods","undefined","resource","sourceShape","businessObject","default","line","conditionExpression","updateProperties","component","ownerListenersList","row","listenerTypeObject","listenerType","scopedSlots","_u","ref","$index","openListenerForm","staticStyle","removeListener","showListenerForm","listenerForm","required","trigger","_l","script","openListenerFieldForm","fieldsOfListener","fieldTypeObject","fieldType","string","removeListenerField","handleCancel","saveListenerConfig","showListenerFieldForm","listenerFieldForm","saveListenerFiled","listeners","Array","inject","prefix","width","ownerListenersObjectList","listenerIndex","listenerFiledIndex","classListener","expressionListener","delegateExpressionListener","scriptListener","newVal","map","li","class","delegateExpression","created","initModel","timer","listener","assign","listenerFormS","index","initListenerFields","$nextTick","listenerScriptForm","initListenerObject","listenerObj","event","options","fields","field","filed","JSON","parse","stringify","$emit","removedListener","removedField","ownerAttributes","openAttributesForm","removeAttributes","showAttributeForm","attributeForm","saveAttribute","attributes","attribute","computed","attr","components","componentName","Number","Boolean","provide","activeElement","panelStyle","flowTypeViewable","sourceRef","getActiveElement","beforeDestroy","bpmnFactory","selection","find","initFormOnChanged","shapeDoc","text","extensionElements","values","filter","attrObj","shape","otherExtensions","concat","extensions","xmlString","translationsSelf","translations","getDefinitions","ProcessChanged","xml","_t","$slots","headerButtonSize","downloadProcessAsXml","downloadProcessAsSvg","downloadProcessAsBpmn","headerButtonType","$refs","refFile","click","previewProcessXML","previewProcessJson","defaultZoom","processZoomOut","_s","currentScale","processZoomIn","processReZoom","revocable","processUndo","recoverable","processRedo","processRestart","importLocalFile","previewModelVisible","previewType","previewResult","TYPE_TARGET","activiti","camunda","customTranslate","template","replacements","_","str","Remove","DataObjectReference","DataStoreReference","Loop","Task","StartEvent","EndEvent","Transaction","Id","Name","General","Details","Message","Initiator","Exclusive","Documentation","Forms","ID","Type","Label","Validation","Config","Properties","Value","Listeners","Expression","Script","Resource","Extensions","Parameters","Date","Duration","Cycle","Signal","Escalation","Error","Condition","Executable","External","Implementation","Fields","Topic","Assignee","Priority","Variables","Startable","additionalModel","moddleExtension","onlyCustomizeAddi","onlyCustomizeModdle","processType","events","panelWidth","validator","additionalModules","toString","Modules","translate","TranslateModule","moddleExtensions","flowable","initBpmnModeler","createNewDiagram","$once","container","initModelListeners","forEach","EventBus","that","eventName","eventObj","setEncoded","filename","href","reader","readAsText","file","onload","xmlStr","downloadProcess","redo","undo","Math","floor","zoom","saveXML","val","MyProcessDesigner","install","Vue","version","use","VueRouter","ElementUI","MyPD","directive","clickoutside","router","render","h","App","$mount","elementUI","__init__","camundaModdleExtension","FlowableModdleExtension"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,IAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,qHCrJT,IAAIyC,EAAOC,EAAQ,QAAYD,KAE3BE,EAAgB,CAClBC,wBAAyB,CAAC,kBAAmB,qBAAsB,8BAA+B,iBAClGC,UAAW,CAAC,gBAAiB,+BAC7BC,MAAO,CAAC,gBAAiB,gCAG3B,SAASC,EAAGC,EAASC,GACnB,OAAOD,GAA0C,oBAAxBA,EAAQE,aAA8BF,EAAQE,YAAYD,GAGrF,SAASE,EAAOH,GACd,OAAOA,GAAWA,EAAQ5D,OAG5B,SAASgE,EAAaC,EAAYJ,GAChC,OACEE,EAAOE,IACPZ,EAAKY,GAAY,SAASL,GACxB,OAAOD,EAAGC,EAASC,MAKzB,SAASK,EAAQN,EAASO,GACxB,OAAOd,EAAKc,GAAO,SAASN,GAC1B,OAAOF,EAAGC,EAASC,MAIvB,SAASO,EAAUC,EAAUC,EAAgBC,GAC3C,IAAI3C,EAAO0C,EAAe1C,KACxBuC,EAAQZ,EAAc3B,EAAK4C,QAAQ,YAAa,KAElD,OAAO5C,IAASyC,GAAYH,EAAQK,EAAYJ,GAGlD,SAASM,EAAwBC,GAC/BA,EAASC,GACP,kBACA,SAASC,GACP,IAAIL,EAAaK,EAAQL,WACvBD,EAAiBM,EAAQC,mBAE3BC,KAAKC,iBAAiBR,EAAYD,KAEpCQ,MAIJL,EAAwBO,QAAU,CAAC,YAEnCP,EAAwBvE,UAAU6E,iBAAmB,SAASR,EAAYD,GACxE,OAAIF,EAAU,mCAAoCE,EAAgBC,GAE9DP,EAAaO,EAAWU,iBAAkB,8BAC1CjB,EAAaO,EAAWU,iBAAkB,+BAC1CtB,EAAGY,EAAWW,oBAAqB,yCAInCd,EAAU,qBAAsBE,EAAgBC,IAIhDH,EAAU,iBAAkBE,EAAgBC,GAHvCP,EAAaO,EAAWU,iBAAkB,oCAGnD,GAKF1D,EAAOD,QAAUmD,G,4FCvEjB,IAAIU,EAAa7B,EAAQ,QAAY6B,WACnCC,EAAW9B,EAAQ,QAAY8B,SAC/B/B,EAAOC,EAAQ,QAAYD,KAEzBgC,EAAW,IAEf,SAASC,EAAuBZ,GAC9B,IAAIa,EAAOT,KAEXJ,EAASC,GAAG,8BAA8B,SAASC,GACjD,IAAI7B,EAAW6B,EAAQ7B,SACrByC,EAASZ,EAAQY,OAEnB,OAAOD,EAAKE,gBAAgB1C,EAAUyC,MAwF1C,SAAS7B,EAAGC,EAASC,GACnB,OAAOD,GAAWuB,EAAWvB,EAAQE,cAAgBF,EAAQE,YAAYD,GAG3E,SAAS6B,EAAM9B,EAASO,GACtB,OAAOd,EAAKc,GAAO,SAAS7B,GAC1B,OAAOqB,EAAGC,EAAStB,MAIvB,SAASqD,EAAU/B,EAASC,GAC1B,OAAKA,EAIDF,EAAGC,EAASC,GACPD,EAGJA,EAAQgC,QAIND,EAAU/B,EAAQgC,QAAS/B,QAJlC,EAPSD,EAAQgC,QAcnB,SAASC,EAAkB9C,EAAUyC,GAEnC,IAAIM,EAAa/C,EAASgD,OAAShD,EAASiD,OAAOC,kBAAkBlD,EAASgD,OAE1EG,EAAYJ,GAAcA,EAAWK,MAAQL,EAAWK,KAAKD,UAEjE,QAAKA,IAAaE,EAAWF,KAKtB7C,EAAK6C,GAAW,SAASrC,GAC9B,OAAO8B,EAAUH,EAAQ3B,MAI7B,SAASuC,EAAWF,GAClB,OAAwC,IAAjCA,EAAUG,QAAQhB,GA/H3BC,EAAuBN,QAAU,CAAC,YAKlCM,EAAuBpF,UAAUuF,gBAAkB,SAAS1C,EAAUyC,GAEpE,QAAIJ,EAASrC,KAAc8C,EAAkB9C,EAAUyC,QAMnD7B,EAAGZ,EAAU,yBAA2B+B,KAAKwB,mBAAmBd,QAIhEE,EAAM3C,EAAU,CAAC,oBAAqB,oBAAsB+B,KAAKyB,iBAAiBf,QAIlF7B,EAAGZ,EAAU,gBAAkB+B,KAAK0B,UAAUhB,UAAlD,MAKFF,EAAuBpF,UAAUoG,mBAAqB,SAASd,GAE7D,IAAIiB,EAAYd,EAAUH,EAAQ,qBAElC,GAAIiB,EACF,OAAO,EAIT,IAAIC,EAAWf,EAAUH,EAAQ,iBAEjC,QAAKkB,KAIDhB,EAAMgB,EAAU,CAAC,kBAAmB,eAAgB,0BAIpD/C,EAAG+C,EAAU,qBAAsBA,EAASzE,IAAI,uBAOtDqD,EAAuBpF,UAAUqG,iBAAmB,SAASf,GAC3D,IAAImB,EAAkBhB,EAAUH,EAAQ,2BAExC,OAAI7B,EAAGgD,EAAiB,iCAEfhB,EAAUH,EAAQ,gCAAkCG,EAAUH,EAAQ,mBAMjFF,EAAuBpF,UAAUsG,UAAY,SAAShB,GACpD,IAAIoB,EAAejB,EAAUH,EAAQ,qBAErC,GAAIoB,EACF,OAAO,EAGT,IAAIC,EAAwBlB,EAAUH,EAAQ,8BAE9C,OAAIqB,IAEKlB,EAAUH,EAAQ,gCAAkCG,EAAUH,EAAQ,mBAMjFjE,EAAOD,QAAUgE,G,qICnGb,EAAS,WAAa,IAAIwB,EAAIhC,KAASiC,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,QAAQ,CAACF,EAAG,sBAAsB,CAACE,MAAM,CAAC,mBAAmBL,EAAIM,aAAa,eAAe,WAAWzC,GAAG,CAAC,gBAAgBmC,EAAIO,aAAa,gBAAgBP,EAAIQ,eAAeL,EAAG,gBAAgB,CAACM,YAAY,gBAAgBJ,MAAM,CAAC,eAAeL,EAAIU,QAAQ,OAAS,cAAc,IAC3YC,EAAkB,GCKP,GACb,oBAAqB,qBACrB,mBAAoB,qBACpB,oBAAqB,qBACrB,kBAAmB,oBACnB,sBAAuB,6BACvB,sBAAuB,SACvB,oBAAqB,SACrB,0BAA2B,SAC3B,qBAAsB,SACtB,oBAAqB,SACrB,yBAA0B,SAC1B,2BAA4B,SAC5B,yCAA0C,eAC1C,uCAAwC,eACxC,6CAA8C,eAC9C,wCAAyC,eACzC,4CAA6C,gBCvB3C,EAAS,WAAa,IAAIX,EAAIhC,KAASiC,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACM,YAAY,2BAA2BG,MAAOZ,EAAc,YAAG,CAACG,EAAG,cAAc,CAACU,MAAM,CAACtF,MAAOyE,EAAa,UAAEc,SAAS,SAAUC,GAAMf,EAAIgB,UAAUD,GAAKE,WAAW,cAAc,CAACd,EAAG,mBAAmB,CAACE,MAAM,CAAC,KAAO,SAAS,CAACF,EAAG,MAAM,CAACM,YAAY,mBAAmBJ,MAAM,CAAC,KAAO,SAASa,KAAK,SAAS,CAACf,EAAG,IAAI,CAACM,YAAY,iBAAiBT,EAAImB,GAAG,QAAQhB,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,MAAM,CAACM,YAAY,mCAAmC,CAACN,EAAG,MAAM,CAACM,YAAY,2BAA2B,CAACT,EAAImB,GAAG,QAAQhB,EAAG,MAAM,CAACM,YAAY,2BAA2B,CAACN,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,QAAQ,SAAWL,EAAIoB,eAAe,UAAY,IAAIvD,GAAG,CAAC,OAAS,SAASwD,GAAQ,OAAOrB,EAAIsB,eAAe,KAAMD,KAAUE,SAAS,CAAC,MAAQ,SAASF,GAAQ,OAAOrB,EAAIsB,eAAe,KAAMtB,EAAIlD,QAAQ0E,MAAMX,MAAM,CAACtF,MAAOyE,EAAIlD,QAAU,GAAEgE,SAAS,SAAUC,GAAMf,EAAIyB,KAAKzB,EAAIlD,QAAS,KAAMiE,IAAME,WAAW,iBAAiB,KAAKd,EAAG,MAAM,CAACM,YAAY,mCAAmC,CAACN,EAAG,MAAM,CAACM,YAAY,2BAA2B,CAACT,EAAImB,GAAG,QAAQhB,EAAG,MAAM,CAACM,YAAY,2BAA2B,CAACN,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,QAAQ,UAAY,IAAIxC,GAAG,CAAC,OAAS,SAASwD,GAAQ,OAAOrB,EAAIsB,eAAe,OAAQD,KAAUE,SAAS,CAAC,MAAQ,SAASF,GAAQ,OAAOrB,EAAIsB,eAAe,OAAQtB,EAAIlD,QAAQhC,QAAQ+F,MAAM,CAACtF,MAAOyE,EAAIlD,QAAY,KAAEgE,SAAS,SAAUC,GAAMf,EAAIyB,KAAKzB,EAAIlD,QAAS,OAAQiE,IAAME,WAAW,mBAAmB,KAA0B,iBAApBjB,EAAI0B,YAAgC,CAACvB,EAAG,MAAM,CAACM,YAAY,mCAAmC,CAACN,EAAG,MAAM,CAACM,YAAY,2BAA2B,CAACT,EAAImB,GAAG,UAAUhB,EAAG,MAAM,CAACM,YAAY,2BAA2B,CAACN,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,QAAQ,UAAY,IAAIxC,GAAG,CAAC,OAAS,SAASwD,GAAQ,OAAOrB,EAAIsB,eAAe,aAAcD,KAAUE,SAAS,CAAC,MAAQ,SAASF,GAAQ,OAAOrB,EAAIsB,eAAe,aAActB,EAAIlD,QAAQ6E,cAAcd,MAAM,CAACtF,MAAOyE,EAAIlD,QAAkB,WAAEgE,SAAS,SAAUC,GAAMf,EAAIyB,KAAKzB,EAAIlD,QAAS,aAAciE,IAAME,WAAW,yBAAyB,KAAKd,EAAG,MAAM,CAACM,YAAY,mCAAmC,CAACN,EAAG,MAAM,CAACM,YAAY,2BAA2B,CAACT,EAAImB,GAAG,SAAShB,EAAG,MAAM,CAACM,YAAY,2BAA2B,CAACN,EAAG,YAAY,CAACE,MAAM,CAAC,cAAc,IAAI,gBAAgB,KAAKxC,GAAG,CAAC,OAAS,SAASwD,GAAQ,OAAOrB,EAAIsB,eAAe,eAAgBD,KAAUR,MAAM,CAACtF,MAAOyE,EAAIlD,QAAoB,aAAEgE,SAAS,SAAUC,GAAMf,EAAIyB,KAAKzB,EAAIlD,QAAS,eAAgBiE,IAAME,WAAW,2BAA2B,MAAMjB,EAAI4B,KAAM5B,EAAoB,iBAAEG,EAAG,mBAAmBH,EAAI6B,GAAG,CAACxB,MAAM,CAAC,WAAaL,EAAI8B,UAAU,aAAa9B,EAAI+B,YAAY,mBAAmB/B,EAAIgC,QAAO,IAAQhC,EAAI4B,MAAM,KAAKzB,EAAG,mBAAmB,CAACE,MAAM,CAAC,KAAO,cAAc,CAACF,EAAG,MAAM,CAACM,YAAY,mBAAmBJ,MAAM,CAAC,KAAO,SAASa,KAAK,SAAS,CAACf,EAAG,IAAI,CAACM,YAAY,0BAA0BT,EAAImB,GAAG,SAAShB,EAAG,mBAAmBH,EAAI6B,GAAG,CAACxB,MAAM,CAAC,aAAaL,EAAI+B,UAAU,UAAY/B,EAAIiC,kBAAkBpE,GAAG,CAAC,OAASmC,EAAIkC,wBAAwB,mBAAmBlC,EAAIgC,QAAO,KAAS,GAAG7B,EAAG,mBAAmB,CAACE,MAAM,CAAC,KAAO,eAAe,CAACF,EAAG,MAAM,CAACM,YAAY,mBAAmBJ,MAAM,CAAC,KAAO,SAASa,KAAK,SAAS,CAACf,EAAG,IAAI,CAACM,YAAY,wBAAwBT,EAAImB,GAAG,UAAUhB,EAAG,qBAAqBH,EAAI6B,GAAG,CAACxB,MAAM,CAAC,aAAaL,EAAI+B,UAAU,WAAa/B,EAAImC,oBAAoB,qBAAqBnC,EAAIgC,QAAO,KAAS,GAAG7B,EAAG,mBAAmB,CAACE,MAAM,CAAC,KAAO,UAAU,CAACF,EAAG,MAAM,CAACM,YAAY,mBAAmBJ,MAAM,CAAC,KAAO,SAASa,KAAK,SAAS,CAACf,EAAG,IAAI,CAACM,YAAY,wBAAwBT,EAAImB,GAAG,QAAQhB,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,MAAM,CAACM,YAAY,mCAAmC,CAACN,EAAG,MAAM,CAACM,YAAY,2BAA2B,CAACT,EAAImB,GAAG,UAAUhB,EAAG,MAAM,CAACM,YAAY,2BAA2B,CAACN,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,WAAW,KAAO,QAAQ,OAAS,WAAW,SAAW,CAAE+B,QAAS,EAAGC,QAAS,IAAKxE,GAAG,CAAC,MAAQmC,EAAIsC,oBAAoB,KAAOtC,EAAIsC,qBAAqBzB,MAAM,CAACtF,MAAOyE,EAAiB,cAAEc,SAAS,SAAUC,GAAMf,EAAIuC,cAAcxB,GAAKE,WAAW,oBAAoB,UAAU,IAAI,IACpoI,EAAkB,G,wGCDf,SAASuB,EAASC,EAAIC,GAC3B,IAAIC,EAAU,KACd,OAAO,WACW,OAAZA,GAAkBC,aAAaD,GACnCE,QAAQC,IAAIL,EAAIC,GAChBC,EAAUI,WAAWN,EAAIC,ICL7B,IAAI,EAAS,WAAa,IAAI1C,EAAIhC,KAASiC,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACM,YAAY,mCAAmC,CAACN,EAAG,MAAM,CAACM,YAAY,2BAA2B,CAACT,EAAImB,GAAG,UAAUhB,EAAG,MAAM,CAACM,YAAY,2BAA2B,CAACN,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,SAASxC,GAAG,CAAC,OAASmC,EAAIgD,gBAAgBnC,MAAM,CAACtF,MAAOyE,EAAI8B,UAAc,KAAEhB,SAAS,SAAUC,GAAMf,EAAIyB,KAAKzB,EAAI8B,UAAW,OAAQf,IAAME,WAAW,mBAAmB,CAACd,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,SAAS,MAAQ,YAAYF,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,SAAS,MAAQ,aAAaF,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,SAAS,MAAQ,gBAAgB,IAAI,KAA6B,cAAvBL,EAAI8B,UAAU/E,KAAsBoD,EAAG,MAAM,CAACM,YAAY,mCAAmC,CAACN,EAAG,MAAM,CAACM,YAAY,2BAA2B,CAACT,EAAImB,GAAG,UAAUhB,EAAG,MAAM,CAACM,YAAY,2BAA2B,CAACN,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,SAASxC,GAAG,CAAC,OAASmC,EAAIiD,yBAAyBpC,MAAM,CAACtF,MAAOyE,EAAI8B,UAAuB,cAAEhB,SAAS,SAAUC,GAAMf,EAAIyB,KAAKzB,EAAI8B,UAAW,gBAAiBf,IAAME,WAAW,4BAA4B,CAACd,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,MAAM,MAAQ,gBAAgBF,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,KAAK,MAAQ,aAAa,IAAI,KAAKL,EAAI4B,KAAsC,eAAhC5B,EAAI8B,UAAUoB,cAAgC/C,EAAG,MAAM,CAACM,YAAY,mCAAmC,CAACN,EAAG,MAAM,CAACM,YAAY,2BAA2B,CAACT,EAAImB,GAAG,SAAShB,EAAG,MAAM,CAACM,YAAY,2BAA2B,CAACN,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,QAAQ,UAAY,IAAIxC,GAAG,CAAC,OAASmC,EAAImD,qBAAqBtC,MAAM,CAACtF,MAAOyE,EAAI8B,UAAc,KAAEhB,SAAS,SAAUC,GAAMf,EAAIyB,KAAKzB,EAAI8B,UAAW,OAAQf,IAAME,WAAW,qBAAqB,KAAKjB,EAAI4B,KAAsC,WAAhC5B,EAAI8B,UAAUoB,cAA4B,CAAC/C,EAAG,MAAM,CAACM,YAAY,mCAAmC,CAACN,EAAG,MAAM,CAACM,YAAY,2BAA2B,CAACT,EAAImB,GAAG,UAAUhB,EAAG,MAAM,CAACM,YAAY,2BAA2B,CAACN,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,QAAQ,UAAY,IAAIxC,GAAG,CAAC,OAASmC,EAAImD,qBAAqBtC,MAAM,CAACtF,MAAOyE,EAAI8B,UAAkB,SAAEhB,SAAS,SAAUC,GAAMf,EAAIyB,KAAKzB,EAAI8B,UAAW,WAAYf,IAAME,WAAW,yBAAyB,KAAKd,EAAG,MAAM,CAACM,YAAY,mCAAmC,CAACN,EAAG,MAAM,CAACM,YAAY,2BAA2B,CAACT,EAAImB,GAAG,UAAUhB,EAAG,MAAM,CAACM,YAAY,2BAA2B,CAACN,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,SAASxC,GAAG,CAAC,OAASmC,EAAImD,qBAAqBtC,MAAM,CAACtF,MAAOyE,EAAI8B,UAAoB,WAAEhB,SAAS,SAAUC,GAAMf,EAAIyB,KAAKzB,EAAI8B,UAAW,aAAcf,IAAME,WAAW,yBAAyB,CAACd,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,OAAO,MAAQ,kBAAkBF,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,OAAO,MAAQ,qBAAqB,IAAI,KAAmC,iBAA7BL,EAAI8B,UAAUsB,WAA+BjD,EAAG,MAAM,CAACM,YAAY,mCAAmC,CAACN,EAAG,MAAM,CAACM,YAAY,2BAA2B,CAACT,EAAImB,GAAG,QAAQhB,EAAG,MAAM,CAACM,YAAY,2BAA2B,CAACN,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,QAAQ,KAAO,WAAW,UAAY,IAAIxC,GAAG,CAAC,OAASmC,EAAImD,qBAAqBtC,MAAM,CAACtF,MAAOyE,EAAI8B,UAAc,KAAEhB,SAAS,SAAUC,GAAMf,EAAIyB,KAAKzB,EAAI8B,UAAW,OAAQf,IAAME,WAAW,qBAAqB,KAAKjB,EAAI4B,KAAmC,mBAA7B5B,EAAI8B,UAAUsB,WAAiCjD,EAAG,MAAM,CAACM,YAAY,mCAAmC,CAACN,EAAG,MAAM,CAACM,YAAY,2BAA2B,CAACT,EAAImB,GAAG,UAAUhB,EAAG,MAAM,CAACM,YAAY,2BAA2B,CAACN,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,QAAQ,UAAY,IAAIxC,GAAG,CAAC,OAASmC,EAAImD,qBAAqBtC,MAAM,CAACtF,MAAOyE,EAAI8B,UAAkB,SAAEhB,SAAS,SAAUC,GAAMf,EAAIyB,KAAKzB,EAAI8B,UAAW,WAAYf,IAAME,WAAW,yBAAyB,KAAKjB,EAAI4B,MAAM5B,EAAI4B,MAAM,IACvkH,EAAkB,GC2DtB,G,UAAA,CACE9G,KAAM,kBACNuI,MAAO,CACLC,YAAanK,OACboK,WAAYpK,OACZ4I,UAAWyB,QAEb9K,KAPF,WAQI,MAAO,CACLoJ,UAAW,KAGf2B,MAAO,CACLF,WAAY,CACVG,MAAM,EACNC,WAAW,EACXC,QAAS,WACH5F,KAAKuF,YAAcpK,OAAO0K,KAAK7F,KAAKuF,YAAYrK,QAClD8E,KAAK8F,kBAAkB9F,KAAKuF,eAKpCQ,QAvBF,WAwBS/F,KAAKsF,cACVtF,KAAKgG,SAAWhG,KAAKsF,YAAYnI,IAAI,YACrC6C,KAAKiG,OAASjG,KAAKsF,YAAYnI,IAAI,UACnC6C,KAAKkG,gBAAkBlG,KAAKsF,YAAYnI,IAAI,qBAE9CgJ,QAAS,CACPL,kBADJ,SACA,GACM,IAAN,mCACA,6CACM9F,KAAK8D,UAAY,OAAvB,OAAuB,CAAvB,kBACA,GADA,IAEQoB,cAAmC,cAApBK,EAAWxG,KAAuBmG,OAAgBkB,EACjEhB,WAAgC,cAApBG,EAAWxG,KAAuBqG,OAAagB,EAC3DC,SAAUd,EAAWc,YAIzBrB,eAZJ,SAYA,cACA,2CACA,0DACMD,YAAW,WACI,WAAThG,IAEEuH,EAAYC,eAAeC,SAAWF,EAAYC,eAAeC,QAAQhD,KAAOiD,EAAKjD,IACvF,EAAZ,4CAGU,EAAV,+DACiBiD,EAAKF,eAAeG,qBAEhB,YAAT3H,IACF,EAAV,gDACiB0H,EAAKF,eAAeG,qBAEhB,cAAT3H,GACF,EAAV,4FAEQ,EAAR,gCAGIkG,wBAnCJ,SAmCA,GACMjF,KAAKyD,KAAKzD,KAAK8D,UAAW,OAAQ,IACrB,eAAT/E,IACFiB,KAAKyD,KAAKzD,KAAK8D,UAAW,gBAAYsC,GACtCpG,KAAKyD,KAAKzD,KAAK8D,UAAW,gBAAYsC,IAExC,IAAN,2CACMpG,KAAKgG,SAASW,iBAAiBF,EAAM,CACnCC,oBAAqB1G,KAAKiG,OAAOrI,OAAO,wBAAyB,CAAzE,aAGIuH,oBA9CJ,WA8CA,IAEA,EAFA,EACA,iBADA,EACA,gBADA,EACA,aADA,EACA,OADA,EACA,WADA,EACA,SAEA,2CAC4B,eAAlBD,EACFpB,EAAY9D,KAAKiG,OAAOrI,OAAO,wBAAyB,CAAhE,UAE2B,iBAAfwH,EACFpF,KAAKyD,KAAKzD,KAAK8D,UAAW,gBAAYsC,GAEtCpG,KAAKyD,KAAKzD,KAAK8D,UAAW,YAAQsC,GAEpCtC,EAAY9D,KAAKiG,OAAOrI,OAAO,wBAAyB,CAAhE,gCAEMoC,KAAKgG,SAASW,iBAAiBF,EAAM,CAA3C,4BCrJwW,I,YCOpWG,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,QClBX,EAAS,WAAa,IAAI5E,EAAIhC,KAASiC,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,MAAM,CAACM,YAAY,kCAAkC,CAACN,EAAG,WAAW,CAACE,MAAM,CAAC,KAAOL,EAAI6E,mBAAmB,KAAO,OAAO,OAAS,GAAG,IAAM,KAAK,CAAC1E,EAAG,kBAAkB,CAACE,MAAM,CAAC,MAAQ,KAAK,MAAQ,OAAO,KAAO,WAAWF,EAAG,kBAAkB,CAACE,MAAM,CAAC,MAAQ,OAAO,YAAY,QAAQ,KAAO,WAAWF,EAAG,kBAAkB,CAACE,MAAM,CAAC,MAAQ,QAAQ,YAAY,QAAQ,wBAAwB,GAAG,UAAY,SAAUyE,GAAO,OAAO9E,EAAI+E,mBAAmBD,EAAIE,kBAAoB7E,EAAG,kBAAkB,CAACE,MAAM,CAAC,MAAQ,KAAK,MAAQ,SAAS4E,YAAYjF,EAAIkF,GAAG,CAAC,CAACrJ,IAAI,UAAU4G,GAAG,SAAS0C,GACttB,IAAIL,EAAMK,EAAIL,IACVM,EAASD,EAAIC,OACjB,MAAO,CAACjF,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,OAAO,KAAO,QAAQxC,GAAG,CAAC,MAAQ,SAASwD,GAAQ,OAAOrB,EAAIqF,iBAAiBP,EAAKM,MAAW,CAACpF,EAAImB,GAAG,QAAQhB,EAAG,aAAa,CAACE,MAAM,CAAC,UAAY,cAAcF,EAAG,YAAY,CAACmF,YAAY,CAAC,MAAQ,WAAWjF,MAAM,CAAC,KAAO,OAAO,KAAO,QAAQxC,GAAG,CAAC,MAAQ,SAASwD,GAAQ,OAAOrB,EAAIuF,eAAeT,EAAKM,MAAW,CAACpF,EAAImB,GAAG,gBAAgB,IAAI,GAAGhB,EAAG,MAAM,CAACM,YAAY,gCAAgC,CAACN,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,QAAQ,KAAO,UAAU,KAAO,gBAAgBxC,GAAG,CAAC,MAAQ,SAASwD,GAAQ,OAAOrB,EAAIqF,iBAAiB,SAAS,CAACrF,EAAImB,GAAG,YAAY,GAAGhB,EAAG,YAAY,CAACE,MAAM,CAAC,QAAUL,EAAIwF,iBAAiB,MAAQ,QAAQ,KAASxH,KAAU,MAAI,KAAM,iBAAiB,IAAIH,GAAG,CAAC,iBAAiB,SAASwD,GAAQrB,EAAIwF,iBAAiBnE,KAAU,CAAClB,EAAG,UAAU,CAACgF,IAAI,kBAAkB9E,MAAM,CAAC,KAAO,QAAQ,MAAQL,EAAIyF,aAAa,cAAc,SAAS,CAACtF,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,OAAO,KAAO,QAAQ,MAAQ,CAAEqF,UAAU,EAAMC,QAAS,CAAC,OAAQ,aAAc,CAACxF,EAAG,YAAY,CAACU,MAAM,CAACtF,MAAOyE,EAAIyF,aAAkB,MAAE3E,SAAS,SAAUC,GAAMf,EAAIyB,KAAKzB,EAAIyF,aAAc,QAAS1E,IAAME,WAAW,uBAAuB,CAACd,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,QAAQ,MAAQ,WAAWF,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,MAAM,MAAQ,UAAU,IAAI,GAAGF,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,QAAQ,KAAO,eAAe,MAAQ,CAAEqF,UAAU,EAAMC,QAAS,CAAC,OAAQ,aAAc,CAACxF,EAAG,YAAY,CAACU,MAAM,CAACtF,MAAOyE,EAAIyF,aAAyB,aAAE3E,SAAS,SAAUC,GAAMf,EAAIyB,KAAKzB,EAAIyF,aAAc,eAAgB1E,IAAME,WAAW,8BAA8BjB,EAAI4F,GAAIzM,OAAO0K,KAAK7D,EAAI+E,qBAAqB,SAAS/L,GAAG,OAAOmH,EAAG,YAAY,CAACtE,IAAI7C,EAAEqH,MAAM,CAAC,MAAQL,EAAI+E,mBAAmB/L,GAAG,MAAQA,QAAO,IAAI,GAAsC,kBAAlCgH,EAAIyF,aAAaT,aAAkC7E,EAAG,eAAe,CAACtE,IAAI,iBAAiBwE,MAAM,CAAC,MAAQ,QAAQ,KAAO,QAAQ,MAAQ,CAAEqF,UAAU,EAAMC,QAAS,CAAC,OAAQ,aAAc,CAACxF,EAAG,WAAW,CAACE,MAAM,CAAC,UAAY,IAAIQ,MAAM,CAACtF,MAAOyE,EAAIyF,aAAkB,MAAE3E,SAAS,SAAUC,GAAMf,EAAIyB,KAAKzB,EAAIyF,aAAc,QAAS1E,IAAME,WAAW,yBAAyB,GAAGjB,EAAI4B,KAAwC,uBAAlC5B,EAAIyF,aAAaT,aAAuC7E,EAAG,eAAe,CAACtE,IAAI,sBAAsBwE,MAAM,CAAC,MAAQ,MAAM,KAAO,aAAa,MAAQ,CAAEqF,UAAU,EAAMC,QAAS,CAAC,OAAQ,aAAc,CAACxF,EAAG,WAAW,CAACE,MAAM,CAAC,UAAY,IAAIQ,MAAM,CAACtF,MAAOyE,EAAIyF,aAAuB,WAAE3E,SAAS,SAAUC,GAAMf,EAAIyB,KAAKzB,EAAIyF,aAAc,aAAc1E,IAAME,WAAW,8BAA8B,GAAGjB,EAAI4B,KAAwC,+BAAlC5B,EAAIyF,aAAaT,aAA+C7E,EAAG,eAAe,CAACtE,IAAI,oBAAoBwE,MAAM,CAAC,MAAQ,QAAQ,KAAO,qBAAqB,MAAQ,CAAEqF,UAAU,EAAMC,QAAS,CAAC,OAAQ,aAAc,CAACxF,EAAG,WAAW,CAACE,MAAM,CAAC,UAAY,IAAIQ,MAAM,CAACtF,MAAOyE,EAAIyF,aAA+B,mBAAE3E,SAAS,SAAUC,GAAMf,EAAIyB,KAAKzB,EAAIyF,aAAc,qBAAsB1E,IAAME,WAAW,sCAAsC,GAAGjB,EAAI4B,KAAwC,mBAAlC5B,EAAIyF,aAAaT,aAAmC,CAAC7E,EAAG,eAAe,CAACtE,IAAI,yBAAyBwE,MAAM,CAAC,MAAQ,OAAO,KAAO,eAAe,MAAQ,CAAEqF,UAAU,EAAMC,QAAS,CAAC,OAAQ,aAAc,CAACxF,EAAG,WAAW,CAACE,MAAM,CAAC,UAAY,IAAIQ,MAAM,CAACtF,MAAOyE,EAAIyF,aAAaI,OAAmB,aAAE/E,SAAS,SAAUC,GAAMf,EAAIyB,KAAKzB,EAAIyF,aAAaI,OAAQ,eAAgB9E,IAAME,WAAW,uCAAuC,GAAGd,EAAG,eAAe,CAACtE,IAAI,uBAAuBwE,MAAM,CAAC,MAAQ,OAAO,KAAO,oBAAoB,MAAQ,CAAEqF,UAAU,EAAMC,QAAS,CAAC,OAAQ,aAAc,CAACxF,EAAG,YAAY,CAACU,MAAM,CAACtF,MAAOyE,EAAIyF,aAAaI,OAAiB,WAAE/E,SAAS,SAAUC,GAAMf,EAAIyB,KAAKzB,EAAIyF,aAAaI,OAAQ,aAAc9E,IAAME,WAAW,mCAAmC,CAACd,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,OAAO,MAAQ,kBAAkBF,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,OAAO,MAAQ,qBAAqB,IAAI,GAA2C,iBAAvCL,EAAIyF,aAAaI,OAAOzC,WAA+BjD,EAAG,eAAe,CAACtE,IAAI,kBAAkBwE,MAAM,CAAC,MAAQ,OAAO,KAAO,eAAe,MAAQ,CAAEqF,UAAU,EAAMC,QAAS,CAAC,OAAQ,aAAc,CAACxF,EAAG,WAAW,CAACE,MAAM,CAAC,UAAY,IAAIQ,MAAM,CAACtF,MAAOyE,EAAIyF,aAAaI,OAAY,MAAE/E,SAAS,SAAUC,GAAMf,EAAIyB,KAAKzB,EAAIyF,aAAaI,OAAQ,QAAS9E,IAAME,WAAW,gCAAgC,GAAGjB,EAAI4B,KAA6C,mBAAvC5B,EAAIyF,aAAaI,OAAOzC,WAAiCjD,EAAG,eAAe,CAACtE,IAAI,oBAAoBwE,MAAM,CAAC,MAAQ,OAAO,KAAO,kBAAkB,MAAQ,CAAEqF,UAAU,EAAMC,QAAS,CAAC,OAAQ,aAAc,CAACxF,EAAG,WAAW,CAACE,MAAM,CAAC,UAAY,IAAIQ,MAAM,CAACtF,MAAOyE,EAAIyF,aAAaI,OAAe,SAAE/E,SAAS,SAAUC,GAAMf,EAAIyB,KAAKzB,EAAIyF,aAAaI,OAAQ,WAAY9E,IAAME,WAAW,mCAAmC,GAAGjB,EAAI4B,MAAM5B,EAAI4B,MAAM,GAAGzB,EAAG,cAAcA,EAAG,IAAI,CAACM,YAAY,yBAAyB,CAACN,EAAG,OAAO,CAACA,EAAG,IAAI,CAACM,YAAY,iBAAiBT,EAAImB,GAAG,WAAWhB,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,OAAO,KAAO,WAAWxC,GAAG,CAAC,MAAQ,SAASwD,GAAQ,OAAOrB,EAAI8F,sBAAsB,SAAS,CAAC9F,EAAImB,GAAG,WAAW,GAAGhB,EAAG,WAAW,CAACmF,YAAY,CAAC,KAAO,QAAQjF,MAAM,CAAC,KAAOL,EAAI+F,iBAAiB,KAAO,OAAO,OAAS,GAAG,IAAM,KAAK,CAAC5F,EAAG,kBAAkB,CAACE,MAAM,CAAC,MAAQ,KAAK,MAAQ,OAAO,KAAO,WAAWF,EAAG,kBAAkB,CAACE,MAAM,CAAC,MAAQ,OAAO,YAAY,QAAQ,KAAO,UAAUF,EAAG,kBAAkB,CAACE,MAAM,CAAC,MAAQ,OAAO,YAAY,OAAO,wBAAwB,GAAG,UAAY,SAAUyE,GAAO,OAAO9E,EAAIgG,gBAAgBlB,EAAImB,eAAiB9F,EAAG,kBAAkB,CAACE,MAAM,CAAC,MAAQ,UAAU,YAAY,QAAQ,wBAAwB,GAAG,UAAY,SAAUyE,GAAO,OAAOA,EAAIoB,QAAUpB,EAAI7D,eAAiBd,EAAG,kBAAkB,CAACE,MAAM,CAAC,MAAQ,KAAK,MAAQ,SAAS4E,YAAYjF,EAAIkF,GAAG,CAAC,CAACrJ,IAAI,UAAU4G,GAAG,SAAS0C,GACrmL,IAAIL,EAAMK,EAAIL,IACVM,EAASD,EAAIC,OACjB,MAAO,CAACjF,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,OAAO,KAAO,QAAQxC,GAAG,CAAC,MAAQ,SAASwD,GAAQ,OAAOrB,EAAI8F,sBAAsBhB,EAAKM,MAAW,CAACpF,EAAImB,GAAG,QAAQhB,EAAG,aAAa,CAACE,MAAM,CAAC,UAAY,cAAcF,EAAG,YAAY,CAACmF,YAAY,CAAC,MAAQ,WAAWjF,MAAM,CAAC,KAAO,OAAO,KAAO,QAAQxC,GAAG,CAAC,MAAQ,SAASwD,GAAQ,OAAOrB,EAAImG,oBAAoBrB,EAAKM,MAAW,CAACpF,EAAImB,GAAG,gBAAgB,GAAGhB,EAAG,MAAM,CAACM,YAAY,uBAAuB6E,YAAY,CAAC,KAAO,OAAOnF,EAAG,MAAM,CAACM,YAAY,gCAAgC,CAACN,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,SAASxC,GAAG,CAAC,MAAQmC,EAAIoG,eAAe,CAACpG,EAAImB,GAAG,SAAShB,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,QAAQ,KAAO,WAAWxC,GAAG,CAAC,MAAQmC,EAAIqG,qBAAqB,CAACrG,EAAImB,GAAG,UAAU,IAAI,GAAGhB,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,OAAO,QAAUL,EAAIsG,sBAAsB,MAAQ,QAAQ,iBAAiB,GAAG,mBAAmB,IAAIzI,GAAG,CAAC,iBAAiB,SAASwD,GAAQrB,EAAIsG,sBAAsBjF,KAAU,CAAClB,EAAG,UAAU,CAACgF,IAAI,uBAAuB9E,MAAM,CAAC,MAAQL,EAAIuG,kBAAkB,KAAO,QAAQ,cAAc,SAAS,CAACpG,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,QAAQ,KAAO,OAAO,MAAQ,CAAEqF,UAAU,EAAMC,QAAS,CAAC,OAAQ,aAAc,CAACxF,EAAG,WAAW,CAACE,MAAM,CAAC,UAAY,IAAIQ,MAAM,CAACtF,MAAOyE,EAAIuG,kBAAsB,KAAEzF,SAAS,SAAUC,GAAMf,EAAIyB,KAAKzB,EAAIuG,kBAAmB,OAAQxF,IAAME,WAAW,6BAA6B,GAAGd,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,QAAQ,KAAO,YAAY,MAAQ,CAAEqF,UAAU,EAAMC,QAAS,CAAC,OAAQ,aAAc,CAACxF,EAAG,YAAY,CAACU,MAAM,CAACtF,MAAOyE,EAAIuG,kBAA2B,UAAEzF,SAAS,SAAUC,GAAMf,EAAIyB,KAAKzB,EAAIuG,kBAAmB,YAAaxF,IAAME,WAAW,gCAAgCjB,EAAI4F,GAAIzM,OAAO0K,KAAK7D,EAAIgG,kBAAkB,SAAShN,GAAG,OAAOmH,EAAG,YAAY,CAACtE,IAAI7C,EAAEqH,MAAM,CAAC,MAAQL,EAAIgG,gBAAgBhN,GAAG,MAAQA,QAAO,IAAI,GAAwC,WAApCgH,EAAIuG,kBAAkBN,UAAwB9F,EAAG,eAAe,CAACtE,IAAI,eAAewE,MAAM,CAAC,MAAQ,OAAO,KAAO,SAAS,MAAQ,CAAEqF,UAAU,EAAMC,QAAS,CAAC,OAAQ,aAAc,CAACxF,EAAG,WAAW,CAACE,MAAM,CAAC,UAAY,IAAIQ,MAAM,CAACtF,MAAOyE,EAAIuG,kBAAwB,OAAEzF,SAAS,SAAUC,GAAMf,EAAIyB,KAAKzB,EAAIuG,kBAAmB,SAAUxF,IAAME,WAAW,+BAA+B,GAAGjB,EAAI4B,KAA0C,eAApC5B,EAAIuG,kBAAkBN,UAA4B9F,EAAG,eAAe,CAACtE,IAAI,mBAAmBwE,MAAM,CAAC,MAAQ,OAAO,KAAO,aAAa,MAAQ,CAAEqF,UAAU,EAAMC,QAAS,CAAC,OAAQ,aAAc,CAACxF,EAAG,WAAW,CAACE,MAAM,CAAC,UAAY,IAAIQ,MAAM,CAACtF,MAAOyE,EAAIuG,kBAA4B,WAAEzF,SAAS,SAAUC,GAAMf,EAAIyB,KAAKzB,EAAIuG,kBAAmB,aAAcxF,IAAME,WAAW,mCAAmC,GAAGjB,EAAI4B,MAAM,GAAGzB,EAAG,WAAW,CAACe,KAAK,UAAU,CAACf,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,QAAQxC,GAAG,CAAC,MAAQ,SAASwD,GAAQrB,EAAIsG,uBAAwB,KAAS,CAACtG,EAAImB,GAAG,SAAShB,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,OAAO,KAAO,WAAWxC,GAAG,CAAC,MAAQmC,EAAIwG,oBAAoB,CAACxG,EAAImB,GAAG,UAAU,IAAI,IAAI,IAC7zF,EAAkB,G,sDC6KtB,GACErG,KAAM,kBACNuI,MAAO,CACLoD,UAAW,CACT1J,KAAM2J,MACNlC,QAAS,WAAf,WAEIlB,YAAanK,OACb4I,UAAWyB,QAEbmD,OAAQ,CACNC,OAAQ,SACRC,MAAO,SAETnO,KAdF,WAeI,MAAO,CACLmM,mBAAoB,GACpBiC,yBAA0B,GAC1BrB,aAAc,GACdc,kBAAmB,GACnBR,iBAAkB,GAClBP,kBAAkB,EAClBuB,cAAe,EACfT,uBAAuB,EACvBU,mBAAoB,EACpBjC,mBAAoB,CAClBkC,cAAe,SACfC,mBAAoB,MACpBC,2BAA4B,QAC5BC,eAAgB,MAElBpB,gBAAiB,CACfE,OAAQ,MACRjF,WAAY,SAIlBwC,MAAO,CACLgD,UAAW,CACT/C,MAAM,EACNE,QAAS,SAAf,GACYyD,EAAOnO,QACT8E,KAAK8I,yBAA2BO,EAChCrJ,KAAK6G,mBAAqBwC,EAAOC,KAAI,SAA/C,GACY,IAAZ,EAKY,OAJIC,EAAGC,QAAOxC,EAAe,iBACzBuC,EAAGtG,aAAY+D,EAAe,sBAC9BuC,EAAGE,qBAAoBzC,EAAe,8BACtCuC,EAAG1B,SAAQb,EAAe,kBACvB,iCACnB,GADA,IAEcA,aAAcA,SAIlBhH,KAAK8I,yBAA2B,GAChC9I,KAAK6G,mBAAqB,OAKlC6C,QA7DF,WA8DI1J,KAAK2J,aAEPxD,QAAS,CAEPwD,UAFJ,WAEA,WACW3J,KAAKsF,aAINtF,KAAK4J,OAAOhF,aAAa5E,KAAK4J,OAClC5J,KAAKiG,OAASjG,KAAKsF,YAAYnI,IAAI,WAJjC6C,KAAK4J,MAAQ7E,YAAW,WAAhC,4BAOIsC,iBAXJ,SAWA,gBACM,GAAIwC,EAAU,CACZ,IAAR,gCAOQ,IAAK,IAAb,KANYA,EAAShC,QACX1M,OAAO2O,OAAOC,EAAclC,OAAQ,OAA9C,OAA8C,CAA9C,kBACA,UADA,IAEYzC,WAAYyE,EAAShC,OAAOxB,SAAW,iBAAmB,kBAGtE,EACUrG,KAAKyD,KAAKzD,KAAKyH,aAAc5J,EAAKkM,EAAclM,IAElDmC,KAAK+I,cAAgBiB,OAErBhK,KAAKyH,aAAe,GACpBzH,KAAK+I,eAAiB,EAExB/I,KAAKiK,qBACLjK,KAAKwH,kBAAmB,EACxBxH,KAAKkK,WAAU,WACT,EAAZ,yEAII9B,aAnCJ,WAoCMpI,KAAKwH,kBAAmB,EACxBxH,KAAKyH,aAAe,GACpBzH,KAAKmK,mBAAqB,IAG5B,mBAzCJ,WAyCA,kLACA,sCADA,UACA,EADA,OAEA,EAFA,iDAIA,uCACA,8DACA,4BAEA,qBACA,mCACA,4CAEA,uDACA,+DAGA,6CAEA,sBACA,kBAnBA,+CAqBIC,mBA9DJ,SA8DA,cACA,KAEM,OADAC,EAAYC,MAAQC,EAAQD,MACpBC,EAAQvD,cACd,IAAK,iBACHqD,EAAYxC,OAAS7H,KAAKiG,OAAOrI,OAAO,GAAlD,0EACU,MACF,IAAK,qBACHyM,EAAYpH,WAAasH,EAAQtH,WACjC,MACF,IAAK,6BACHoH,EAAYZ,mBAAqBc,EAAQd,mBACzC,MACF,QACEY,EAAYb,MAAQe,EAAQf,MAOhC,OALIe,EAAQC,SACVH,EAAYG,OAASD,EAAQC,OAAOlB,KAAI,SAAhD,GACU,OAAO,EAAjB,kDAGae,GAGTJ,mBAtFJ,WAuFUjK,KAAKyH,aAAa+C,QAAUxK,KAAKyH,aAAa+C,OAAOtP,OACvD8E,KAAK+H,iBAAmB/H,KAAKyH,aAAa+C,OAAOlB,KAAI,SAA7D,GACU,OAAO,iCACjB,GADA,IAEYrB,UAAWwC,EAAMvC,OAAS,SAAW,kBAK3ClI,KAAK+H,iBAAmB,IAG1BD,sBAnGJ,SAmGA,gBACM9H,KAAKuI,kBAAoBmC,EAAQC,KAAKC,MAAMD,KAAKE,UAAUH,IAAU,GACrE1K,KAAKgJ,mBAAqB0B,EAAQV,GAAS,EAC3ChK,KAAKsI,uBAAwB,EAC7BtI,KAAKkK,WAAU,WACT,EAAZ,mFAII,kBA5GJ,WA4GA,gLACA,2CADA,UACA,EADA,OAEA,EAFA,iDAGA,EACA,yCACA,kEACA,CACA,8BACA,4CAEA,yBACA,sBACA,8BAEA,oCAGA,uDAEA,uBACA,2BApBA,8CAsBI3C,eAlIJ,SAkIA,KACM,IAAN,sCACMvH,KAAK8K,MAAM,kBAAmBC,GAC9B/K,KAAK8K,MAAM,SAAU9K,KAAK6G,qBAE5BsB,oBAvIJ,SAuIA,KACMnI,KAAKyH,aAAa+C,OAAOpO,OAAO4N,EAAO,GACvC,IAAN,oCACMhK,KAAK8K,MAAM,kBAAmBE,MC9XmV,ICOnX,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,I,QClBX,EAAS,WAAa,IAAIhJ,EAAIhC,KAASiC,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACM,YAAY,sBAAsB,CAACN,EAAG,MAAM,CAACM,YAAY,kCAAkC,CAACN,EAAG,WAAW,CAACE,MAAM,CAAC,KAAOL,EAAIiJ,gBAAgB,KAAO,OAAO,OAAS,GAAG,IAAM,KAAK,CAAC9I,EAAG,kBAAkB,CAACE,MAAM,CAAC,MAAQ,KAAK,MAAQ,OAAO,KAAO,WAAWF,EAAG,kBAAkB,CAACE,MAAM,CAAC,MAAQ,MAAM,KAAO,OAAO,YAAY,QAAQ,wBAAwB,MAAMF,EAAG,kBAAkB,CAACE,MAAM,CAAC,MAAQ,MAAM,KAAO,QAAQ,YAAY,QAAQ,wBAAwB,MAAMF,EAAG,kBAAkB,CAACE,MAAM,CAAC,MAAQ,KAAK,MAAQ,SAAS4E,YAAYjF,EAAIkF,GAAG,CAAC,CAACrJ,IAAI,UAAU4G,GAAG,SAAS0C,GACzqB,IAAIL,EAAMK,EAAIL,IACVM,EAASD,EAAIC,OACjB,MAAO,CAACjF,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,OAAO,KAAO,QAAQxC,GAAG,CAAC,MAAQ,SAASwD,GAAQ,OAAOrB,EAAIkJ,mBAAmBpE,EAAKM,MAAW,CAACpF,EAAImB,GAAG,QAAQhB,EAAG,aAAa,CAACE,MAAM,CAAC,UAAY,cAAcF,EAAG,YAAY,CAACmF,YAAY,CAAC,MAAQ,WAAWjF,MAAM,CAAC,KAAO,OAAO,KAAO,QAAQxC,GAAG,CAAC,MAAQ,SAASwD,GAAQ,OAAOrB,EAAImJ,iBAAiBrE,EAAKM,MAAW,CAACpF,EAAImB,GAAG,gBAAgB,IAAI,GAAGhB,EAAG,MAAM,CAACM,YAAY,gCAAgC,CAACN,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,QAAQ,KAAO,UAAU,KAAO,gBAAgBxC,GAAG,CAAC,MAAQ,SAASwD,GAAQ,OAAOrB,EAAIkJ,mBAAmB,MAAO,MAAM,CAAClJ,EAAImB,GAAG,WAAW,GAAGhB,EAAG,YAAY,CAACE,MAAM,CAAC,QAAUL,EAAIoJ,kBAAkB,MAAQ,OAAO,MAAQ,QAAQ,iBAAiB,GAAG,mBAAmB,IAAIvL,GAAG,CAAC,iBAAiB,SAASwD,GAAQrB,EAAIoJ,kBAAkB/H,KAAU,CAAClB,EAAG,UAAU,CAACgF,IAAI,mBAAmB9E,MAAM,CAAC,MAAQL,EAAIqJ,cAAc,cAAc,OAAO,KAAO,UAAU,CAAClJ,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,OAAO,KAAO,OAAO,MAAQ,CAAEqF,UAAU,EAAMC,QAAS,CAAC,OAAQ,aAAc,CAACxF,EAAG,WAAW,CAACE,MAAM,CAAC,UAAY,IAAIQ,MAAM,CAACtF,MAAOyE,EAAIqJ,cAAkB,KAAEvI,SAAS,SAAUC,GAAMf,EAAIyB,KAAKzB,EAAIqJ,cAAe,OAAQtI,IAAME,WAAW,yBAAyB,GAAGd,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,OAAO,KAAO,QAAQ,MAAQ,CAAEqF,UAAU,EAAMC,QAAS,CAAC,OAAQ,aAAc,CAACxF,EAAG,WAAW,CAACE,MAAM,CAAC,UAAY,IAAIQ,MAAM,CAACtF,MAAOyE,EAAIqJ,cAAmB,MAAEvI,SAAS,SAAUC,GAAMf,EAAIyB,KAAKzB,EAAIqJ,cAAe,QAAStI,IAAME,WAAW,0BAA0B,IAAI,GAAGd,EAAG,WAAW,CAACe,KAAK,UAAU,CAACf,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,QAAQxC,GAAG,CAAC,MAAQ,SAASwD,GAAQrB,EAAIoJ,mBAAoB,KAAS,CAACpJ,EAAImB,GAAG,SAAShB,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,OAAO,KAAO,WAAWxC,GAAG,CAAC,MAAQmC,EAAIsJ,gBAAgB,CAACtJ,EAAImB,GAAG,UAAU,IAAI,IAAI,IACtvD,EAAkB,GCkCtB,GACErG,KAAM,oBACNuI,MAAO,CACLkG,WAAY,CACVxM,KAAM2J,MACNlC,QAAS,WAAf,WAEIlB,YAAanK,OACb4I,UAAWyB,QAEbmD,OAAQ,CACNC,OAAQ,SACRC,MAAO,SAETnO,KAdF,WAeI,MAAO,CACLuQ,gBAAiB,GACjBI,cAAe,GACfG,UAAW,EACXJ,mBAAmB,IAGvBK,SAAU,GACV/B,QAvBF,aAwBEvD,QAAS,CACP+E,mBADJ,SACA,gBACMlL,KAAKqL,eAA2B,IAAXrB,EAAe,GAAKW,KAAKC,MAAMD,KAAKE,UAAUa,IACnE1L,KAAKoL,mBAAoB,EACzBpL,KAAKkK,WAAU,WACT,EAAZ,2EAGIiB,iBARJ,SAQA,KACMtG,QAAQC,IAAI4G,EAAM1B,IAEpBsB,cAXJ,cAaE7F,MAAO,CACL8F,WAAY,CACV7F,MAAM,EACNC,WAAW,EACXC,QAAS,SAAf,GACA,MAAYyD,IACFrJ,KAAKiL,gBAAkBN,KAAKC,MAAMD,KAAKE,WAAjD,sECjFyX,ICOrX,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,I,QCqFf,GACE/N,KAAM,eACN6O,WAAY,CAAd,yDACEC,cAAe,eACfvG,MAAO,CACLC,YAAanK,OACbyN,OAAQ,CACN7J,KAAMyG,OACNgB,QAAS,WAEXqC,MAAO,CACL9J,KAAM8M,OACNrF,QAAS,KAEXpD,eAAgB,CACdrE,KAAM+M,QACNtF,SAAS,IAGbuF,QAnBF,WAoBI,MAAO,CACLnD,OAAQ5I,KAAK4I,OACbC,MAAO7I,KAAK6I,QAGhBnO,KAzBF,WA0BI,MAAO,CACLsR,cAAe,GACflI,UAAW,GACXd,UAAW,OACXlE,QAAS,GACTyF,cAAe,GACfW,cAAe,GACfjB,iBAAkB,GAClBE,kBAAmB,KAGvBsH,SAAU,CACRQ,WADJ,WAEM,MAAO,CAAb,mCAEIvI,YAJJ,WAKM,OAAI1D,KAAKgM,cAAsBhM,KAAKgM,cAAcjN,KAC3C,MAETgF,UARJ,WASM,OAAI/D,KAAKgM,cAAsBhM,KAAKgM,cAAcxI,GAC3C,MAET0I,iBAZJ,WAaM,MAAyB,sBAArBlM,KAAK0D,cACF1D,KAAKlB,QAAQqN,WAA8C,oBAAjCnM,KAAKlB,QAAQqN,UAAUlL,SAG5DwE,MAAO,CACL/B,YADJ,SACA,GACMmB,QAAQC,IAAI/F,IAEdgF,UAJJ,cAQEgC,QA9DF,WA+DI/F,KAAKoM,oBAEPC,cAjEF,WAkEIzH,aAAa5E,KAAK4J,QAEpBzD,QAAS,CACPiG,iBADJ,WACA,WACWpM,KAAKsF,aAINtF,KAAK4J,OAAOhF,aAAa5E,KAAK4J,OAClC5J,KAAKgG,SAAWhG,KAAKsF,YAAYnI,IAAI,YACrC6C,KAAKiG,OAASjG,KAAKsF,YAAYnI,IAAI,UACnC6C,KAAKJ,SAAWI,KAAKsF,YAAYnI,IAAI,YACrC6C,KAAKsM,YAActM,KAAKsF,YAAYnI,IAAI,eACxC6C,KAAKkG,gBAAkBlG,KAAKsF,YAAYnI,IAAI,mBAC5C6C,KAAKN,QAAUM,KAAKsF,YAAYnI,IAAI,WACpC6C,KAAKuM,UAAYvM,KAAKsF,YAAYnI,IAAI,aAGtC6C,KAAKgM,cAAgBhM,KAAKkG,gBAAgBsG,MAAK,SAArD,oCACMxM,KAAKlB,QAAU3D,OAAO2O,OAAO,GAAI9J,KAAKgM,cAAczF,gBAGpDvG,KAAKsF,YAAYzF,GAAG,qBAAqB,SAA/C,wBACA,6EACQ2E,EAAS,EAAjB,iCAnBQxE,KAAK4J,MAAQ7E,YAAW,WAAhC,mCA8BI0H,kBAjCJ,SAiCA,kBACA,8BACA,iCAmBM,GAlBAzM,KAAKgM,cAAgB7Q,OAAO2O,OAAO,GAAIhL,GACvCkB,KAAKlB,QAAU3D,OAAO2O,OAAO,GAAIhL,EAAQyH,gBAEzCvG,KAAKuE,cAAgBmI,GAAYA,EAASxR,OAASwR,EAAS,GAAGC,KAAO,GAE5E,+FACQ3M,KAAKiE,iBAAmBnF,EAAQyH,eAAeqG,kBAAkBC,OAAOC,QAExE,SAAR,GAAU,OAAV,sDAEQ9M,KAAKmE,kBAAoBrF,EAAQyH,eAAeqG,kBAAkBC,OAAOC,QACjF,YAAU,OAAV,iDAGQ9M,KAAKiE,iBAAmB,GACxBjE,KAAKmE,kBAAoB,KAGmB,IAA1CrF,EAAQC,KAAKwC,QAAQ,gBAAwB,CAC/C,GAAIzC,EAAQyH,eAAeG,oBAGzB,OAFA1G,KAAK8D,UAAY,OAA3B,OAA2B,CAA3B,8CACU9D,KAAKyD,KAAKzD,KAAK8D,UAAW,OAAQ,aAGpC,IAAR,0DACQ,GAAIwC,EAAYC,eAAeC,SAAWF,EAAYC,eAAeC,QAAQhD,KAAOO,EAElF,YADA/D,KAAKyD,KAAKzD,KAAK8D,UAAW,OAAQ,WAGpC9D,KAAKyD,KAAKzD,KAAK8D,UAAW,OAAQ,YAItCR,eArEJ,SAqEA,KACM,IAAN,2CACA,KACMyJ,EAAQlP,GAAON,EACfyC,KAAKgG,SAASW,iBAAiBqG,EAAOD,IAGxCzI,oBA5EJ,WA6EM,IAAN,2CACA,0EACMtE,KAAKgG,SAASW,iBAAiB7H,EAAS,CACtCyF,cAAe,CAACA,MAIpBL,sBApFJ,SAoFA,gBACA,2CACA,4CAEA,GACA,0FAAQ,OAAR,2DAEA,+CACQ2I,OAAQI,EAAgBC,OAAOzE,KAGjCzI,KAAKgG,SAASW,iBAAiB7H,EAAS,CACtC8N,kBAAmBO,IAGrBnN,KAAKyM,kBAAkBzM,KAAK+D,cC9QoT,ICOlV,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,I,QCFf,GACEjH,KAAM,MACN6O,WAAY,CAAd,gBACEjR,KAHF,WAII,MAAO,CACL0S,UAAW,GACX1K,QAAS,KACT2K,iBAAkBC,EAClBhL,aAAc,CAAC,CAArB,sCAGEoH,QAXF,aAcEvD,QAAS,CACP3D,YADJ,SACA,GACMxC,KAAK0C,QAAUA,EACfmC,QAAQC,IAAI9E,KAAK0C,SACjBmC,QAAQC,IAAI9E,KAAK0C,QAAQ6K,mBAE3BhL,aANJ,SAMA,GACMsC,QAAQC,IAAIhG,IAEd0O,eATJ,SASA,GACMxN,KAAKoN,UAAYK,EACjB5I,QAAQC,IAAI2I,MCzC4S,ICQ1T,G,UAAY,eACd,EACA,EACA9K,GACA,EACA,KACA,KACA,OAIa,I,kDCnBX,G,8BAAS,WAAa,IAAIX,EAAIhC,KAASiC,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACM,YAAY,uBAAuB,CAACN,EAAG,MAAM,CAACM,YAAY,+BAA+B,CAACT,EAAI0L,GAAG,kBAAoB1L,EAAI2L,OAAO,kBAA2jF3L,EAAI4B,KAA5iFzB,EAAG,kBAAkB,CAACA,EAAG,aAAa,CAACE,MAAM,CAAC,OAAS,UAAU,CAACF,EAAG,MAAM,CAACE,MAAM,CAAC,KAAO,WAAWa,KAAK,WAAW,CAACf,EAAG,YAAY,CAACE,MAAM,CAAC,KAAOL,EAAI4L,iBAAiB,KAAO,QAAQ/N,GAAG,CAAC,MAAQmC,EAAI6L,uBAAuB,CAAC7L,EAAImB,GAAG,cAAchB,EAAG,MAAMA,EAAG,YAAY,CAACE,MAAM,CAAC,KAAOL,EAAI4L,iBAAiB,KAAO,QAAQ/N,GAAG,CAAC,MAAQmC,EAAI8L,uBAAuB,CAAC9L,EAAImB,GAAG,cAAchB,EAAG,MAAMA,EAAG,YAAY,CAACE,MAAM,CAAC,KAAOL,EAAI4L,iBAAiB,KAAO,QAAQ/N,GAAG,CAAC,MAAQmC,EAAI+L,wBAAwB,CAAC/L,EAAImB,GAAG,gBAAgB,GAAGhB,EAAG,YAAY,CAACE,MAAM,CAAC,KAAOL,EAAI4L,iBAAiB,KAAO5L,EAAIgM,iBAAiB,KAAO,iBAAiB,CAAChM,EAAImB,GAAG,WAAW,GAAGhB,EAAG,YAAY,CAACE,MAAM,CAAC,KAAOL,EAAI4L,iBAAiB,KAAO5L,EAAIgM,iBAAiB,KAAO,yBAAyBnO,GAAG,CAAC,MAAQ,SAASwD,GAAQ,OAAOrB,EAAIiM,MAAMC,QAAQC,WAAW,CAACnM,EAAImB,GAAG,UAAUhB,EAAG,aAAa,CAACE,MAAM,CAAC,OAAS,UAAU,CAACF,EAAG,MAAM,CAACE,MAAM,CAAC,KAAO,WAAWa,KAAK,WAAW,CAACf,EAAG,YAAY,CAACE,MAAM,CAAC,KAAOL,EAAI4L,iBAAiB,KAAO,QAAQ/N,GAAG,CAAC,MAAQmC,EAAIoM,oBAAoB,CAACpM,EAAImB,GAAG,WAAWhB,EAAG,MAAMA,EAAG,YAAY,CAACE,MAAM,CAAC,KAAOL,EAAI4L,iBAAiB,KAAO,QAAQ/N,GAAG,CAAC,MAAQmC,EAAIqM,qBAAqB,CAACrM,EAAImB,GAAG,aAAa,GAAGhB,EAAG,YAAY,CAACE,MAAM,CAAC,KAAOL,EAAI4L,iBAAiB,KAAO5L,EAAIgM,iBAAiB,KAAO,iBAAiB,CAAChM,EAAImB,GAAG,SAAS,GAAGhB,EAAG,aAAa,CAACE,MAAM,CAAC,OAAS,QAAQ,QAAU,SAAS,CAACF,EAAG,YAAY,CAACE,MAAM,CAAC,KAAOL,EAAI4L,iBAAiB,SAAW5L,EAAIsM,YAAc,GAAI,KAAO,oBAAoBzO,GAAG,CAAC,MAAQmC,EAAIuM,mBAAmB,GAAGpM,EAAG,YAAY,CAACE,MAAM,CAAC,KAAOL,EAAI4L,mBAAmB,CAAC5L,EAAImB,GAAGnB,EAAIwM,GAAGxM,EAAIyM,iBAAiBtM,EAAG,aAAa,CAACE,MAAM,CAAC,OAAS,QAAQ,QAAU,SAAS,CAACF,EAAG,YAAY,CAACE,MAAM,CAAC,KAAOL,EAAI4L,iBAAiB,SAAW5L,EAAIsM,YAAc,EAAE,KAAO,mBAAmBzO,GAAG,CAAC,MAAQmC,EAAI0M,kBAAkB,GAAGvM,EAAG,aAAa,CAACE,MAAM,CAAC,OAAS,QAAQ,QAAU,YAAY,CAACF,EAAG,YAAY,CAACE,MAAM,CAAC,KAAOL,EAAI4L,iBAAiB,KAAO,+BAA+B/N,GAAG,CAAC,MAAQmC,EAAI2M,kBAAkB,GAAGxM,EAAG,aAAa,CAACE,MAAM,CAAC,OAAS,QAAQ,QAAU,OAAO,CAACF,EAAG,YAAY,CAACE,MAAM,CAAC,KAAOL,EAAI4L,iBAAiB,UAAY5L,EAAI4M,UAAU,KAAO,wBAAwB/O,GAAG,CAAC,MAAQmC,EAAI6M,gBAAgB,GAAG1M,EAAG,aAAa,CAACE,MAAM,CAAC,OAAS,QAAQ,QAAU,OAAO,CAACF,EAAG,YAAY,CAACE,MAAM,CAAC,KAAOL,EAAI4L,iBAAiB,UAAY5L,EAAI8M,YAAY,KAAO,yBAAyBjP,GAAG,CAAC,MAAQmC,EAAI+M,gBAAgB,GAAG5M,EAAG,aAAa,CAACE,MAAM,CAAC,OAAS,QAAQ,QAAU,SAAS,CAACF,EAAG,YAAY,CAACE,MAAM,CAAC,KAAOL,EAAI4L,iBAAiB,KAAO,mBAAmB/N,GAAG,CAAC,MAAQmC,EAAIgN,mBAAmB,IAAI,GAAY7M,EAAG,QAAQ,CAACgF,IAAI,UAAUG,YAAY,CAAC,QAAU,QAAQjF,MAAM,CAAC,KAAO,OAAO,GAAK,QAAQ,OAAS,eAAexC,GAAG,CAAC,OAASmC,EAAIiN,oBAAoB,GAAG9M,EAAG,MAAM,CAACM,YAAY,kCAAkC,CAACN,EAAG,MAAM,CAACgF,IAAI,cAAc1E,YAAY,kCAAkCN,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,KAAK,MAAQ,MAAM,QAAUL,EAAIkN,oBAAoB,iBAAiB,GAAG,mBAAmB,IAAIrP,GAAG,CAAC,iBAAiB,SAASwD,GAAQrB,EAAIkN,oBAAoB7L,KAAU,CAAClB,EAAG,cAAc,CAACE,MAAM,CAAC,SAAWL,EAAImN,YAAY,KAAOnN,EAAIoN,kBAAkB,IAAI,KACr2G,EAAkB,G,wDCDP,WAACvR,EAAKf,EAAMiC,GACpBA,IAAMA,EAAO,WAClB,IAAMsQ,EAAc,CAClBC,SAAU,2BACVC,QAAS,8BAEX,ieASmBF,EAAYtQ,GAT/B,4CAU6BlB,EAV7B,mBAU2Cf,EAV3C,8JAa4De,EAb5D,+ECiBa,SAAS2R,EAAgBlC,GACtC,OAAO,SAASmC,EAAUC,GAMxB,OALAA,EAAeA,GAAgB,GAE/BD,EAAWnC,EAAamC,IAAaA,EAG9BA,EAAS/P,QAAQ,cAAc,SAASiQ,EAAG9R,GAChD,IAAI+R,EAAMF,EAAa7R,GAMvB,OALwC,OAApCyP,EAAaoC,EAAa7R,KAAsD,cAApCyP,EAAaoC,EAAa7R,MAExE+R,EAAMtC,EAAaoC,EAAa7R,KAG3B+R,GAAO,IAAM/R,EAAM,QC/BjB,OAEb,kBAAmB,SACnB,iBAAkB,OAClB,cAAe,OACf,qCAAsC,gBAEtC,mCAAoC,WACpC,gBAAiB,YACjB,iBAAkB,SAClB,wBAAyB,SACzB,0BAA2B,SAC3B,iBAAkB,SAClB,+BAAgC,SAChC,cAAe,OACf,4BAA6B,SAC7B,oDAAqD,iBACrD,qCAAsC,aACtCgS,OAAQ,KACR,yBAA0B,SAC1B,0BAA2B,SAC3B,wCAAyC,cACzC,6BAA8B,UAC9B,8CAA+C,gBAC/C,0BAA2B,UAC3B,0BAA2B,SAC3B,4BAA6B,SAC7BC,oBAAqB,SACrBC,mBAAoB,SACpBC,KAAM,KACN,SAAU,KACV,gBAAiB,YACjBC,KAAM,KACN,YAAa,OACb,eAAgB,OAChB,YAAa,OACb,cAAe,OACf,qBAAsB,SACtB,eAAgB,OAChB,cAAe,OACf,gBAAiB,OACjB,0BAA2B,WAC3B,yBAA0B,WAC1B,cAAe,OACfC,WAAY,OACZ,2BAA4B,OAC5B,YAAa,OACbC,SAAU,OACV,oBAAqB,SACrB,kBAAmB,SACnB,cAAe,OACf,iBAAkB,OAClB,6BAA8B,SAC9B,4BAA6B,SAC7B,eAAgB,OAChB,qCAAsC,YACtC,sBAAuB,SACvB,oBAAqB,SACrB,0BAA2B,SAC3B,qBAAsB,SACtB,oBAAqB,SACrB,yBAA0B,SAC1B,2BAA4B,SAC5B,yCAA0C,cAC1C,uCAAwC,cACxC,6CAA8C,cAC9C,wCAAyC,cACzC,4CAA6C,cAC7C,mCAAoC,WACpC,mCAAoC,WACpC,iCAAkC,WAClC,sCAAuC,WACvC,uCAAwC,WACxC,gCAAiC,WACjC,gCAAiC,WACjC,wCAAyC,WACzC,kCAAmC,WACnC,kCAAmC,WACnC,oBAAqB,SACrB,uBAAwB,SACxB,kBAAmB,SACnB,mBAAoB,SACpB,yBAA0B,SAC1B,mBAAoB,SACpB,sBAAuB,SACvB,yBAA0B,SAC1B,4CAA6C,cAC7C,uBAAwB,SACxB,0CAA2C,cAC3C,4BAA6B,SAC7B,+CAAgD,cAChD,6BAA8B,SAC9B,gDAAiD,cACjD,uBAAwB,SACxB,wBAAyB,SACzB,wBAAyB,SACzB,2CAA4C,cAC5C,8BAA+B,SAC/B,oBAAqB,OACrB,mBAAoB,OACpB,oBAAqB,OACrB,kBAAmB,OACnB,sBAAuB,OACvBC,YAAa,KACb,cAAe,MACf,oBAAqB,QACrB,iBAAkB,MAClB,gBAAiB,MAGjB,sCAAuC,2BACvC,0BAA2B,YAC3B,uDAAwD,iBACxD,wBAAyB,wBACzB,gCAAiC,eACjC,mBAAoB,SACpB,uCAAwC,eACxC,wBAAyB,YACzB,yCAA0C,cAC1C,wEACE,6CACF,6BAA8B,iBAC9B,6BAA8B,gBAE9BC,GAAI,KACJC,KAAM,KACNC,QAAS,KACTC,QAAS,KACT,eAAgB,OAChBC,QAAS,KACTC,UAAW,MACX,6BAA8B,OAC9B,sBAAuB,MACvB,qBAAsB,MACtB,oBAAqB,OACrBC,UAAW,KACX,eAAgB,QAChB,mBAAoB,SACpBC,cAAe,KACf,wBAAyB,OACzB,wBAAyB,OACzB,uBAAwB,UACxBC,MAAO,KACP,WAAY,QACZ,cAAe,OACf,eAAgB,QAChB,aAAc,OACdC,GAAI,KACJC,KAAM,KACNC,MAAO,KACP,gBAAiB,MACjB,eAAgB,SAChB,mBAAoB,SACpB,gBAAiB,SACjBC,WAAY,KACZ,iBAAkB,OAClBC,OAAQ,KACRC,WAAY,KACZ,eAAgB,OAChBC,MAAO,IACPC,UAAW,MACX,qBAAsB,OACtB,aAAc,OACd,gBAAiB,QACjB,aAAc,QACdC,WAAY,MACZ,uBAAwB,UACxB,sBAAuB,QACvBC,OAAQ,KACR,gBAAiB,OACjB,cAAe,OACf,gBAAiB,OACjB,kBAAmB,OACnBC,SAAU,KACV,kBAAmB,OACnBC,WAAY,KACZ,eAAgB,QAChB,mBAAoB,OACpB,oBAAqB,OACrBC,WAAY,KACZ,mBAAoB,OACpB,wBAAyB,UACzB,mBAAoB,QACpBC,KAAM,KACNC,SAAU,KACVC,MAAO,KACPC,OAAQ,KACR,cAAe,OACfC,WAAY,KACZC,MAAO,KACP,YAAa,OACbC,UAAW,OACX,gBAAiB,OACjB,iBAAkB,OAClB,yEAA0E,cAC1E,sBAAuB,OACvB,eAAgB,OAChB,cAAe,OACfC,WAAY,QACZ,8BAA+B,SAC/B,gBAAiB,QACjBC,SAAU,KACVxT,UAAW,MACX,2BAA4B,UAC5B,eAAgB,QAChByT,eAAgB,OAChB,mBAAoB,OACpBC,OAAQ,KACR,kBAAmB,OACnBC,MAAO,KACP,sBAAuB,QACvB,kBAAmB,OACnBC,SAAU,MACV,kBAAmB,OACnB,mBAAoB,MACpB,WAAY,OACZ,iBAAkB,OAClBC,SAAU,MACV,qGACE,kEACF,+FACE,kEACFC,UAAW,KACX,kCAAmC,WACnC,2BAA4B,UAC5B,2CAA4C,aAC5C,0BAA2B,YAC3B,wDAAyD,mBACzD,yBAA0B,aAC1BC,UAAW,KACX,yDAA0D,mB,sKC9J5D,wBAGA,QACE5V,KAAM,oBACN8O,cAAe,oBACfvG,MAAO,CACL9H,MAAOiI,OACP8H,aAAcnS,OACdwX,gBAAiB,CAACxX,OAAQuN,OAC1BkK,gBAAiBzX,OACjB0X,kBAAmB,CACjB9T,KAAM+M,QACNtF,SAAS,GAEXsM,oBAAqB,CACnB/T,KAAM+M,QACNtF,SAAS,GAEXuM,YAAa,CACXhU,KAAMyG,OACNgB,QAAS,WAEXwM,OAAQ,CACNjU,KAAM2J,MACNlC,QAAS,WAAf,0BAEIyM,WAAY,CACVlU,KAAM,CAACyG,OAAQqG,QACfrF,QAAS,KAEXoH,iBAAkB,CAChB7O,KAAMyG,OACNgB,QAAS,QACT0M,UAAW,SAAjB,+DAEIlF,iBAAkB,CAChBjP,KAAMyG,OACNgB,QAAS,UACT0M,UAAW,SAAjB,sFAGExY,KAvCF,WAwCI,MAAO,CACL+T,aAAc,OACdH,YAAa,EACbY,qBAAqB,EACrBE,cAAe,GACfD,YAAa,MACbL,aAAa,EACbF,WAAW,IAGfnD,SAAU,CACR0H,kBADJ,WAEM,IAAN,KAEM,GAAInT,KAAK6S,kBACP,MAA6D,mBAAzD1X,OAAOC,UAAUgY,SAAS9X,KAAK0E,KAAK2S,iBAC/B3S,KAAK2S,iBAAmB,GAE1B,CAAC3S,KAAK2S,iBAI8C,mBAAzDxX,OAAOC,UAAUgY,SAAS9X,KAAK0E,KAAK2S,iBACtCU,EAAQ7X,KAAhB,8CAEQwE,KAAK2S,iBAAmBU,EAAQ7X,KAAKwE,KAAK2S,iBAI5C,IAAN,GACQW,UAAW,CAAC,QAAS9D,EAAgBxP,KAAKsN,cAAgB,KAkB5D,OAhBA+F,EAAQ7X,KAAK+X,GAMY,YAArBvT,KAAK+S,aACPM,EAAQ7X,KAAK,GAArB,GAE+B,aAArBwE,KAAK+S,aACPM,EAAQ7X,KAAK,GAArB,GAE+B,aAArBwE,KAAK+S,aACPM,EAAQ7X,KAAK,GAArB,GAGa6X,GAETG,iBAxCJ,WAyCM,IAAN,KAEM,GAAIxT,KAAK8S,oBACP,OAAO9S,KAAK4S,iBAAmB,KAIjC,GAAI5S,KAAK4S,gBACP,IAAK,IAAb,0BACUnB,EAAW5T,GAAOmC,KAAK4S,gBAAgB/U,GAc3C,MATyB,aAArBmC,KAAK+S,cACPtB,EAAWnC,SAAW,GAEC,aAArBtP,KAAK+S,cACPtB,EAAWgC,SAAW,GAEC,YAArBzT,KAAK+S,cACPtB,EAAWlC,QAAU,GAEhBkC,GAETxF,WAlEJ,WAmEM,MAA+B,kBAApBjM,KAAKiT,WAAgC,CAAtD,uCACa,CAAb,yBAGElN,QAzHF,WAyHA,WACI/F,KAAK0T,kBACL1T,KAAK2T,iBAAiB3T,KAAKzC,OAC3ByC,KAAK4T,MAAM,sBAAsB,WAC3B,EAAV,qCACM,EAAN,+BACM,EAAN,qBAGEzN,QAAS,CACPuN,gBADJ,WAEU1T,KAAKsF,cACTtF,KAAKsF,YAAc,IAAI,EAA7B,MACQuO,UAAW7T,KAAKiO,MAAM,eACtBkF,kBAAmBnT,KAAKmT,kBACxBK,iBAAkBxT,KAAKwT,mBAEzBxT,KAAK8K,MAAM,gBAAiB9K,KAAKsF,aACjCtF,KAAK8T,uBAEPH,iBAXJ,SAWA,GAEM,IAAN,oCACM3T,KAAKsF,YACX,aACA,kBAAQ,IACR,aACA,gCAEA,mBACQ,QAAR,aAGIwO,mBAxBJ,WAwBA,WACA,mCACA,OAEM9T,KAAKgT,OAAOe,SAAQ,SAA1B,GACQC,EAASnU,GAAGyK,GAAO,SAA3B,GACU,IAAV,uBACA,mBACU2J,EAAKnJ,MAAMoJ,EAAWpV,EAASqV,SAInCH,EAASnU,GAAG,uBAAlB,8JAEA,0DACA,wDAHA,SAIA,mCAJA,gBAIA,EAJA,EAIA,IACA,mBACA,oBANA,qDAQA,oBARA,2DAYMG,KAAKsF,YAAYzF,GAAG,0BAA0B,SAApD,GACQ,EAAR,gDAEQ,EAAR,mDAKI,gBAxDJ,SAwDA,wGAyBA,EAzBA,oFAyBA,EAzBA,SAyBA,KACA,SACA,kCACA,aACA,SACA,UACA,8BA/BA,SAEA,IAEA,sBAJA,iCAKA,wBALA,mBAKA,EALA,EAKA,MALA,EAKA,KAEA,EAPA,0CAQA,kBARA,UAUA,kCAVA,EAUA,OAVA,EAUA,SACA,OAXA,yCAaA,wBAbA,oBAaA,EAbA,EAaA,MAbA,EAaA,KAEA,EAfA,0CAgBA,kBAhBA,UAkBA,wBAlBA,EAkBA,OAlBA,EAkBA,SACA,OAnBA,6DAsBA,oBAtBA,6DAqCIuU,WA7FJ,SA6FA,KACM,IAAN,wBACM,MAAO,CACLC,SAAU,WAAlB,UACQC,KAAM,oBAAd,sEACQ5Z,KAAMA,IAKVuU,gBAvGJ,WAwGM,IAAN,OACA,8BACA,iBACMsF,EAAOC,WAAWC,GAClBF,EAAOG,OAAS,WACd,IAAR,cACQT,EAAKN,iBAAiBgB,KAI1B9G,qBAlHJ,WAmHM7N,KAAK4U,gBAAgB,QAEvB7G,sBArHJ,WAsHM/N,KAAK4U,gBAAgB,SAEvB9G,qBAxHJ,WAyHM9N,KAAK4U,gBAAgB,QAEvB7F,YA3HJ,WA4HM/O,KAAKsF,YAAYnI,IAAI,gBAAgB0X,QAEvChG,YA9HJ,WA+HM7O,KAAKsF,YAAYnI,IAAI,gBAAgB2X,QAEvCpG,cAjIJ,WAkIM1O,KAAKsO,YAAcyG,KAAKC,MAAyB,GAAnBhV,KAAKsO,YAAmB,GAAK,GAC3DtO,KAAKsF,YAAYnI,IAAI,UAAU8X,KAAKjV,KAAKsO,cAE3CC,eArIJ,WAsIMvO,KAAKsO,YAAcyG,KAAKC,MAAyB,GAAnBhV,KAAKsO,YAAmB,GAAK,GAC3DtO,KAAKsF,YAAYnI,IAAI,UAAU8X,KAAKjV,KAAKsO,cAE3CK,cAzIJ,WA0IM3O,KAAKsO,YAAc,EACnBtO,KAAKsF,YAAYnI,IAAI,UAAU8X,KAAK,eAAgB,SAEtDjG,eA7IJ,WA8IMhP,KAAK2T,iBAAiB,OAExBvF,kBAhJJ,WAgJA,WACMpO,KAAKsF,YAAY4P,QAAQ,CAA/B,0CACQ,EAAR,gBACQ,EAAR,kBACQ,EAAR,2BAGI7G,mBAvJJ,WAuJA,WACMrO,KAAKsF,YAAY4P,QAAQ,CAA/B,0CACQ,EAAR,0CACQ,EAAR,mBACQ,EAAR,4BAIEzP,MAAO,CACLlI,MAAO,CACLqI,QAAS,SAAf,GACQ5F,KAAK2T,iBAAiBwB,OCrX2T,MCOrV,GAAY,eACd,GACA,EACA,GACA,EACA,KACA,KACA,MAIa,M,QChBfC,GAAkBC,QAAU,SAASC,GACnCA,EAAI1O,UAAUwO,GAAkBtY,KAAMsY,KAGzBA,UCJTzJ,GAAa,CAACyJ,IAEdC,GAAU,SAASC,GACvB3J,GAAWoI,SAAQ,SAAAnN,GACjB0O,EAAI1O,UAAUA,EAAU9J,KAAM8J,OAIZ,qBAAXxI,QAA0BA,OAAOkX,KAC1CD,GAAQjX,OAAOkX,KAGF,uBACbC,QAAS,QACTF,YACG1J,I,iECdL2J,IAAIE,IAAIC,KAIRH,IAAIE,IAAIE,KAIRJ,IAAIE,IAAIG,IAURL,IAAIM,UAAU,eAAgBC,SAE9B,IAAIP,IAAI,CACNQ,OAAQ,IAAIL,IAAU,CACpBhY,KAAM,YAERsY,OAAQ,SAAAC,GAAC,OAAIA,EAAEC,MACdC,OAAO,S,oCC5BV,W,qBCAAzZ,EAAOD,QAAU2Z,W,mBCAjB1Z,EAAOD,QAAUiZ,W,i5yBCAjBhZ,EAAOD,QAAU8Y,K,srXCEjB7Y,EAAOD,QAAU,CACf4Z,SAAU,CAAC,0BACXC,uBAAwB,CAAC,OAAQ7X,EAAQ,W,4ECF3C,IAAID,EAAOC,EAAQ,QAAYD,KAE3BE,EAAgB,CAClBC,wBAAyB,CAAC,kBAAmB,qBAAsB,8BAA+B,iBAClGC,UAAW,CAAC,gBAAiB,+BAC7BC,MAAO,CAAC,gBAAiB,gCAG3B,SAASC,EAAGC,EAASC,GACnB,OAAOD,GAA0C,oBAAxBA,EAAQE,aAA8BF,EAAQE,YAAYD,GAGrF,SAASE,EAAOH,GACd,OAAOA,GAAWA,EAAQ5D,OAG5B,SAASgE,EAAaC,EAAYJ,GAChC,OACEE,EAAOE,IACPZ,EAAKY,GAAY,SAASL,GACxB,OAAOD,EAAGC,EAASC,MAKzB,SAASK,EAAQN,EAASO,GACxB,OAAOd,EAAKc,GAAO,SAASN,GAC1B,OAAOF,EAAGC,EAASC,MAIvB,SAASO,EAAUC,EAAUC,EAAgBC,GAC3C,IAAI3C,EAAO0C,EAAe1C,KACxBuC,EAAQZ,EAAc3B,EAAK4C,QAAQ,YAAa,KAElD,OAAO5C,IAASyC,GAAYH,EAAQK,EAAYJ,GAGlD,SAASiX,EAAwB1W,GAC/BA,EAASC,GACP,kBACA,SAASC,GACP,IAAIL,EAAaK,EAAQL,WACvBD,EAAiBM,EAAQC,mBAE3BC,KAAKC,iBAAiBR,EAAYD,KAEpCQ,MAIJsW,EAAwBpW,QAAU,CAAC,YAEnCoW,EAAwBlb,UAAU6E,iBAAmB,SAASR,EAAYD,GACxE,OAAIF,EAAU,mCAAoCE,EAAgBC,GAE9DP,EAAaO,EAAWU,iBAAkB,8BAC1CjB,EAAaO,EAAWU,iBAAkB,+BAC1CtB,EAAGY,EAAWW,oBAAqB,yCAInCd,EAAU,qBAAsBE,EAAgBC,IAIhDH,EAAU,iBAAkBE,EAAgBC,GAHvCP,EAAaO,EAAWU,iBAAkB,oCAGnD,GAKF1D,EAAOD,QAAU8Z,G,8CCpEjB7Z,EAAOD,QAAU,CACf4Z,SAAU,CAAC,2BACXE,wBAAyB,CAAC,OAAQ9X,EAAQ,W,4CCF5C/B,EAAOD,QAAU,CACf4Z,SAAU,CAAC,2BACXzW,wBAAyB,CAAC,OAAQnB,EAAQ","file":"js/app.83a0f1de.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","\"use strict\";\r\n\r\nvar some = require(\"min-dash\").some;\r\n\r\nvar ALLOWED_TYPES = {\r\n  FailedJobRetryTimeCycle: [\"bpmn:StartEvent\", \"bpmn:BoundaryEvent\", \"bpmn:IntermediateCatchEvent\", \"bpmn:Activity\"],\r\n  Connector: [\"bpmn:EndEvent\", \"bpmn:IntermediateThrowEvent\"],\r\n  Field: [\"bpmn:EndEvent\", \"bpmn:IntermediateThrowEvent\"]\r\n};\r\n\r\nfunction is(element, type) {\r\n  return element && typeof element.$instanceOf === \"function\" && element.$instanceOf(type);\r\n}\r\n\r\nfunction exists(element) {\r\n  return element && element.length;\r\n}\r\n\r\nfunction includesType(collection, type) {\r\n  return (\r\n    exists(collection) &&\r\n    some(collection, function(element) {\r\n      return is(element, type);\r\n    })\r\n  );\r\n}\r\n\r\nfunction anyType(element, types) {\r\n  return some(types, function(type) {\r\n    return is(element, type);\r\n  });\r\n}\r\n\r\nfunction isAllowed(propName, propDescriptor, newElement) {\r\n  var name = propDescriptor.name,\r\n    types = ALLOWED_TYPES[name.replace(/activiti:/, \"\")];\r\n\r\n  return name === propName && anyType(newElement, types);\r\n}\r\n\r\nfunction ActivitiModdleExtension(eventBus) {\r\n  eventBus.on(\r\n    \"property.clone\",\r\n    function(context) {\r\n      var newElement = context.newElement,\r\n        propDescriptor = context.propertyDescriptor;\r\n\r\n      this.canCloneProperty(newElement, propDescriptor);\r\n    },\r\n    this\r\n  );\r\n}\r\n\r\nActivitiModdleExtension.$inject = [\"eventBus\"];\r\n\r\nActivitiModdleExtension.prototype.canCloneProperty = function(newElement, propDescriptor) {\r\n  if (isAllowed(\"activiti:FailedJobRetryTimeCycle\", propDescriptor, newElement)) {\r\n    return (\r\n      includesType(newElement.eventDefinitions, \"bpmn:TimerEventDefinition\") ||\r\n      includesType(newElement.eventDefinitions, \"bpmn:SignalEventDefinition\") ||\r\n      is(newElement.loopCharacteristics, \"bpmn:MultiInstanceLoopCharacteristics\")\r\n    );\r\n  }\r\n\r\n  if (isAllowed(\"activiti:Connector\", propDescriptor, newElement)) {\r\n    return includesType(newElement.eventDefinitions, \"bpmn:MessageEventDefinition\");\r\n  }\r\n\r\n  if (isAllowed(\"activiti:Field\", propDescriptor, newElement)) {\r\n    return includesType(newElement.eventDefinitions, \"bpmn:MessageEventDefinition\");\r\n  }\r\n};\r\n\r\nmodule.exports = ActivitiModdleExtension;\r\n","\"use strict\";\r\n\r\nvar isFunction = require(\"min-dash\").isFunction,\r\n  isObject = require(\"min-dash\").isObject,\r\n  some = require(\"min-dash\").some;\r\n\r\nvar WILDCARD = \"*\";\r\n\r\nfunction CamundaModdleExtension(eventBus) {\r\n  var self = this;\r\n\r\n  eventBus.on(\"moddleCopy.canCopyProperty\", function(context) {\r\n    var property = context.property,\r\n      parent = context.parent;\r\n\r\n    return self.canCopyProperty(property, parent);\r\n  });\r\n}\r\n\r\nCamundaModdleExtension.$inject = [\"eventBus\"];\r\n\r\n/**\r\n * Check wether to disallow copying property.\r\n */\r\nCamundaModdleExtension.prototype.canCopyProperty = function(property, parent) {\r\n  // (1) check wether property is allowed in parent\r\n  if (isObject(property) && !isAllowedInParent(property, parent)) {\r\n    return false;\r\n  }\r\n\r\n  // (2) check more complex scenarios\r\n\r\n  if (is(property, \"camunda:InputOutput\") && !this.canHostInputOutput(parent)) {\r\n    return false;\r\n  }\r\n\r\n  if (isAny(property, [\"camunda:Connector\", \"camunda:Field\"]) && !this.canHostConnector(parent)) {\r\n    return false;\r\n  }\r\n\r\n  if (is(property, \"camunda:In\") && !this.canHostIn(parent)) {\r\n    return false;\r\n  }\r\n};\r\n\r\nCamundaModdleExtension.prototype.canHostInputOutput = function(parent) {\r\n  // allowed in camunda:Connector\r\n  var connector = getParent(parent, \"camunda:Connector\");\r\n\r\n  if (connector) {\r\n    return true;\r\n  }\r\n\r\n  // special rules inside bpmn:FlowNode\r\n  var flowNode = getParent(parent, \"bpmn:FlowNode\");\r\n\r\n  if (!flowNode) {\r\n    return false;\r\n  }\r\n\r\n  if (isAny(flowNode, [\"bpmn:StartEvent\", \"bpmn:Gateway\", \"bpmn:BoundaryEvent\"])) {\r\n    return false;\r\n  }\r\n\r\n  if (is(flowNode, \"bpmn:SubProcess\") && flowNode.get(\"triggeredByEvent\")) {\r\n    return false;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nCamundaModdleExtension.prototype.canHostConnector = function(parent) {\r\n  var serviceTaskLike = getParent(parent, \"camunda:ServiceTaskLike\");\r\n\r\n  if (is(serviceTaskLike, \"bpmn:MessageEventDefinition\")) {\r\n    // only allow on throw and end events\r\n    return getParent(parent, \"bpmn:IntermediateThrowEvent\") || getParent(parent, \"bpmn:EndEvent\");\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nCamundaModdleExtension.prototype.canHostIn = function(parent) {\r\n  var callActivity = getParent(parent, \"bpmn:CallActivity\");\r\n\r\n  if (callActivity) {\r\n    return true;\r\n  }\r\n\r\n  var signalEventDefinition = getParent(parent, \"bpmn:SignalEventDefinition\");\r\n\r\n  if (signalEventDefinition) {\r\n    // only allow on throw and end events\r\n    return getParent(parent, \"bpmn:IntermediateThrowEvent\") || getParent(parent, \"bpmn:EndEvent\");\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nmodule.exports = CamundaModdleExtension;\r\n\r\n// helpers //////////\r\n\r\nfunction is(element, type) {\r\n  return element && isFunction(element.$instanceOf) && element.$instanceOf(type);\r\n}\r\n\r\nfunction isAny(element, types) {\r\n  return some(types, function(t) {\r\n    return is(element, t);\r\n  });\r\n}\r\n\r\nfunction getParent(element, type) {\r\n  if (!type) {\r\n    return element.$parent;\r\n  }\r\n\r\n  if (is(element, type)) {\r\n    return element;\r\n  }\r\n\r\n  if (!element.$parent) {\r\n    return;\r\n  }\r\n\r\n  return getParent(element.$parent, type);\r\n}\r\n\r\nfunction isAllowedInParent(property, parent) {\r\n  // (1) find property descriptor\r\n  var descriptor = property.$type && property.$model.getTypeDescriptor(property.$type);\r\n\r\n  var allowedIn = descriptor && descriptor.meta && descriptor.meta.allowedIn;\r\n\r\n  if (!allowedIn || isWildcard(allowedIn)) {\r\n    return true;\r\n  }\r\n\r\n  // (2) check wether property has parent of allowed type\r\n  return some(allowedIn, function(type) {\r\n    return getParent(parent, type);\r\n  });\r\n}\r\n\r\nfunction isWildcard(allowedIn) {\r\n  return allowedIn.indexOf(WILDCARD) !== -1;\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('my-process-designer',{attrs:{\"additional-model\":_vm.labelEditing,\"process-type\":\"camunda\"},on:{\"element-click\":_vm.elementClick,\"init-finished\":_vm.initModeler}}),_c('process-panel',{staticClass:\"process-panel\",attrs:{\"bpmn-modeler\":_vm.modeler,\"prefix\":\"camunda\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\r\n * This is a sample file that should be replaced with the actual translation.\r\n *\r\n * Checkout https://github.com/bpmn-io/bpmn-js-i18n for a list of available\r\n * translations and labels to translate.\r\n */\r\nexport default {\r\n  \"Exclusive Gateway\": \"Exklusives Gateway\",\r\n  \"Parallel Gateway\": \"Paralleles Gateway\",\r\n  \"Inclusive Gateway\": \"Inklusives Gateway\",\r\n  \"Complex Gateway\": \"Komplexes Gateway\",\r\n  \"Event based Gateway\": \"Ereignis-basiertes Gateway\",\r\n  \"Message Start Event\": \"消息启动事件\",\r\n  \"Timer Start Event\": \"定时启动事件\",\r\n  \"Conditional Start Event\": \"条件启动事件\",\r\n  \"Signal Start Event\": \"信号启动事件\",\r\n  \"Error Start Event\": \"错误启动事件\",\r\n  \"Escalation Start Event\": \"升级启动事件\",\r\n  \"Compensation Start Event\": \"补偿启动事件\",\r\n  \"Message Start Event (non-interrupting)\": \"消息启动事件 (非中断)\",\r\n  \"Timer Start Event (non-interrupting)\": \"定时启动事件 (非中断)\",\r\n  \"Conditional Start Event (non-interrupting)\": \"条件启动事件 (非中断)\",\r\n  \"Signal Start Event (non-interrupting)\": \"信号启动事件 (非中断)\",\r\n  \"Escalation Start Event (non-interrupting)\": \"升级启动事件 (非中断)\"\r\n};\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"process-panel__container\",style:(_vm.panelStyle)},[_c('el-collapse',{model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_c('el-collapse-item',{attrs:{\"name\":\"base\"}},[_c('div',{staticClass:\"panel-tab__title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('i',{staticClass:\"el-icon-info\"}),_vm._v(\"常规\")]),_c('div',{staticClass:\"panel-tab__content\"},[_c('div',{staticClass:\"element-property input-property\"},[_c('div',{staticClass:\"element-property__label\"},[_vm._v(\"ID\")]),_c('div',{staticClass:\"element-property__value\"},[_c('el-input',{attrs:{\"size\":\"small\",\"disabled\":_vm.idEditDisabled,\"clearable\":\"\"},on:{\"change\":function($event){return _vm.updateBaseInfo('id', $event)}},nativeOn:{\"keyup\":function($event){return _vm.updateBaseInfo('id', _vm.element.id)}},model:{value:(_vm.element.id),callback:function ($$v) {_vm.$set(_vm.element, \"id\", $$v)},expression:\"element.id\"}})],1)]),_c('div',{staticClass:\"element-property input-property\"},[_c('div',{staticClass:\"element-property__label\"},[_vm._v(\"名称\")]),_c('div',{staticClass:\"element-property__value\"},[_c('el-input',{attrs:{\"size\":\"small\",\"clearable\":\"\"},on:{\"change\":function($event){return _vm.updateBaseInfo('name', $event)}},nativeOn:{\"keyup\":function($event){return _vm.updateBaseInfo('name', _vm.element.name)}},model:{value:(_vm.element.name),callback:function ($$v) {_vm.$set(_vm.element, \"name\", $$v)},expression:\"element.name\"}})],1)]),(_vm.elementType === 'bpmn:Process')?[_c('div',{staticClass:\"element-property input-property\"},[_c('div',{staticClass:\"element-property__label\"},[_vm._v(\"版本标签\")]),_c('div',{staticClass:\"element-property__value\"},[_c('el-input',{attrs:{\"size\":\"small\",\"clearable\":\"\"},on:{\"change\":function($event){return _vm.updateBaseInfo('versionTag', $event)}},nativeOn:{\"keyup\":function($event){return _vm.updateBaseInfo('versionTag', _vm.element.versionTag)}},model:{value:(_vm.element.versionTag),callback:function ($$v) {_vm.$set(_vm.element, \"versionTag\", $$v)},expression:\"element.versionTag\"}})],1)]),_c('div',{staticClass:\"element-property input-property\"},[_c('div',{staticClass:\"element-property__label\"},[_vm._v(\"可执行\")]),_c('div',{staticClass:\"element-property__value\"},[_c('el-switch',{attrs:{\"active-text\":\"是\",\"inactive-text\":\"否\"},on:{\"change\":function($event){return _vm.updateBaseInfo('isExecutable', $event)}},model:{value:(_vm.element.isExecutable),callback:function ($$v) {_vm.$set(_vm.element, \"isExecutable\", $$v)},expression:\"element.isExecutable\"}})],1)])]:_vm._e(),(_vm.flowTypeViewable)?_c('condition-config',_vm._b({attrs:{\"conditions\":_vm.condition,\"element-id\":_vm.elementId}},'condition-config',_vm.$props,false)):_vm._e()],2)]),_c('el-collapse-item',{attrs:{\"name\":\"listeners\"}},[_c('div',{staticClass:\"panel-tab__title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('i',{staticClass:\"el-icon-message-solid\"}),_vm._v(\"监听器\")]),_c('element-listener',_vm._b({attrs:{\"element-id\":_vm.elementId,\"listeners\":_vm.elementListeners},on:{\"change\":_vm.updateElementListener}},'element-listener',_vm.$props,false))],1),_c('el-collapse-item',{attrs:{\"name\":\"extensions\"}},[_c('div',{staticClass:\"panel-tab__title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('i',{staticClass:\"el-icon-circle-plus\"}),_vm._v(\"扩展属性\")]),_c('element-attributes',_vm._b({attrs:{\"element-id\":_vm.elementId,\"attributes\":_vm.elementAttributes}},'element-attributes',_vm.$props,false))],1),_c('el-collapse-item',{attrs:{\"name\":\"other\"}},[_c('div',{staticClass:\"panel-tab__title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('i',{staticClass:\"el-icon-s-promotion\"}),_vm._v(\"其他\")]),_c('div',{staticClass:\"panel-tab__content\"},[_c('div',{staticClass:\"element-property input-property\"},[_c('div',{staticClass:\"element-property__label\"},[_vm._v(\"元素文档\")]),_c('div',{staticClass:\"element-property__value\"},[_c('el-input',{attrs:{\"type\":\"textarea\",\"size\":\"small\",\"resize\":\"vertical\",\"autosize\":{ minRows: 2, maxRows: 4 }},on:{\"input\":_vm.updateDocumentation,\"blur\":_vm.updateDocumentation},model:{value:(_vm.documentation),callback:function ($$v) {_vm.documentation=$$v},expression:\"documentation\"}})],1)])])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export function debounce(fn, wait) {\r\n  let timeout = null;\r\n  return function() {\r\n    if (timeout !== null) clearTimeout(timeout);\r\n    console.log(fn, wait);\r\n    timeout = setTimeout(fn, wait);\r\n  };\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"element-property input-property\"},[_c('div',{staticClass:\"element-property__label\"},[_vm._v(\"流转类型\")]),_c('div',{staticClass:\"element-property__value\"},[_c('el-select',{attrs:{\"size\":\"small\"},on:{\"change\":_vm.updateFlowType},model:{value:(_vm.condition.type),callback:function ($$v) {_vm.$set(_vm.condition, \"type\", $$v)},expression:\"condition.type\"}},[_c('el-option',{attrs:{\"label\":\"普通流转路径\",\"value\":\"normal\"}}),_c('el-option',{attrs:{\"label\":\"默认流转路径\",\"value\":\"default\"}}),_c('el-option',{attrs:{\"label\":\"条件流转路径\",\"value\":\"condition\"}})],1)],1)]),(_vm.condition.type === 'condition')?_c('div',{staticClass:\"element-property input-property\"},[_c('div',{staticClass:\"element-property__label\"},[_vm._v(\"条件格式\")]),_c('div',{staticClass:\"element-property__value\"},[_c('el-select',{attrs:{\"size\":\"small\"},on:{\"change\":_vm.changeFlowConditionType},model:{value:(_vm.condition.conditionType),callback:function ($$v) {_vm.$set(_vm.condition, \"conditionType\", $$v)},expression:\"condition.conditionType\"}},[_c('el-option',{attrs:{\"label\":\"表达式\",\"value\":\"expression\"}}),_c('el-option',{attrs:{\"label\":\"脚本\",\"value\":\"script\"}})],1)],1)]):_vm._e(),(_vm.condition.conditionType === 'expression')?_c('div',{staticClass:\"element-property input-property\"},[_c('div',{staticClass:\"element-property__label\"},[_vm._v(\"表达式\")]),_c('div',{staticClass:\"element-property__value\"},[_c('el-input',{attrs:{\"size\":\"small\",\"clearable\":\"\"},on:{\"change\":_vm.updateFlowCondition},model:{value:(_vm.condition.body),callback:function ($$v) {_vm.$set(_vm.condition, \"body\", $$v)},expression:\"condition.body\"}})],1)]):_vm._e(),(_vm.condition.conditionType === 'script')?[_c('div',{staticClass:\"element-property input-property\"},[_c('div',{staticClass:\"element-property__label\"},[_vm._v(\"脚本格式\")]),_c('div',{staticClass:\"element-property__value\"},[_c('el-input',{attrs:{\"size\":\"small\",\"clearable\":\"\"},on:{\"change\":_vm.updateFlowCondition},model:{value:(_vm.condition.language),callback:function ($$v) {_vm.$set(_vm.condition, \"language\", $$v)},expression:\"condition.language\"}})],1)]),_c('div',{staticClass:\"element-property input-property\"},[_c('div',{staticClass:\"element-property__label\"},[_vm._v(\"脚本类型\")]),_c('div',{staticClass:\"element-property__value\"},[_c('el-select',{attrs:{\"size\":\"small\"},on:{\"change\":_vm.updateFlowCondition},model:{value:(_vm.condition.scriptType),callback:function ($$v) {_vm.$set(_vm.condition, \"scriptType\", $$v)},expression:\"condition.scriptType\"}},[_c('el-option',{attrs:{\"label\":\"内联脚本\",\"value\":\"inlineScript\"}}),_c('el-option',{attrs:{\"label\":\"外部脚本\",\"value\":\"externalScript\"}})],1)],1)]),(_vm.condition.scriptType === 'inlineScript')?_c('div',{staticClass:\"element-property input-property\"},[_c('div',{staticClass:\"element-property__label\"},[_vm._v(\"脚本\")]),_c('div',{staticClass:\"element-property__value\"},[_c('el-input',{attrs:{\"size\":\"small\",\"type\":\"textarea\",\"clearable\":\"\"},on:{\"change\":_vm.updateFlowCondition},model:{value:(_vm.condition.body),callback:function ($$v) {_vm.$set(_vm.condition, \"body\", $$v)},expression:\"condition.body\"}})],1)]):_vm._e(),(_vm.condition.scriptType === 'externalScript')?_c('div',{staticClass:\"element-property input-property\"},[_c('div',{staticClass:\"element-property__label\"},[_vm._v(\"资源地址\")]),_c('div',{staticClass:\"element-property__value\"},[_c('el-input',{attrs:{\"size\":\"small\",\"clearable\":\"\"},on:{\"change\":_vm.updateFlowCondition},model:{value:(_vm.condition.resource),callback:function ($$v) {_vm.$set(_vm.condition, \"resource\", $$v)},expression:\"condition.resource\"}})],1)]):_vm._e()]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=\"element-property input-property\">\r\n      <div class=\"element-property__label\">流转类型</div>\r\n      <div class=\"element-property__value\">\r\n        <el-select v-model=\"condition.type\" size=\"small\" @change=\"updateFlowType\">\r\n          <el-option label=\"普通流转路径\" value=\"normal\" />\r\n          <el-option label=\"默认流转路径\" value=\"default\" />\r\n          <el-option label=\"条件流转路径\" value=\"condition\" />\r\n        </el-select>\r\n      </div>\r\n    </div>\r\n    <div class=\"element-property input-property\" v-if=\"condition.type === 'condition'\">\r\n      <div class=\"element-property__label\">条件格式</div>\r\n      <div class=\"element-property__value\">\r\n        <el-select v-model=\"condition.conditionType\" size=\"small\" @change=\"changeFlowConditionType\">\r\n          <el-option label=\"表达式\" value=\"expression\" />\r\n          <el-option label=\"脚本\" value=\"script\" />\r\n        </el-select>\r\n      </div>\r\n    </div>\r\n    <div class=\"element-property input-property\" v-if=\"condition.conditionType === 'expression'\">\r\n      <div class=\"element-property__label\">表达式</div>\r\n      <div class=\"element-property__value\">\r\n        <el-input v-model=\"condition.body\" size=\"small\" clearable @change=\"updateFlowCondition\" />\r\n      </div>\r\n    </div>\r\n    <template v-if=\"condition.conditionType === 'script'\">\r\n      <div class=\"element-property input-property\">\r\n        <div class=\"element-property__label\">脚本格式</div>\r\n        <div class=\"element-property__value\">\r\n          <el-input v-model=\"condition.language\" size=\"small\" clearable @change=\"updateFlowCondition\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"element-property input-property\">\r\n        <div class=\"element-property__label\">脚本类型</div>\r\n        <div class=\"element-property__value\">\r\n          <el-select v-model=\"condition.scriptType\" size=\"small\" @change=\"updateFlowCondition\">\r\n            <el-option label=\"内联脚本\" value=\"inlineScript\" />\r\n            <el-option label=\"外部脚本\" value=\"externalScript\" />\r\n          </el-select>\r\n        </div>\r\n      </div>\r\n      <div class=\"element-property input-property\" v-if=\"condition.scriptType === 'inlineScript'\">\r\n        <div class=\"element-property__label\">脚本</div>\r\n        <div class=\"element-property__value\">\r\n          <el-input v-model=\"condition.body\" size=\"small\" type=\"textarea\" clearable @change=\"updateFlowCondition\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"element-property input-property\" v-if=\"condition.scriptType === 'externalScript'\">\r\n        <div class=\"element-property__label\">资源地址</div>\r\n        <div class=\"element-property__value\">\r\n          <el-input v-model=\"condition.resource\" size=\"small\" clearable @change=\"updateFlowCondition\" />\r\n        </div>\r\n      </div>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"ConditionConfig\",\r\n  props: {\r\n    bpmnModeler: Object,\r\n    conditions: Object,\r\n    elementId: String\r\n  },\r\n  data() {\r\n    return {\r\n      condition: {}\r\n    };\r\n  },\r\n  watch: {\r\n    conditions: {\r\n      deep: true,\r\n      immediate: true,\r\n      handler: function() {\r\n        if (this.conditions && Object.keys(this.conditions).length) {\r\n          this.initConditionForm(this.conditions);\r\n        }\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    if (!this.bpmnModeler) return;\r\n    this.modeling = this.bpmnModeler.get(\"modeling\");\r\n    this.moddle = this.bpmnModeler.get(\"moddle\");\r\n    this.elementRegistry = this.bpmnModeler.get(\"elementRegistry\");\r\n  },\r\n  methods: {\r\n    initConditionForm(conditions) {\r\n      let conditionType = conditions.language ? \"script\" : \"expression\";\r\n      let scriptType = conditions.resource ? \"externalScript\" : \"inlineScript\";\r\n      this.condition = {\r\n        ...conditions,\r\n        conditionType: conditions.type === \"condition\" ? conditionType : undefined,\r\n        scriptType: conditions.type === \"condition\" ? scriptType : undefined,\r\n        resource: conditions.resource\r\n      };\r\n    },\r\n    // 更新连线类型\r\n    updateFlowType(type) {\r\n      const line = this.elementRegistry.get(this.elementId);\r\n      const sourceShape = this.elementRegistry.get(line.businessObject.sourceRef.id);\r\n      setTimeout(() => {\r\n        if (type === \"normal\") {\r\n          // delete sourceShape.businessObject.default;\r\n          if (sourceShape.businessObject.default && sourceShape.businessObject.default.id === line.id) {\r\n            this.modeling.updateProperties(sourceShape, { default: null });\r\n            // delete sourceShape.businessObject.default;\r\n          }\r\n          this.modeling.updateProperties(line, { conditionExpression: null });\r\n          delete line.businessObject.conditionExpression;\r\n        }\r\n        if (type === \"default\") {\r\n          this.modeling.updateProperties(sourceShape, { default: line });\r\n          delete line.businessObject.conditionExpression;\r\n        }\r\n        if (type === \"condition\") {\r\n          this.modeling.updateProperties(line, { conditionExpression: this.moddle.create(\"bpmn:FormalExpression\") });\r\n        }\r\n        this.initConditionForm({ type: type });\r\n      });\r\n    },\r\n    changeFlowConditionType(type) {\r\n      this.$set(this.condition, \"body\", \"\");\r\n      if (type === \"expression\") {\r\n        this.$set(this.condition, \"language\", undefined);\r\n        this.$set(this.condition, \"resource\", undefined);\r\n      }\r\n      const line = this.elementRegistry.get(this.elementId);\r\n      this.modeling.updateProperties(line, {\r\n        conditionExpression: this.moddle.create(\"bpmn:FormalExpression\", { body: \"\" })\r\n      });\r\n    },\r\n    updateFlowCondition() {\r\n      let { conditionType, scriptType, body, resource, language } = this.condition;\r\n      let condition;\r\n      const line = this.elementRegistry.get(this.elementId);\r\n      if (conditionType === \"expression\") {\r\n        condition = this.moddle.create(\"bpmn:FormalExpression\", { body });\r\n      } else {\r\n        if (scriptType === \"inlineScript\") {\r\n          this.$set(this.condition, \"resource\", undefined);\r\n        } else {\r\n          this.$set(this.condition, \"body\", undefined);\r\n        }\r\n        condition = this.moddle.create(\"bpmn:FormalExpression\", { body, resource, language });\r\n      }\r\n      this.modeling.updateProperties(line, { conditionExpression: condition });\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConditionConfig.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConditionConfig.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ConditionConfig.vue?vue&type=template&id=e7410b4e&\"\nimport script from \"./ConditionConfig.vue?vue&type=script&lang=js&\"\nexport * from \"./ConditionConfig.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"panel-tab__content\"},[_c('div',{staticClass:\"element-property list-property\"},[_c('el-table',{attrs:{\"data\":_vm.ownerListenersList,\"size\":\"mini\",\"border\":\"\",\"fit\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"序号\",\"width\":\"50px\",\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"label\":\"事件类型\",\"min-width\":\"100px\",\"prop\":\"event\"}}),_c('el-table-column',{attrs:{\"label\":\"监听器类型\",\"min-width\":\"100px\",\"show-overflow-tooltip\":\"\",\"formatter\":function (row) { return _vm.listenerTypeObject[row.listenerType]; }}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"100px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nvar $index = ref.$index;\nreturn [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.openListenerForm(row, $index)}}},[_vm._v(\"编辑\")]),_c('el-divider',{attrs:{\"direction\":\"vertical\"}}),_c('el-button',{staticStyle:{\"color\":\"#ff4d4f\"},attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.removeListener(row, $index)}}},[_vm._v(\"移除\")])]}}])})],1)],1),_c('div',{staticClass:\"element-listener-add__button\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){return _vm.openListenerForm(null)}}},[_vm._v(\"添加监听器\")])],1),_c('el-drawer',{attrs:{\"visible\":_vm.showListenerForm,\"title\":\"事件监听器\",\"size\":((this.width) + \"px\"),\"append-to-body\":\"\"},on:{\"update:visible\":function($event){_vm.showListenerForm=$event}}},[_c('el-form',{ref:\"listenerFormRef\",attrs:{\"size\":\"small\",\"model\":_vm.listenerForm,\"label-width\":\"96px\"}},[_c('el-form-item',{attrs:{\"label\":\"事件类型\",\"prop\":\"event\",\"rules\":{ required: true, trigger: ['blur', 'change'] }}},[_c('el-select',{model:{value:(_vm.listenerForm.event),callback:function ($$v) {_vm.$set(_vm.listenerForm, \"event\", $$v)},expression:\"listenerForm.event\"}},[_c('el-option',{attrs:{\"label\":\"start\",\"value\":\"start\"}}),_c('el-option',{attrs:{\"label\":\"end\",\"value\":\"end\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"监听器类型\",\"prop\":\"listenerType\",\"rules\":{ required: true, trigger: ['blur', 'change'] }}},[_c('el-select',{model:{value:(_vm.listenerForm.listenerType),callback:function ($$v) {_vm.$set(_vm.listenerForm, \"listenerType\", $$v)},expression:\"listenerForm.listenerType\"}},_vm._l((Object.keys(_vm.listenerTypeObject)),function(i){return _c('el-option',{key:i,attrs:{\"label\":_vm.listenerTypeObject[i],\"value\":i}})}),1)],1),(_vm.listenerForm.listenerType === 'classListener')?_c('el-form-item',{key:\"listener-class\",attrs:{\"label\":\"Java类\",\"prop\":\"class\",\"rules\":{ required: true, trigger: ['blur', 'change'] }}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.listenerForm.class),callback:function ($$v) {_vm.$set(_vm.listenerForm, \"class\", $$v)},expression:\"listenerForm.class\"}})],1):_vm._e(),(_vm.listenerForm.listenerType === 'expressionListener')?_c('el-form-item',{key:\"listener-expression\",attrs:{\"label\":\"表达式\",\"prop\":\"expression\",\"rules\":{ required: true, trigger: ['blur', 'change'] }}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.listenerForm.expression),callback:function ($$v) {_vm.$set(_vm.listenerForm, \"expression\", $$v)},expression:\"listenerForm.expression\"}})],1):_vm._e(),(_vm.listenerForm.listenerType === 'delegateExpressionListener')?_c('el-form-item',{key:\"listener-delegate\",attrs:{\"label\":\"代理表达式\",\"prop\":\"delegateExpression\",\"rules\":{ required: true, trigger: ['blur', 'change'] }}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.listenerForm.delegateExpression),callback:function ($$v) {_vm.$set(_vm.listenerForm, \"delegateExpression\", $$v)},expression:\"listenerForm.delegateExpression\"}})],1):_vm._e(),(_vm.listenerForm.listenerType === 'scriptListener')?[_c('el-form-item',{key:\"listener-script-format\",attrs:{\"label\":\"脚本格式\",\"prop\":\"scriptFormat\",\"rules\":{ required: true, trigger: ['blur', 'change'] }}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.listenerForm.script.scriptFormat),callback:function ($$v) {_vm.$set(_vm.listenerForm.script, \"scriptFormat\", $$v)},expression:\"listenerForm.script.scriptFormat\"}})],1),_c('el-form-item',{key:\"listener-script-type\",attrs:{\"label\":\"脚本类型\",\"prop\":\"script.scriptType\",\"rules\":{ required: true, trigger: ['blur', 'change'] }}},[_c('el-select',{model:{value:(_vm.listenerForm.script.scriptType),callback:function ($$v) {_vm.$set(_vm.listenerForm.script, \"scriptType\", $$v)},expression:\"listenerForm.script.scriptType\"}},[_c('el-option',{attrs:{\"label\":\"内联脚本\",\"value\":\"inlineScript\"}}),_c('el-option',{attrs:{\"label\":\"外部脚本\",\"value\":\"externalScript\"}})],1)],1),(_vm.listenerForm.script.scriptType === 'inlineScript')?_c('el-form-item',{key:\"listener-script\",attrs:{\"label\":\"脚本内容\",\"prop\":\"script.value\",\"rules\":{ required: true, trigger: ['blur', 'change'] }}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.listenerForm.script.value),callback:function ($$v) {_vm.$set(_vm.listenerForm.script, \"value\", $$v)},expression:\"listenerForm.script.value\"}})],1):_vm._e(),(_vm.listenerForm.script.scriptType === 'externalScript')?_c('el-form-item',{key:\"listener-resource\",attrs:{\"label\":\"资源地址\",\"prop\":\"script.resource\",\"rules\":{ required: true, trigger: ['blur', 'change'] }}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.listenerForm.script.resource),callback:function ($$v) {_vm.$set(_vm.listenerForm.script, \"resource\", $$v)},expression:\"listenerForm.script.resource\"}})],1):_vm._e()]:_vm._e()],2),_c('el-divider'),_c('p',{staticClass:\"listener-filed__title\"},[_c('span',[_c('i',{staticClass:\"el-icon-menu\"}),_vm._v(\"注入字段：\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.openListenerFieldForm(null)}}},[_vm._v(\"添加字段\")])],1),_c('el-table',{staticStyle:{\"flex\":\"none\"},attrs:{\"data\":_vm.fieldsOfListener,\"size\":\"mini\",\"border\":\"\",\"fit\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"序号\",\"width\":\"50px\",\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"label\":\"字段名称\",\"min-width\":\"100px\",\"prop\":\"name\"}}),_c('el-table-column',{attrs:{\"label\":\"字段类型\",\"min-width\":\"80px\",\"show-overflow-tooltip\":\"\",\"formatter\":function (row) { return _vm.fieldTypeObject[row.fieldType]; }}}),_c('el-table-column',{attrs:{\"label\":\"字段值/表达式\",\"min-width\":\"100px\",\"show-overflow-tooltip\":\"\",\"formatter\":function (row) { return row.string || row.expression; }}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"100px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nvar $index = ref.$index;\nreturn [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.openListenerFieldForm(row, $index)}}},[_vm._v(\"编辑\")]),_c('el-divider',{attrs:{\"direction\":\"vertical\"}}),_c('el-button',{staticStyle:{\"color\":\"#ff4d4f\"},attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.removeListenerField(row, $index)}}},[_vm._v(\"移除\")])]}}])})],1),_c('div',{staticClass:\"listener-form-slider\",staticStyle:{\"flex\":\"1\"}}),_c('div',{staticClass:\"element-listener-add__button\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.handleCancel}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.saveListenerConfig}},[_vm._v(\"保 存\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"字段配置\",\"visible\":_vm.showListenerFieldForm,\"width\":\"600px\",\"append-to-body\":\"\",\"destroy-on-close\":\"\"},on:{\"update:visible\":function($event){_vm.showListenerFieldForm=$event}}},[_c('el-form',{ref:\"listenerFieldFormRef\",attrs:{\"model\":_vm.listenerFieldForm,\"size\":\"small\",\"label-width\":\"96px\"}},[_c('el-form-item',{attrs:{\"label\":\"字段名称：\",\"prop\":\"name\",\"rules\":{ required: true, trigger: ['blur', 'change'] }}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.listenerFieldForm.name),callback:function ($$v) {_vm.$set(_vm.listenerFieldForm, \"name\", $$v)},expression:\"listenerFieldForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"字段类型：\",\"prop\":\"fieldType\",\"rules\":{ required: true, trigger: ['blur', 'change'] }}},[_c('el-select',{model:{value:(_vm.listenerFieldForm.fieldType),callback:function ($$v) {_vm.$set(_vm.listenerFieldForm, \"fieldType\", $$v)},expression:\"listenerFieldForm.fieldType\"}},_vm._l((Object.keys(_vm.fieldTypeObject)),function(i){return _c('el-option',{key:i,attrs:{\"label\":_vm.fieldTypeObject[i],\"value\":i}})}),1)],1),(_vm.listenerFieldForm.fieldType === 'string')?_c('el-form-item',{key:\"field-string\",attrs:{\"label\":\"字段值：\",\"prop\":\"string\",\"rules\":{ required: true, trigger: ['blur', 'change'] }}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.listenerFieldForm.string),callback:function ($$v) {_vm.$set(_vm.listenerFieldForm, \"string\", $$v)},expression:\"listenerFieldForm.string\"}})],1):_vm._e(),(_vm.listenerFieldForm.fieldType === 'expression')?_c('el-form-item',{key:\"field-expression\",attrs:{\"label\":\"表达式：\",\"prop\":\"expression\",\"rules\":{ required: true, trigger: ['blur', 'change'] }}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.listenerFieldForm.expression),callback:function ($$v) {_vm.$set(_vm.listenerFieldForm, \"expression\", $$v)},expression:\"listenerFieldForm.expression\"}})],1):_vm._e()],1),_c('template',{slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.showListenerFieldForm = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.saveListenerFiled}},[_vm._v(\"确 定\")])],1)],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"panel-tab__content\">\r\n    <div class=\"element-property list-property\">\r\n      <el-table :data=\"ownerListenersList\" size=\"mini\" border fit>\r\n        <el-table-column label=\"序号\" width=\"50px\" type=\"index\" />\r\n        <el-table-column label=\"事件类型\" min-width=\"100px\" prop=\"event\" />\r\n        <el-table-column\r\n          label=\"监听器类型\"\r\n          min-width=\"100px\"\r\n          show-overflow-tooltip\r\n          :formatter=\"row => listenerTypeObject[row.listenerType]\"\r\n        />\r\n        <el-table-column label=\"操作\" width=\"100px\">\r\n          <template slot-scope=\"{ row, $index }\">\r\n            <el-button size=\"mini\" type=\"text\" @click=\"openListenerForm(row, $index)\">编辑</el-button>\r\n            <el-divider direction=\"vertical\" />\r\n            <el-button size=\"mini\" type=\"text\" style=\"color: #ff4d4f\" @click=\"removeListener(row, $index)\">移除</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n    <div class=\"element-listener-add__button\">\r\n      <el-button size=\"small\" type=\"primary\" icon=\"el-icon-plus\" @click=\"openListenerForm(null)\">添加监听器</el-button>\r\n    </div>\r\n\r\n    <el-drawer :visible.sync=\"showListenerForm\" title=\"事件监听器\" :size=\"`${this.width}px`\" append-to-body>\r\n      <el-form size=\"small\" :model=\"listenerForm\" label-width=\"96px\" ref=\"listenerFormRef\">\r\n        <el-form-item label=\"事件类型\" prop=\"event\" :rules=\"{ required: true, trigger: ['blur', 'change'] }\">\r\n          <el-select v-model=\"listenerForm.event\">\r\n            <el-option label=\"start\" value=\"start\" />\r\n            <el-option label=\"end\" value=\"end\" />\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"监听器类型\" prop=\"listenerType\" :rules=\"{ required: true, trigger: ['blur', 'change'] }\">\r\n          <el-select v-model=\"listenerForm.listenerType\">\r\n            <el-option v-for=\"i in Object.keys(listenerTypeObject)\" :key=\"i\" :label=\"listenerTypeObject[i]\" :value=\"i\" />\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item\r\n          label=\"Java类\"\r\n          prop=\"class\"\r\n          v-if=\"listenerForm.listenerType === 'classListener'\"\r\n          key=\"listener-class\"\r\n          :rules=\"{ required: true, trigger: ['blur', 'change'] }\"\r\n        >\r\n          <el-input v-model=\"listenerForm.class\" clearable />\r\n        </el-form-item>\r\n        <el-form-item\r\n          label=\"表达式\"\r\n          prop=\"expression\"\r\n          v-if=\"listenerForm.listenerType === 'expressionListener'\"\r\n          key=\"listener-expression\"\r\n          :rules=\"{ required: true, trigger: ['blur', 'change'] }\"\r\n        >\r\n          <el-input v-model=\"listenerForm.expression\" clearable />\r\n        </el-form-item>\r\n        <el-form-item\r\n          label=\"代理表达式\"\r\n          prop=\"delegateExpression\"\r\n          v-if=\"listenerForm.listenerType === 'delegateExpressionListener'\"\r\n          key=\"listener-delegate\"\r\n          :rules=\"{ required: true, trigger: ['blur', 'change'] }\"\r\n        >\r\n          <el-input v-model=\"listenerForm.delegateExpression\" clearable />\r\n        </el-form-item>\r\n        <template v-if=\"listenerForm.listenerType === 'scriptListener'\">\r\n          <el-form-item\r\n            label=\"脚本格式\"\r\n            prop=\"scriptFormat\"\r\n            key=\"listener-script-format\"\r\n            :rules=\"{ required: true, trigger: ['blur', 'change'] }\"\r\n          >\r\n            <el-input v-model=\"listenerForm.script.scriptFormat\" clearable />\r\n          </el-form-item>\r\n          <el-form-item\r\n            label=\"脚本类型\"\r\n            prop=\"script.scriptType\"\r\n            key=\"listener-script-type\"\r\n            :rules=\"{ required: true, trigger: ['blur', 'change'] }\"\r\n          >\r\n            <el-select v-model=\"listenerForm.script.scriptType\">\r\n              <el-option label=\"内联脚本\" value=\"inlineScript\" />\r\n              <el-option label=\"外部脚本\" value=\"externalScript\" />\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item\r\n            label=\"脚本内容\"\r\n            prop=\"script.value\"\r\n            v-if=\"listenerForm.script.scriptType === 'inlineScript'\"\r\n            key=\"listener-script\"\r\n            :rules=\"{ required: true, trigger: ['blur', 'change'] }\"\r\n          >\r\n            <el-input v-model=\"listenerForm.script.value\" clearable />\r\n          </el-form-item>\r\n          <el-form-item\r\n            label=\"资源地址\"\r\n            prop=\"script.resource\"\r\n            v-if=\"listenerForm.script.scriptType === 'externalScript'\"\r\n            key=\"listener-resource\"\r\n            :rules=\"{ required: true, trigger: ['blur', 'change'] }\"\r\n          >\r\n            <el-input v-model=\"listenerForm.script.resource\" clearable />\r\n          </el-form-item>\r\n        </template>\r\n      </el-form>\r\n\r\n      <el-divider />\r\n      <p class=\"listener-filed__title\">\r\n        <span><i class=\"el-icon-menu\"></i>注入字段：</span>\r\n        <el-button size=\"mini\" type=\"primary\" @click=\"openListenerFieldForm(null)\">添加字段</el-button>\r\n      </p>\r\n      <el-table :data=\"fieldsOfListener\" size=\"mini\" border fit style=\"flex: none\">\r\n        <el-table-column label=\"序号\" width=\"50px\" type=\"index\" />\r\n        <el-table-column label=\"字段名称\" min-width=\"100px\" prop=\"name\" />\r\n        <el-table-column\r\n          label=\"字段类型\"\r\n          min-width=\"80px\"\r\n          show-overflow-tooltip\r\n          :formatter=\"row => fieldTypeObject[row.fieldType]\"\r\n        />\r\n        <el-table-column\r\n          label=\"字段值/表达式\"\r\n          min-width=\"100px\"\r\n          show-overflow-tooltip\r\n          :formatter=\"row => row.string || row.expression\"\r\n        />\r\n        <el-table-column label=\"操作\" width=\"100px\">\r\n          <template slot-scope=\"{ row, $index }\">\r\n            <el-button size=\"mini\" type=\"text\" @click=\"openListenerFieldForm(row, $index)\">编辑</el-button>\r\n            <el-divider direction=\"vertical\" />\r\n            <el-button size=\"mini\" type=\"text\" style=\"color: #ff4d4f\" @click=\"removeListenerField(row, $index)\">移除</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <div class=\"listener-form-slider\" style=\"flex: 1\"></div>\r\n      <div class=\"element-listener-add__button\">\r\n        <el-button size=\"small\" @click=\"handleCancel\">取 消</el-button>\r\n        <el-button size=\"small\" type=\"primary\" @click=\"saveListenerConfig\">保 存</el-button>\r\n      </div>\r\n    </el-drawer>\r\n\r\n    <el-dialog title=\"字段配置\" :visible.sync=\"showListenerFieldForm\" width=\"600px\" append-to-body destroy-on-close>\r\n      <el-form :model=\"listenerFieldForm\" size=\"small\" label-width=\"96px\" ref=\"listenerFieldFormRef\">\r\n        <el-form-item label=\"字段名称：\" prop=\"name\" :rules=\"{ required: true, trigger: ['blur', 'change'] }\">\r\n          <el-input v-model=\"listenerFieldForm.name\" clearable />\r\n        </el-form-item>\r\n        <el-form-item label=\"字段类型：\" prop=\"fieldType\" :rules=\"{ required: true, trigger: ['blur', 'change'] }\">\r\n          <el-select v-model=\"listenerFieldForm.fieldType\">\r\n            <el-option v-for=\"i in Object.keys(fieldTypeObject)\" :key=\"i\" :label=\"fieldTypeObject[i]\" :value=\"i\" />\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item\r\n          v-if=\"listenerFieldForm.fieldType === 'string'\"\r\n          label=\"字段值：\"\r\n          prop=\"string\"\r\n          key=\"field-string\"\r\n          :rules=\"{ required: true, trigger: ['blur', 'change'] }\"\r\n        >\r\n          <el-input v-model=\"listenerFieldForm.string\" clearable />\r\n        </el-form-item>\r\n        <el-form-item\r\n          v-if=\"listenerFieldForm.fieldType === 'expression'\"\r\n          label=\"表达式：\"\r\n          prop=\"expression\"\r\n          key=\"field-expression\"\r\n          :rules=\"{ required: true, trigger: ['blur', 'change'] }\"\r\n        >\r\n          <el-input v-model=\"listenerFieldForm.expression\" clearable />\r\n        </el-form-item>\r\n      </el-form>\r\n      <template slot=\"footer\">\r\n        <el-button size=\"mini\" @click=\"showListenerFieldForm = false\">取 消</el-button>\r\n        <el-button size=\"mini\" type=\"primary\" @click=\"saveListenerFiled\">确 定</el-button>\r\n      </template>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"ElementListener\",\r\n  props: {\r\n    listeners: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    bpmnModeler: Object,\r\n    elementId: String\r\n  },\r\n  inject: {\r\n    prefix: \"prefix\",\r\n    width: \"width\"\r\n  },\r\n  data() {\r\n    return {\r\n      ownerListenersList: [],\r\n      ownerListenersObjectList: [],\r\n      listenerForm: {},\r\n      listenerFieldForm: {},\r\n      fieldsOfListener: [],\r\n      showListenerForm: false,\r\n      listenerIndex: 0,\r\n      showListenerFieldForm: false,\r\n      listenerFiledIndex: 0,\r\n      listenerTypeObject: {\r\n        classListener: \"Java 类\",\r\n        expressionListener: \"表达式\",\r\n        delegateExpressionListener: \"代理表达式\",\r\n        scriptListener: \"脚本\"\r\n      },\r\n      fieldTypeObject: {\r\n        string: \"字符串\",\r\n        expression: \"表达式\"\r\n      }\r\n    };\r\n  },\r\n  watch: {\r\n    listeners: {\r\n      deep: true,\r\n      handler: function(newVal) {\r\n        if (newVal.length) {\r\n          this.ownerListenersObjectList = newVal;\r\n          this.ownerListenersList = newVal.map(li => {\r\n            let listenerType;\r\n            if (li.class) listenerType = \"classListener\";\r\n            if (li.expression) listenerType = \"expressionListener\";\r\n            if (li.delegateExpression) listenerType = \"delegateExpressionListener\";\r\n            if (li.script) listenerType = \"scriptListener\";\r\n            return {\r\n              ...li,\r\n              listenerType: listenerType\r\n            };\r\n          });\r\n        } else {\r\n          this.ownerListenersObjectList = [];\r\n          this.ownerListenersList = [];\r\n        }\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.initModel();\r\n  },\r\n  methods: {\r\n    // 初始化依赖\r\n    initModel() {\r\n      if (!this.bpmnModeler) {\r\n        this.timer = setTimeout(() => this.initModel(), 10);\r\n        return;\r\n      }\r\n      if (this.timer) clearTimeout(this.timer);\r\n      this.moddle = this.bpmnModeler.get(\"moddle\");\r\n    },\r\n    // 打开事件监听器侧边栏\r\n    openListenerForm(listener, index) {\r\n      if (listener) {\r\n        let listenerFormS = JSON.parse(JSON.stringify(listener));\r\n        if (listener.script) {\r\n          Object.assign(listenerFormS.script, {\r\n            ...listener.script,\r\n            scriptType: listener.script.resource ? \"externalScript\" : \"inlineScript\"\r\n          });\r\n        }\r\n        for (let key in listenerFormS) {\r\n          this.$set(this.listenerForm, key, listenerFormS[key]);\r\n        }\r\n        this.listenerIndex = index;\r\n      } else {\r\n        this.listenerForm = {};\r\n        this.listenerIndex = -1;\r\n      }\r\n      this.initListenerFields();\r\n      this.showListenerForm = true;\r\n      this.$nextTick(() => {\r\n        if (this.$refs[\"listenerFormRef\"]) this.$refs[\"listenerFormRef\"].clearValidate();\r\n      });\r\n    },\r\n    // 取消编辑\r\n    handleCancel() {\r\n      this.showListenerForm = false;\r\n      this.listenerForm = {};\r\n      this.listenerScriptForm = {};\r\n    },\r\n    // 保存事件监听器配置\r\n    async saveListenerConfig() {\r\n      let validateStatus = await this.$refs[\"listenerFormRef\"].validate();\r\n      if (!validateStatus) return; // 验证不通过直接返回\r\n      // 1. 创建事件监听器实例\r\n      const listenerObj = this.initListenerObject(this.listenerForm);\r\n      const listenerModel = this.moddle.create(`${this.prefix}:ExecutionListener`, listenerObj);\r\n      this.$emit(\"listener-save\", listenerModel);\r\n      // 2. 更新到事件监听器列表\r\n      if (this.listenerIndex === -1) {\r\n        this.ownerListenersObjectList.push(listenerModel);\r\n        this.ownerListenersList.push(this.listenerForm);\r\n      } else {\r\n        this.ownerListenersObjectList.splice(this.listenerIndex, 1, listenerModel);\r\n        this.ownerListenersList.splice(this.listenerIndex, 1, this.listenerForm);\r\n      }\r\n      // 3. 更新事件监听器列表到父组件\r\n      this.$emit(\"change\", this.ownerListenersObjectList);\r\n      // 4. 隐藏侧边栏\r\n      this.showListenerForm = false;\r\n      this.listenerForm = {};\r\n    },\r\n    initListenerObject(options) {\r\n      const listenerObj = {};\r\n      listenerObj.event = options.event;\r\n      switch (options.listenerType) {\r\n        case \"scriptListener\":\r\n          listenerObj.script = this.moddle.create(`${this.prefix}:Script`, { ...this.listenerScriptForm });\r\n          break;\r\n        case \"expressionListener\":\r\n          listenerObj.expression = options.expression;\r\n          break;\r\n        case \"delegateExpressionListener\":\r\n          listenerObj.delegateExpression = options.delegateExpression;\r\n          break;\r\n        default:\r\n          listenerObj.class = options.class;\r\n      }\r\n      if (options.fields) {\r\n        listenerObj.fields = options.fields.map(field => {\r\n          return this.moddle.create(`${this.prefix}:Field`, field);\r\n        });\r\n      }\r\n      return listenerObj;\r\n    },\r\n    // 对字段表格进行赋值\r\n    initListenerFields() {\r\n      if (this.listenerForm.fields && this.listenerForm.fields.length) {\r\n        this.fieldsOfListener = this.listenerForm.fields.map(field => {\r\n          return {\r\n            ...field,\r\n            fieldType: field.string ? \"string\" : \"expression\"\r\n          };\r\n        });\r\n        return;\r\n      }\r\n      this.fieldsOfListener = [];\r\n    },\r\n    // 打开事件监听器字段编辑弹窗\r\n    openListenerFieldForm(filed, index) {\r\n      this.listenerFieldForm = filed ? JSON.parse(JSON.stringify(filed)) : {};\r\n      this.listenerFiledIndex = filed ? index : -1;\r\n      this.showListenerFieldForm = true;\r\n      this.$nextTick(() => {\r\n        if (this.$refs[\"listenerFieldFormRef\"]) this.$refs[\"listenerFieldFormRef\"].clearValidate();\r\n      });\r\n    },\r\n    // 保存监听器字段编辑\r\n    async saveListenerFiled() {\r\n      let validateStatus = await this.$refs[\"listenerFieldFormRef\"].validate();\r\n      if (!validateStatus) return; // 验证不通过直接返回\r\n      const filedObj =\r\n        this.listenerFieldForm.fieldType === \"string\"\r\n          ? { name: this.listenerFieldForm.name, string: this.listenerFieldForm.string }\r\n          : {\r\n              name: this.listenerFieldForm.name,\r\n              expression: this.listenerFieldForm.expression\r\n            };\r\n      if (this.listenerFiledIndex === -1) {\r\n        if (this.listenerForm.fields) {\r\n          this.listenerForm.fields.push(filedObj);\r\n        } else {\r\n          this.$set(this.listenerForm, \"fields\", [filedObj]);\r\n        }\r\n      } else {\r\n        this.listenerForm.fields.splice(this.listenerFiledIndex, 1, filedObj);\r\n      }\r\n      this.initListenerFields();\r\n      this.showListenerFieldForm = false;\r\n    },\r\n    removeListener(listener, index) {\r\n      const removedListener = this.ownerListenersList.splice(index, 1);\r\n      this.$emit(\"remove-listener\", removedListener);\r\n      this.$emit(\"change\", this.ownerListenersList);\r\n    },\r\n    removeListenerField(field, index) {\r\n      this.listenerForm.fields.splice(index, 1);\r\n      const removedField = this.fieldsOfListener.splice(index, 1);\r\n      this.$emit(\"remove-listener\", removedField);\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementListener.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementListener.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ElementListener.vue?vue&type=template&id=cb45f12a&\"\nimport script from \"./ElementListener.vue?vue&type=script&lang=js&\"\nexport * from \"./ElementListener.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"panel-tab__content\"},[_c('div',{staticClass:\"element-property list-property\"},[_c('el-table',{attrs:{\"data\":_vm.ownerAttributes,\"size\":\"mini\",\"border\":\"\",\"fit\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"序号\",\"width\":\"50px\",\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"label\":\"属性名\",\"prop\":\"name\",\"min-width\":\"100px\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"属性值\",\"prop\":\"value\",\"min-width\":\"100px\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"100px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nvar $index = ref.$index;\nreturn [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.openAttributesForm(row, $index)}}},[_vm._v(\"编辑\")]),_c('el-divider',{attrs:{\"direction\":\"vertical\"}}),_c('el-button',{staticStyle:{\"color\":\"#ff4d4f\"},attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.removeAttributes(row, $index)}}},[_vm._v(\"移除\")])]}}])})],1)],1),_c('div',{staticClass:\"element-listener-add__button\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){return _vm.openAttributesForm(null, -1)}}},[_vm._v(\"添加属性\")])],1),_c('el-dialog',{attrs:{\"visible\":_vm.showAttributeForm,\"title\":\"属性配置\",\"width\":\"600px\",\"append-to-body\":\"\",\"destroy-on-close\":\"\"},on:{\"update:visible\":function($event){_vm.showAttributeForm=$event}}},[_c('el-form',{ref:\"attributeFormRef\",attrs:{\"model\":_vm.attributeForm,\"label-width\":\"80px\",\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":\"属性名：\",\"prop\":\"name\",\"rules\":{ required: true, trigger: ['blur', 'change'] }}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.attributeForm.name),callback:function ($$v) {_vm.$set(_vm.attributeForm, \"name\", $$v)},expression:\"attributeForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"属性值：\",\"prop\":\"value\",\"rules\":{ required: true, trigger: ['blur', 'change'] }}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.attributeForm.value),callback:function ($$v) {_vm.$set(_vm.attributeForm, \"value\", $$v)},expression:\"attributeForm.value\"}})],1)],1),_c('template',{slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.showAttributeForm = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.saveAttribute}},[_vm._v(\"确 定\")])],1)],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"panel-tab__content\">\r\n    <div class=\"element-property list-property\">\r\n      <el-table :data=\"ownerAttributes\" size=\"mini\" border fit>\r\n        <el-table-column label=\"序号\" width=\"50px\" type=\"index\" />\r\n        <el-table-column label=\"属性名\" prop=\"name\" min-width=\"100px\" show-overflow-tooltip />\r\n        <el-table-column label=\"属性值\" prop=\"value\" min-width=\"100px\" show-overflow-tooltip />\r\n        <el-table-column label=\"操作\" width=\"100px\">\r\n          <template slot-scope=\"{ row, $index }\">\r\n            <el-button size=\"mini\" type=\"text\" @click=\"openAttributesForm(row, $index)\">编辑</el-button>\r\n            <el-divider direction=\"vertical\" />\r\n            <el-button size=\"mini\" type=\"text\" style=\"color: #ff4d4f\" @click=\"removeAttributes(row, $index)\">移除</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n    <div class=\"element-listener-add__button\">\r\n      <el-button size=\"small\" type=\"primary\" icon=\"el-icon-plus\" @click=\"openAttributesForm(null, -1)\">添加属性</el-button>\r\n    </div>\r\n\r\n    <el-dialog :visible.sync=\"showAttributeForm\" title=\"属性配置\" width=\"600px\" append-to-body destroy-on-close>\r\n      <el-form :model=\"attributeForm\" label-width=\"80px\" size=\"small\" ref=\"attributeFormRef\">\r\n        <el-form-item label=\"属性名：\" prop=\"name\" :rules=\"{ required: true, trigger: ['blur', 'change'] }\">\r\n          <el-input v-model=\"attributeForm.name\" clearable />\r\n        </el-form-item>\r\n        <el-form-item label=\"属性值：\" prop=\"value\" :rules=\"{ required: true, trigger: ['blur', 'change'] }\">\r\n          <el-input v-model=\"attributeForm.value\" clearable />\r\n        </el-form-item>\r\n      </el-form>\r\n      <template slot=\"footer\">\r\n        <el-button size=\"mini\" @click=\"showAttributeForm = false\">取 消</el-button>\r\n        <el-button size=\"mini\" type=\"primary\" @click=\"saveAttribute\">确 定</el-button>\r\n      </template>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"ElementAttributes\",\r\n  props: {\r\n    attributes: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    bpmnModeler: Object,\r\n    elementId: String\r\n  },\r\n  inject: {\r\n    prefix: \"prefix\",\r\n    width: \"width\"\r\n  },\r\n  data() {\r\n    return {\r\n      ownerAttributes: [],\r\n      attributeForm: {},\r\n      attribute: 0,\r\n      showAttributeForm: false\r\n    };\r\n  },\r\n  computed: {},\r\n  created() {},\r\n  methods: {\r\n    openAttributesForm(attr, index) {\r\n      this.attributeForm = index === -1 ? {} : JSON.parse(JSON.stringify(attr));\r\n      this.showAttributeForm = true;\r\n      this.$nextTick(() => {\r\n        if (this.$refs[\"attributeFormRef\"]) this.$refs[\"attributeFormRef\"].clearValidate();\r\n      });\r\n    },\r\n    removeAttributes(attr, index) {\r\n      console.log(attr, index);\r\n    },\r\n    saveAttribute() {}\r\n  },\r\n  watch: {\r\n    attributes: {\r\n      deep: true,\r\n      immediate: true,\r\n      handler: function(newVal) {\r\n        if (newVal) {\r\n          this.ownerAttributes = JSON.parse(JSON.stringify(this.attributes[0]?.values || []));\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementAttributes.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementAttributes.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ElementAttributes.vue?vue&type=template&id=48ab151c&\"\nimport script from \"./ElementAttributes.vue?vue&type=script&lang=js&\"\nexport * from \"./ElementAttributes.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"process-panel__container\" :style=\"panelStyle\">\r\n    <el-collapse v-model=\"activeTab\">\r\n      <el-collapse-item name=\"base\">\r\n        <div slot=\"title\" class=\"panel-tab__title\"><i class=\"el-icon-info\"></i>常规</div>\r\n        <div class=\"panel-tab__content\">\r\n          <div class=\"element-property input-property\">\r\n            <div class=\"element-property__label\">ID</div>\r\n            <div class=\"element-property__value\">\r\n              <el-input\r\n                v-model=\"element.id\"\r\n                size=\"small\"\r\n                :disabled=\"idEditDisabled\"\r\n                clearable\r\n                @keyup.native=\"updateBaseInfo('id', element.id)\"\r\n                @change=\"updateBaseInfo('id', $event)\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div class=\"element-property input-property\">\r\n            <div class=\"element-property__label\">名称</div>\r\n            <div class=\"element-property__value\">\r\n              <el-input\r\n                v-model=\"element.name\"\r\n                size=\"small\"\r\n                clearable\r\n                @keyup.native=\"updateBaseInfo('name', element.name)\"\r\n                @change=\"updateBaseInfo('name', $event)\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <!--流程的基础属性-->\r\n          <template v-if=\"elementType === 'bpmn:Process'\">\r\n            <div class=\"element-property input-property\">\r\n              <div class=\"element-property__label\">版本标签</div>\r\n              <div class=\"element-property__value\">\r\n                <el-input\r\n                  v-model=\"element.versionTag\"\r\n                  size=\"small\"\r\n                  clearable\r\n                  @keyup.native=\"updateBaseInfo('versionTag', element.versionTag)\"\r\n                  @change=\"updateBaseInfo('versionTag', $event)\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div class=\"element-property input-property\">\r\n              <div class=\"element-property__label\">可执行</div>\r\n              <div class=\"element-property__value\">\r\n                <el-switch\r\n                  v-model=\"element.isExecutable\"\r\n                  active-text=\"是\"\r\n                  inactive-text=\"否\"\r\n                  @change=\"updateBaseInfo('isExecutable', $event)\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </template>\r\n          <!--连接线的基础配置-->\r\n          <condition-config v-if=\"flowTypeViewable\" v-bind=\"$props\" :conditions=\"condition\" :element-id=\"elementId\" />\r\n        </div>\r\n      </el-collapse-item>\r\n      <el-collapse-item name=\"listeners\">\r\n        <div slot=\"title\" class=\"panel-tab__title\"><i class=\"el-icon-message-solid\"></i>监听器</div>\r\n        <element-listener\r\n          v-bind=\"$props\"\r\n          :element-id=\"elementId\"\r\n          :listeners=\"elementListeners\"\r\n          @change=\"updateElementListener\"\r\n        />\r\n      </el-collapse-item>\r\n      <el-collapse-item name=\"extensions\">\r\n        <div slot=\"title\" class=\"panel-tab__title\"><i class=\"el-icon-circle-plus\"></i>扩展属性</div>\r\n        <element-attributes v-bind=\"$props\" :element-id=\"elementId\" :attributes=\"elementAttributes\" />\r\n      </el-collapse-item>\r\n      <el-collapse-item name=\"other\">\r\n        <div slot=\"title\" class=\"panel-tab__title\"><i class=\"el-icon-s-promotion\"></i>其他</div>\r\n        <div class=\"panel-tab__content\">\r\n          <div class=\"element-property input-property\">\r\n            <div class=\"element-property__label\">元素文档</div>\r\n            <div class=\"element-property__value\">\r\n              <el-input\r\n                type=\"textarea\"\r\n                v-model=\"documentation\"\r\n                size=\"small\"\r\n                resize=\"vertical\"\r\n                :autosize=\"{ minRows: 2, maxRows: 4 }\"\r\n                @input=\"updateDocumentation\"\r\n                @blur=\"updateDocumentation\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </el-collapse-item>\r\n    </el-collapse>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { debounce } from \"@/utils\";\r\nimport ConditionConfig from \"./condition-config/ConditionConfig\";\r\nimport ElementListener from \"./extensional/listeners/ElementListener\";\r\nimport ElementAttributes from \"./extensional/attrbutes/ElementAttributes\";\r\n// import { is } from 'bpmn-js/lib/util/ModelUtil';\r\n\r\nexport default {\r\n  name: \"ProcessPanel\",\r\n  components: { ElementAttributes, ElementListener, ConditionConfig },\r\n  componentName: \"ProcessPanel\",\r\n  props: {\r\n    bpmnModeler: Object,\r\n    prefix: {\r\n      type: String,\r\n      default: \"camunda\"\r\n    },\r\n    width: {\r\n      type: Number,\r\n      default: 480\r\n    },\r\n    idEditDisabled: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  provide() {\r\n    return {\r\n      prefix: this.prefix,\r\n      width: this.width\r\n    };\r\n  },\r\n  data() {\r\n    return {\r\n      activeElement: {},\r\n      condition: {},\r\n      activeTab: \"base\",\r\n      element: {},\r\n      documentation: \"\",\r\n      conditionType: \"\",\r\n      elementListeners: [],\r\n      elementAttributes: []\r\n    };\r\n  },\r\n  computed: {\r\n    panelStyle() {\r\n      return { width: `${this.width}px` };\r\n    },\r\n    elementType() {\r\n      if (this.activeElement) return this.activeElement.type;\r\n      return null;\r\n    },\r\n    elementId() {\r\n      if (this.activeElement) return this.activeElement.id;\r\n      return null;\r\n    },\r\n    flowTypeViewable() {\r\n      if (this.elementType !== \"bpmn:SequenceFlow\") return false;\r\n      return this.element.sourceRef && this.element.sourceRef.$type !== \"bpmn:StartEvent\";\r\n    }\r\n  },\r\n  watch: {\r\n    elementType(type) {\r\n      console.log(type);\r\n    },\r\n    elementId() {\r\n      // this.activeTab = \"base\";\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getActiveElement();\r\n  },\r\n  beforeDestroy() {\r\n    clearTimeout(this.timer);\r\n  },\r\n  methods: {\r\n    getActiveElement() {\r\n      if (!this.bpmnModeler) {\r\n        this.timer = setTimeout(() => this.getActiveElement(), 10);\r\n        return;\r\n      }\r\n      if (this.timer) clearTimeout(this.timer);\r\n      this.modeling = this.bpmnModeler.get(\"modeling\");\r\n      this.moddle = this.bpmnModeler.get(\"moddle\");\r\n      this.eventBus = this.bpmnModeler.get(\"eventBus\");\r\n      this.bpmnFactory = this.bpmnModeler.get(\"bpmnFactory\");\r\n      this.elementRegistry = this.bpmnModeler.get(\"elementRegistry\");\r\n      this.replace = this.bpmnModeler.get(\"replace\");\r\n      this.selection = this.bpmnModeler.get(\"selection\");\r\n\r\n      // 初始第一个选中元素 bpmn:Process\r\n      this.activeElement = this.elementRegistry.find(el => el.type === \"bpmn:Process\");\r\n      this.element = Object.assign({}, this.activeElement.businessObject);\r\n\r\n      // 监听选择事件，修改当前激活的元素\r\n      this.bpmnModeler.on(\"selection.changed\", ({ newSelection }) => {\r\n        const shape = newSelection[0] || this.elementRegistry.find(el => el.type === \"bpmn:Process\");\r\n        debounce(this.initFormOnChanged(shape.id), 100);\r\n      });\r\n\r\n      // 监听选择事件，修改当前激活的元素\r\n      // this.bpmnModeler.on(\"element.changed\", ({ element }) => {\r\n      //   if (!element) return;\r\n      //   if (this.elementType === \"bpmn:SequenceFlow\") return;\r\n      //   debounce(this.initFormOnChanged(element.id), 100);\r\n      // });\r\n    },\r\n    // 元素更新时更新表单\r\n    initFormOnChanged(elementId) {\r\n      const element = this.elementRegistry.get(elementId);\r\n      const shapeDoc = element.businessObject.documentation;\r\n      this.activeElement = Object.assign({}, element);\r\n      this.element = Object.assign({}, element.businessObject);\r\n      // 设置文档属性\r\n      this.documentation = shapeDoc && shapeDoc.length ? shapeDoc[0].text : \"\";\r\n      // 设置扩展监听\r\n      if (element.businessObject?.extensionElements?.values) {\r\n        this.elementListeners = element.businessObject.extensionElements.values.filter(\r\n          // ex => ex.$type === \"camunda:ExecutionListener\"\r\n          ex => ex.$type === `${this.prefix}:ExecutionListener`\r\n        );\r\n        this.elementAttributes = element.businessObject.extensionElements.values.filter(\r\n          ex => ex.$type === `${this.prefix}:Properties`\r\n        );\r\n      } else {\r\n        this.elementListeners = [];\r\n        this.elementAttributes = [];\r\n      }\r\n      // 设置条件属性\r\n      if (element.type.indexOf(\"SequenceFlow\") !== -1) {\r\n        if (element.businessObject.conditionExpression) {\r\n          this.condition = { ...element.businessObject.conditionExpression };\r\n          this.$set(this.condition, \"type\", \"condition\");\r\n          return;\r\n        }\r\n        const sourceShape = this.elementRegistry.get(element.businessObject.sourceRef.id);\r\n        if (sourceShape.businessObject.default && sourceShape.businessObject.default.id === elementId) {\r\n          this.$set(this.condition, \"type\", \"default\");\r\n          return;\r\n        }\r\n        this.$set(this.condition, \"type\", \"normal\");\r\n      }\r\n    },\r\n    // 更新常规信息\r\n    updateBaseInfo(key, value) {\r\n      const shape = this.elementRegistry.get(this.elementId);\r\n      let attrObj = {};\r\n      attrObj[key] = value;\r\n      this.modeling.updateProperties(shape, attrObj);\r\n    },\r\n    // 更新元素文档\r\n    updateDocumentation() {\r\n      const element = this.elementRegistry.get(this.elementId);\r\n      const documentation = this.bpmnFactory.create(\"bpmn:Documentation\", { text: this.documentation });\r\n      this.modeling.updateProperties(element, {\r\n        documentation: [documentation]\r\n      });\r\n    },\r\n    // 更新事件监听器\r\n    updateElementListener(listeners) {\r\n      const element = this.elementRegistry.get(this.elementId);\r\n      const extensionElements = element.businessObject.get(\"extensionElements\");\r\n      // 截取不是监听器的属性\r\n      const otherExtensions =\r\n        extensionElements?.get(\"values\")?.filter(ex => ex.$type !== `${this.prefix}:ExecutionListener`) || [];\r\n      // 重建扩展属性\r\n      const extensions = this.moddle.create(\"bpmn:ExtensionElements\", {\r\n        values: otherExtensions.concat(listeners)\r\n      });\r\n      // 更新属性到元素\r\n      this.modeling.updateProperties(element, {\r\n        extensionElements: extensions\r\n      });\r\n\r\n      this.initFormOnChanged(this.elementId);\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProcessPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProcessPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProcessPanel.vue?vue&type=template&id=19c39b9c&\"\nimport script from \"./ProcessPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./ProcessPanel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div id=\"app\">\r\n    <my-process-designer\r\n      :additional-model=\"labelEditing\"\r\n      process-type=\"camunda\"\r\n      @element-click=\"elementClick\"\r\n      @init-finished=\"initModeler\"\r\n    />\r\n    <process-panel :bpmn-modeler=\"modeler\" prefix=\"camunda\" class=\"process-panel\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport translations from \"@/translations\";\r\nimport ProcessPanel from \"../package/process-panel/ProcessPanel\";\r\n\r\nexport default {\r\n  name: \"App\",\r\n  components: { ProcessPanel },\r\n  data() {\r\n    return {\r\n      xmlString: \"\",\r\n      modeler: null,\r\n      translationsSelf: translations,\r\n      labelEditing: [{ labelEditingProvider: [\"value\", \"\"] }]\r\n    };\r\n  },\r\n  created() {\r\n    // console.log(this.translationsSelf);\r\n  },\r\n  methods: {\r\n    initModeler(modeler) {\r\n      this.modeler = modeler;\r\n      console.log(this.modeler);\r\n      console.log(this.modeler.getDefinitions());\r\n    },\r\n    elementClick(element) {\r\n      console.log(element);\r\n    },\r\n    ProcessChanged(xml) {\r\n      this.xmlString = xml;\r\n      console.log(xml);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\nbody {\r\n  overflow: hidden;\r\n  margin: 0;\r\n  padding: 8px;\r\n  box-sizing: border-box;\r\n}\r\n#app {\r\n  width: 100%;\r\n  height: calc(100vh - 16px);\r\n  box-sizing: border-box;\r\n  display: inline-grid;\r\n  grid-template-columns: auto max-content;\r\n}\r\n.my-process-designer {\r\n  overflow: auto;\r\n}\r\nbody,\r\nbody * {\r\n  /* 滚动条 */\r\n  &::-webkit-scrollbar-track-piece {\r\n    background-color: #fff; /*滚动条的背景颜色*/\r\n    -webkit-border-radius: 0; /*滚动条的圆角宽度*/\r\n  }\r\n  &::-webkit-scrollbar {\r\n    width: 10px; /*滚动条的宽度*/\r\n    height: 8px; /*滚动条的高度*/\r\n  }\r\n  &::-webkit-scrollbar-thumb:vertical {\r\n    /*垂直滚动条的样式*/\r\n    height: 50px;\r\n    background-color: rgba(153, 153, 153, 0.5);\r\n    -webkit-border-radius: 4px;\r\n    outline: 2px solid #fff;\r\n    outline-offset: -2px;\r\n    border: 2px solid #fff;\r\n  }\r\n  &::-webkit-scrollbar-thumb {\r\n    /*滚动条的hover样式*/\r\n    background-color: rgba(159, 159, 159, 0.3);\r\n    -webkit-border-radius: 4px;\r\n  }\r\n  &::-webkit-scrollbar-thumb:hover {\r\n    /*滚动条的hover样式*/\r\n    background-color: rgba(159, 159, 159, 0.5);\r\n    -webkit-border-radius: 4px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=a576cf74&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"my-process-designer\"},[_c('div',{staticClass:\"my-process-designer__header\"},[_vm._t(\"control-header\"),(!_vm.$slots['control-header'])?_c('el-button-group',[_c('el-tooltip',{attrs:{\"effect\":\"light\"}},[_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('el-button',{attrs:{\"size\":_vm.headerButtonSize,\"type\":\"text\"},on:{\"click\":_vm.downloadProcessAsXml}},[_vm._v(\"下载为XML文件\")]),_c('br'),_c('el-button',{attrs:{\"size\":_vm.headerButtonSize,\"type\":\"text\"},on:{\"click\":_vm.downloadProcessAsSvg}},[_vm._v(\"下载为SVG文件\")]),_c('br'),_c('el-button',{attrs:{\"size\":_vm.headerButtonSize,\"type\":\"text\"},on:{\"click\":_vm.downloadProcessAsBpmn}},[_vm._v(\"下载为BPMN文件\")])],1),_c('el-button',{attrs:{\"size\":_vm.headerButtonSize,\"type\":_vm.headerButtonType,\"icon\":\"el-icon-more\"}},[_vm._v(\"下载文件\")])],1),_c('el-button',{attrs:{\"size\":_vm.headerButtonSize,\"type\":_vm.headerButtonType,\"icon\":\"el-icon-folder-opened\"},on:{\"click\":function($event){return _vm.$refs.refFile.click()}}},[_vm._v(\"打开文件\")]),_c('el-tooltip',{attrs:{\"effect\":\"light\"}},[_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('el-button',{attrs:{\"size\":_vm.headerButtonSize,\"type\":\"text\"},on:{\"click\":_vm.previewProcessXML}},[_vm._v(\"预览XML\")]),_c('br'),_c('el-button',{attrs:{\"size\":_vm.headerButtonSize,\"type\":\"text\"},on:{\"click\":_vm.previewProcessJson}},[_vm._v(\"预览JSON\")])],1),_c('el-button',{attrs:{\"size\":_vm.headerButtonSize,\"type\":_vm.headerButtonType,\"icon\":\"el-icon-view\"}},[_vm._v(\"预览\")])],1),_c('el-tooltip',{attrs:{\"effect\":\"light\",\"content\":\"缩小视图\"}},[_c('el-button',{attrs:{\"size\":_vm.headerButtonSize,\"disabled\":_vm.defaultZoom < 0.2,\"icon\":\"el-icon-zoom-out\"},on:{\"click\":_vm.processZoomOut}})],1),_c('el-button',{attrs:{\"size\":_vm.headerButtonSize}},[_vm._v(_vm._s(_vm.currentScale))]),_c('el-tooltip',{attrs:{\"effect\":\"light\",\"content\":\"放大视图\"}},[_c('el-button',{attrs:{\"size\":_vm.headerButtonSize,\"disabled\":_vm.defaultZoom > 5,\"icon\":\"el-icon-zoom-in\"},on:{\"click\":_vm.processZoomIn}})],1),_c('el-tooltip',{attrs:{\"effect\":\"light\",\"content\":\"重置视图并居中\"}},[_c('el-button',{attrs:{\"size\":_vm.headerButtonSize,\"icon\":\"el-icon-c-scale-to-original\"},on:{\"click\":_vm.processReZoom}})],1),_c('el-tooltip',{attrs:{\"effect\":\"light\",\"content\":\"撤销\"}},[_c('el-button',{attrs:{\"size\":_vm.headerButtonSize,\"disabled\":!_vm.revocable,\"icon\":\"el-icon-refresh-left\"},on:{\"click\":_vm.processUndo}})],1),_c('el-tooltip',{attrs:{\"effect\":\"light\",\"content\":\"恢复\"}},[_c('el-button',{attrs:{\"size\":_vm.headerButtonSize,\"disabled\":!_vm.recoverable,\"icon\":\"el-icon-refresh-right\"},on:{\"click\":_vm.processRedo}})],1),_c('el-tooltip',{attrs:{\"effect\":\"light\",\"content\":\"重新绘制\"}},[_c('el-button',{attrs:{\"size\":_vm.headerButtonSize,\"icon\":\"el-icon-refresh\"},on:{\"click\":_vm.processRestart}})],1)],1):_vm._e(),_c('input',{ref:\"refFile\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"id\":\"files\",\"accept\":\".xml, .bpmn\"},on:{\"change\":_vm.importLocalFile}})],2),_c('div',{staticClass:\"my-process-designer__container\"},[_c('div',{ref:\"bpmn-canvas\",staticClass:\"my-process-designer__canvas\"})]),_c('el-dialog',{attrs:{\"title\":\"预览\",\"width\":\"60%\",\"visible\":_vm.previewModelVisible,\"append-to-body\":\"\",\"destroy-on-close\":\"\"},on:{\"update:visible\":function($event){_vm.previewModelVisible=$event}}},[_c('highlightjs',{attrs:{\"language\":_vm.previewType,\"code\":_vm.previewResult}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default (key, name, type) => {\r\n  if (!type) type = \"camunda\";\r\n  const TYPE_TARGET = {\r\n    activiti: \"http://activiti.org/bpmn\",\r\n    camunda: \"http://bpmn.io/schema/bpmn\"\r\n  };\r\n  return `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<bpmn2:definitions \r\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n  xmlns:bpmn2=\"http://www.omg.org/spec/BPMN/20100524/MODEL\"\r\n  xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\"\r\n  xmlns:dc=\"http://www.omg.org/spec/DD/20100524/DC\"\r\n  xmlns:di=\"http://www.omg.org/spec/DD/20100524/DI\"\r\n  xsi:schemaLocation=\"http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd\"\r\n  id=\"sample-diagram\"\r\n  targetNamespace=\"${TYPE_TARGET[type]}\">\r\n  <bpmn2:process id=\"Process_${key}\" name=\"${name}\" isExecutable=\"true\">\r\n  </bpmn2:process>\r\n  <bpmndi:BPMNDiagram id=\"BPMNDiagram_1\">\r\n    <bpmndi:BPMNPlane id=\"BPMNPlane_1\" bpmnElement=\"Process_${key}\">\r\n    </bpmndi:BPMNPlane>\r\n  </bpmndi:BPMNDiagram>\r\n</bpmn2:definitions>`;\r\n};\r\n","// import translations from \"./zh\";\r\n//\r\n// export default function customTranslate(template, replacements) {\r\n//   replacements = replacements || {};\r\n//\r\n//   // Translate\r\n//   template = translations[template] || template;\r\n//\r\n//   // Replace\r\n//   return template.replace(/{([^}]+)}/g, function(_, key) {\r\n//     let str = replacements[key];\r\n//     if (\r\n//       translations[replacements[key]] !== null &&\r\n//       translations[replacements[key]] !== \"undefined\"\r\n//     ) {\r\n//       // eslint-disable-next-line no-mixed-spaces-and-tabs\r\n//       str = translations[replacements[key]];\r\n//       // eslint-disable-next-line no-mixed-spaces-and-tabs\r\n//     }\r\n//     return str || \"{\" + key + \"}\";\r\n//   });\r\n// }\r\n\r\nexport default function customTranslate(translations) {\r\n  return function(template, replacements) {\r\n    replacements = replacements || {};\r\n    // Translate\r\n    template = translations[template] || template;\r\n\r\n    // Replace\r\n    return template.replace(/{([^}]+)}/g, function(_, key) {\r\n      let str = replacements[key];\r\n      if (translations[replacements[key]] !== null && translations[replacements[key]] !== \"undefined\") {\r\n        // eslint-disable-next-line no-mixed-spaces-and-tabs\r\n        str = translations[replacements[key]];\r\n        // eslint-disable-next-line no-mixed-spaces-and-tabs\r\n      }\r\n      return str || \"{\" + key + \"}\";\r\n    });\r\n  };\r\n}\r\n","/**\r\n * This is a sample file that should be replaced with the actual translation.\r\n *\r\n * Checkout https://github.com/bpmn-io/bpmn-js-i18n for a list of available\r\n * translations and labels to translate.\r\n */\r\nexport default {\r\n  // 添加部分\r\n  \"Append EndEvent\": \"追加结束事件\",\r\n  \"Append Gateway\": \"追加网关\",\r\n  \"Append Task\": \"追加任务\",\r\n  \"Append Intermediate/Boundary Event\": \"追加中间抛出事件/边界事件\",\r\n\r\n  \"Activate the global connect tool\": \"激活全局连接工具\",\r\n  \"Append {type}\": \"添加 {type}\",\r\n  \"Add Lane above\": \"在上面添加道\",\r\n  \"Divide into two Lanes\": \"分割成两个道\",\r\n  \"Divide into three Lanes\": \"分割成三个道\",\r\n  \"Add Lane below\": \"在下面添加道\",\r\n  \"Append compensation activity\": \"追加补偿活动\",\r\n  \"Change type\": \"修改类型\",\r\n  \"Connect using Association\": \"使用关联连接\",\r\n  \"Connect using Sequence/MessageFlow or Association\": \"使用顺序/消息流或者关联连接\",\r\n  \"Connect using DataInputAssociation\": \"使用数据输入关联连接\",\r\n  Remove: \"移除\",\r\n  \"Activate the hand tool\": \"激活抓手工具\",\r\n  \"Activate the lasso tool\": \"激活套索工具\",\r\n  \"Activate the create/remove space tool\": \"激活创建/删除空间工具\",\r\n  \"Create expanded SubProcess\": \"创建扩展子过程\",\r\n  \"Create IntermediateThrowEvent/BoundaryEvent\": \"创建中间抛出事件/边界事件\",\r\n  \"Create Pool/Participant\": \"创建池/参与者\",\r\n  \"Parallel Multi Instance\": \"并行多重事件\",\r\n  \"Sequential Multi Instance\": \"时序多重事件\",\r\n  DataObjectReference: \"数据对象参考\",\r\n  DataStoreReference: \"数据存储参考\",\r\n  Loop: \"循环\",\r\n  \"Ad-hoc\": \"即席\",\r\n  \"Create {type}\": \"创建 {type}\",\r\n  Task: \"任务\",\r\n  \"Send Task\": \"发送任务\",\r\n  \"Receive Task\": \"接收任务\",\r\n  \"User Task\": \"用户任务\",\r\n  \"Manual Task\": \"手工任务\",\r\n  \"Business Rule Task\": \"业务规则任务\",\r\n  \"Service Task\": \"服务任务\",\r\n  \"Script Task\": \"脚本任务\",\r\n  \"Call Activity\": \"调用活动\",\r\n  \"Sub Process (collapsed)\": \"子流程（折叠的）\",\r\n  \"Sub Process (expanded)\": \"子流程（展开的）\",\r\n  \"Start Event\": \"开始事件\",\r\n  StartEvent: \"开始事件\",\r\n  \"Intermediate Throw Event\": \"中间事件\",\r\n  \"End Event\": \"结束事件\",\r\n  EndEvent: \"结束事件\",\r\n  \"Create StartEvent\": \"创建开始事件\",\r\n  \"Create EndEvent\": \"创建结束事件\",\r\n  \"Create Task\": \"创建任务\",\r\n  \"Create Gateway\": \"创建网关\",\r\n  \"Create DataObjectReference\": \"创建数据对象\",\r\n  \"Create DataStoreReference\": \"创建数据存储\",\r\n  \"Create Group\": \"创建分组\",\r\n  \"Create Intermediate/Boundary Event\": \"创建中间/边界事件\",\r\n  \"Message Start Event\": \"消息开始事件\",\r\n  \"Timer Start Event\": \"定时开始事件\",\r\n  \"Conditional Start Event\": \"条件开始事件\",\r\n  \"Signal Start Event\": \"信号开始事件\",\r\n  \"Error Start Event\": \"错误开始事件\",\r\n  \"Escalation Start Event\": \"升级开始事件\",\r\n  \"Compensation Start Event\": \"补偿开始事件\",\r\n  \"Message Start Event (non-interrupting)\": \"消息开始事件（非中断）\",\r\n  \"Timer Start Event (non-interrupting)\": \"定时开始事件（非中断）\",\r\n  \"Conditional Start Event (non-interrupting)\": \"条件开始事件（非中断）\",\r\n  \"Signal Start Event (non-interrupting)\": \"信号开始事件（非中断）\",\r\n  \"Escalation Start Event (non-interrupting)\": \"升级开始事件（非中断）\",\r\n  \"Message Intermediate Catch Event\": \"消息中间捕获事件\",\r\n  \"Message Intermediate Throw Event\": \"消息中间抛出事件\",\r\n  \"Timer Intermediate Catch Event\": \"定时中间捕获事件\",\r\n  \"Escalation Intermediate Throw Event\": \"升级中间抛出事件\",\r\n  \"Conditional Intermediate Catch Event\": \"条件中间捕获事件\",\r\n  \"Link Intermediate Catch Event\": \"链接中间捕获事件\",\r\n  \"Link Intermediate Throw Event\": \"链接中间抛出事件\",\r\n  \"Compensation Intermediate Throw Event\": \"补偿中间抛出事件\",\r\n  \"Signal Intermediate Catch Event\": \"信号中间捕获事件\",\r\n  \"Signal Intermediate Throw Event\": \"信号中间抛出事件\",\r\n  \"Message End Event\": \"消息结束事件\",\r\n  \"Escalation End Event\": \"定时结束事件\",\r\n  \"Error End Event\": \"错误结束事件\",\r\n  \"Cancel End Event\": \"取消结束事件\",\r\n  \"Compensation End Event\": \"补偿结束事件\",\r\n  \"Signal End Event\": \"信号结束事件\",\r\n  \"Terminate End Event\": \"终止结束事件\",\r\n  \"Message Boundary Event\": \"消息边界事件\",\r\n  \"Message Boundary Event (non-interrupting)\": \"消息边界事件（非中断）\",\r\n  \"Timer Boundary Event\": \"定时边界事件\",\r\n  \"Timer Boundary Event (non-interrupting)\": \"定时边界事件（非中断）\",\r\n  \"Escalation Boundary Event\": \"升级边界事件\",\r\n  \"Escalation Boundary Event (non-interrupting)\": \"升级边界事件（非中断）\",\r\n  \"Conditional Boundary Event\": \"条件边界事件\",\r\n  \"Conditional Boundary Event (non-interrupting)\": \"条件边界事件（非中断）\",\r\n  \"Error Boundary Event\": \"错误边界事件\",\r\n  \"Cancel Boundary Event\": \"取消边界事件\",\r\n  \"Signal Boundary Event\": \"信号边界事件\",\r\n  \"Signal Boundary Event (non-interrupting)\": \"信号边界事件（非中断）\",\r\n  \"Compensation Boundary Event\": \"补偿边界事件\",\r\n  \"Exclusive Gateway\": \"互斥网关\",\r\n  \"Parallel Gateway\": \"并行网关\",\r\n  \"Inclusive Gateway\": \"相容网关\",\r\n  \"Complex Gateway\": \"复杂网关\",\r\n  \"Event based Gateway\": \"事件网关\",\r\n  Transaction: \"转运\",\r\n  \"Sub Process\": \"子流程\",\r\n  \"Event Sub Process\": \"事件子流程\",\r\n  \"Collapsed Pool\": \"折叠池\",\r\n  \"Expanded Pool\": \"展开池\",\r\n\r\n  // Errors\r\n  \"no parent for {element} in {parent}\": \"在{parent}里，{element}没有父类\",\r\n  \"no shape type specified\": \"没有指定的形状类型\",\r\n  \"flow elements must be children of pools/participants\": \"流元素必须是池/参与者的子类\",\r\n  \"out of bounds release\": \"out of bounds release\",\r\n  \"more than {count} child lanes\": \"子道大于{count} \",\r\n  \"element required\": \"元素不能为空\",\r\n  \"diagram not part of bpmn:Definitions\": \"流程图不符合bpmn规范\",\r\n  \"no diagram to display\": \"没有可展示的流程图\",\r\n  \"no process or collaboration to display\": \"没有可展示的流程/协作\",\r\n  \"element {element} referenced by {referenced}#{property} not yet drawn\":\r\n    \"由{referenced}#{property}引用的{element}元素仍未绘制\",\r\n  \"already rendered {element}\": \"{element} 已被渲染\",\r\n  \"failed to import {element}\": \"导入{element}失败\",\r\n  //属性面板的参数\r\n  Id: \"编号\",\r\n  Name: \"名称\",\r\n  General: \"常规\",\r\n  Details: \"详情\",\r\n  \"Message Name\": \"消息名称\",\r\n  Message: \"消息\",\r\n  Initiator: \"创建者\",\r\n  \"Asynchronous Continuations\": \"持续异步\",\r\n  \"Asynchronous Before\": \"异步前\",\r\n  \"Asynchronous After\": \"异步后\",\r\n  \"Job Configuration\": \"工作配置\",\r\n  Exclusive: \"排除\",\r\n  \"Job Priority\": \"工作优先级\",\r\n  \"Retry Time Cycle\": \"重试时间周期\",\r\n  Documentation: \"文档\",\r\n  \"Element Documentation\": \"元素文档\",\r\n  \"History Configuration\": \"历史配置\",\r\n  \"History Time To Live\": \"历史的生存时间\",\r\n  Forms: \"表单\",\r\n  \"Form Key\": \"表单key\",\r\n  \"Form Fields\": \"表单字段\",\r\n  \"Business Key\": \"业务key\",\r\n  \"Form Field\": \"表单字段\",\r\n  ID: \"编号\",\r\n  Type: \"类型\",\r\n  Label: \"名称\",\r\n  \"Default Value\": \"默认值\",\r\n  \"Default Flow\": \"默认流转路径\",\r\n  \"Conditional Flow\": \"条件流转路径\",\r\n  \"Sequence Flow\": \"普通流转路径\",\r\n  Validation: \"校验\",\r\n  \"Add Constraint\": \"添加约束\",\r\n  Config: \"配置\",\r\n  Properties: \"属性\",\r\n  \"Add Property\": \"添加属性\",\r\n  Value: \"值\",\r\n  Listeners: \"监听器\",\r\n  \"Execution Listener\": \"执行监听\",\r\n  \"Event Type\": \"事件类型\",\r\n  \"Listener Type\": \"监听器类型\",\r\n  \"Java Class\": \"Java类\",\r\n  Expression: \"表达式\",\r\n  \"Must provide a value\": \"必须提供一个值\",\r\n  \"Delegate Expression\": \"代理表达式\",\r\n  Script: \"脚本\",\r\n  \"Script Format\": \"脚本格式\",\r\n  \"Script Type\": \"脚本类型\",\r\n  \"Inline Script\": \"内联脚本\",\r\n  \"External Script\": \"外部脚本\",\r\n  Resource: \"资源\",\r\n  \"Field Injection\": \"字段注入\",\r\n  Extensions: \"扩展\",\r\n  \"Input/Output\": \"输入/输出\",\r\n  \"Input Parameters\": \"输入参数\",\r\n  \"Output Parameters\": \"输出参数\",\r\n  Parameters: \"参数\",\r\n  \"Output Parameter\": \"输出参数\",\r\n  \"Timer Definition Type\": \"定时器定义类型\",\r\n  \"Timer Definition\": \"定时器定义\",\r\n  Date: \"日期\",\r\n  Duration: \"持续\",\r\n  Cycle: \"循环\",\r\n  Signal: \"信号\",\r\n  \"Signal Name\": \"信号名称\",\r\n  Escalation: \"升级\",\r\n  Error: \"错误\",\r\n  \"Link Name\": \"链接名称\",\r\n  Condition: \"条件名称\",\r\n  \"Variable Name\": \"变量名称\",\r\n  \"Variable Event\": \"变量事件\",\r\n  \"Specify more than one variable change event as a comma separated list.\": \"多个变量事件以逗号隔开\",\r\n  \"Wait for Completion\": \"等待完成\",\r\n  \"Activity Ref\": \"活动参考\",\r\n  \"Version Tag\": \"版本标签\",\r\n  Executable: \"可执行文件\",\r\n  \"External Task Configuration\": \"扩展任务配置\",\r\n  \"Task Priority\": \"任务优先级\",\r\n  External: \"外部\",\r\n  Connector: \"连接器\",\r\n  \"Must configure Connector\": \"必须配置连接器\",\r\n  \"Connector Id\": \"连接器编号\",\r\n  Implementation: \"实现方式\",\r\n  \"Field Injections\": \"字段注入\",\r\n  Fields: \"字段\",\r\n  \"Result Variable\": \"结果变量\",\r\n  Topic: \"主题\",\r\n  \"Configure Connector\": \"配置连接器\",\r\n  \"Input Parameter\": \"输入参数\",\r\n  Assignee: \"代理人\",\r\n  \"Candidate Users\": \"候选用户\",\r\n  \"Candidate Groups\": \"候选组\",\r\n  \"Due Date\": \"到期时间\",\r\n  \"Follow Up Date\": \"跟踪日期\",\r\n  Priority: \"优先级\",\r\n  \"The follow up date as an EL expression (e.g. ${someDate} or an ISO date (e.g. 2015-06-26T09:54:00)\":\r\n    \"跟踪日期必须符合EL表达式，如： ${someDate} ,或者一个ISO标准日期，如：2015-06-26T09:54:00\",\r\n  \"The due date as an EL expression (e.g. ${someDate} or an ISO date (e.g. 2015-06-26T09:54:00)\":\r\n    \"跟踪日期必须符合EL表达式，如： ${someDate} ,或者一个ISO标准日期，如：2015-06-26T09:54:00\",\r\n  Variables: \"变量\",\r\n  \"Candidate Starter Configuration\": \"候选人起动器配置\",\r\n  \"Candidate Starter Groups\": \"候选人起动器组\",\r\n  \"This maps to the process definition key.\": \"这映射到流程定义键。\",\r\n  \"Candidate Starter Users\": \"候选人起动器的用户\",\r\n  \"Specify more than one user as a comma separated list.\": \"指定多个用户作为逗号分隔的列表。\",\r\n  \"Tasklist Configuration\": \"Tasklist配置\",\r\n  Startable: \"启动\",\r\n  \"Specify more than one group as a comma separated list.\": \"指定多个组作为逗号分隔的列表。\"\r\n};\r\n","<template>\r\n  <div class=\"my-process-designer\">\r\n    <div class=\"my-process-designer__header\">\r\n      <slot name=\"control-header\"></slot>\r\n      <el-button-group v-if=\"!$slots['control-header']\">\r\n        <el-tooltip effect=\"light\">\r\n          <div slot=\"content\">\r\n            <el-button :size=\"headerButtonSize\" type=\"text\" @click=\"downloadProcessAsXml\">下载为XML文件</el-button>\r\n            <br />\r\n            <el-button :size=\"headerButtonSize\" type=\"text\" @click=\"downloadProcessAsSvg\">下载为SVG文件</el-button>\r\n            <br />\r\n            <el-button :size=\"headerButtonSize\" type=\"text\" @click=\"downloadProcessAsBpmn\">下载为BPMN文件</el-button>\r\n          </div>\r\n          <el-button :size=\"headerButtonSize\" :type=\"headerButtonType\" icon=\"el-icon-more\">下载文件</el-button>\r\n        </el-tooltip>\r\n        <el-button :size=\"headerButtonSize\" :type=\"headerButtonType\" icon=\"el-icon-folder-opened\" @click=\"$refs.refFile.click()\"\r\n          >打开文件</el-button\r\n        >\r\n        <el-tooltip effect=\"light\">\r\n          <div slot=\"content\">\r\n            <el-button :size=\"headerButtonSize\" type=\"text\" @click=\"previewProcessXML\">预览XML</el-button>\r\n            <br />\r\n            <el-button :size=\"headerButtonSize\" type=\"text\" @click=\"previewProcessJson\">预览JSON</el-button>\r\n          </div>\r\n          <el-button :size=\"headerButtonSize\" :type=\"headerButtonType\" icon=\"el-icon-view\">预览</el-button>\r\n        </el-tooltip>\r\n        <el-tooltip effect=\"light\" content=\"缩小视图\">\r\n          <el-button :size=\"headerButtonSize\" :disabled=\"defaultZoom < 0.2\" icon=\"el-icon-zoom-out\" @click=\"processZoomOut\" />\r\n        </el-tooltip>\r\n        <el-button :size=\"headerButtonSize\">{{ currentScale }}</el-button>\r\n        <el-tooltip effect=\"light\" content=\"放大视图\">\r\n          <el-button :size=\"headerButtonSize\" :disabled=\"defaultZoom > 5\" icon=\"el-icon-zoom-in\" @click=\"processZoomIn\" />\r\n        </el-tooltip>\r\n        <el-tooltip effect=\"light\" content=\"重置视图并居中\">\r\n          <el-button :size=\"headerButtonSize\" icon=\"el-icon-c-scale-to-original\" @click=\"processReZoom\" />\r\n        </el-tooltip>\r\n        <el-tooltip effect=\"light\" content=\"撤销\">\r\n          <el-button :size=\"headerButtonSize\" :disabled=\"!revocable\" icon=\"el-icon-refresh-left\" @click=\"processUndo\" />\r\n        </el-tooltip>\r\n        <el-tooltip effect=\"light\" content=\"恢复\">\r\n          <el-button :size=\"headerButtonSize\" :disabled=\"!recoverable\" icon=\"el-icon-refresh-right\" @click=\"processRedo\" />\r\n        </el-tooltip>\r\n        <el-tooltip effect=\"light\" content=\"重新绘制\">\r\n          <el-button :size=\"headerButtonSize\" icon=\"el-icon-refresh\" @click=\"processRestart\" />\r\n        </el-tooltip>\r\n      </el-button-group>\r\n      <!-- 用于打开本地文件-->\r\n      <input type=\"file\" id=\"files\" ref=\"refFile\" style=\"display: none\" accept=\".xml, .bpmn\" @change=\"importLocalFile\" />\r\n    </div>\r\n    <div class=\"my-process-designer__container\">\r\n      <div class=\"my-process-designer__canvas\" ref=\"bpmn-canvas\"></div>\r\n    </div>\r\n    <el-dialog title=\"预览\" width=\"60%\" :visible.sync=\"previewModelVisible\" append-to-body destroy-on-close>\r\n      <highlightjs :language=\"previewType\" :code=\"previewResult\" />\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport BpmnModeler from \"bpmn-js/lib/Modeler\";\r\nimport DefaultEmptyXML from \"./plugins/defaultEmpty\";\r\n// 翻译方法\r\nimport customTranslate from \"./plugins/translate/customTranslate\";\r\nimport translationsCN from \"./plugins/translate/zh\";\r\n// 标签解析构建器\r\n// import bpmnPropertiesProvider from \"bpmn-js-properties-panel/lib/provider/bpmn\";\r\n// 标签解析 Moddle\r\nimport camundaModdleDescriptor from \"./plugins/descriptor/camundaDescriptor.json\";\r\nimport activitiModdleDescriptor from \"./plugins/descriptor/activitiDescriptor.json\";\r\nimport flowableModdleDescriptor from \"./plugins/descriptor/flowableDescriptor.json\";\r\n// 标签解析 Extension\r\nimport camundaModdleExtension from \"./plugins/extension-moddle/camunda\";\r\nimport activitiModdleExtension from \"./plugins/extension-moddle/activiti\";\r\nimport flowableModdleExtension from \"./plugins/extension-moddle/flowable\";\r\n// 引入json转换方法\r\nimport convert from \"xml-js\";\r\nimport hljs from \"highlight.js\";\r\nimport Vue from \"vue\";\r\nVue.use(hljs.vuePlugin);\r\nimport \"highlight.js/styles/atom-one-dark-reasonable.css\";\r\n\r\nexport default {\r\n  name: \"MyProcessDesigner\",\r\n  componentName: \"MyProcessDesigner\",\r\n  props: {\r\n    value: String, // xml 字符串\r\n    translations: Object, // 自定义的翻译文件\r\n    additionalModel: [Object, Array], // 自定义model\r\n    moddleExtension: Object, // 自定义moddle\r\n    onlyCustomizeAddi: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    onlyCustomizeModdle: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    processType: {\r\n      type: String,\r\n      default: \"camunda\"\r\n    },\r\n    events: {\r\n      type: Array,\r\n      default: () => [\"element.click\"]\r\n    },\r\n    panelWidth: {\r\n      type: [String, Number],\r\n      default: 400\r\n    },\r\n    headerButtonSize: {\r\n      type: String,\r\n      default: \"small\",\r\n      validator: value => [\"default\", \"medium\", \"small\", \"mini\"].indexOf(value) !== -1\r\n    },\r\n    headerButtonType: {\r\n      type: String,\r\n      default: \"primary\",\r\n      validator: value => [\"default\", \"primary\", \"success\", \"warning\", \"danger\", \"info\"].indexOf(value) !== -1\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      currentScale: \"100%\",\r\n      defaultZoom: 1,\r\n      previewModelVisible: false,\r\n      previewResult: \"\",\r\n      previewType: \"xml\",\r\n      recoverable: false,\r\n      revocable: false\r\n    };\r\n  },\r\n  computed: {\r\n    additionalModules() {\r\n      const Modules = [];\r\n      // 仅保留用户自定义扩展模块\r\n      if (this.onlyCustomizeAddi) {\r\n        if (Object.prototype.toString.call(this.additionalModel) === \"[object Array]\") {\r\n          return this.additionalModel || [];\r\n        }\r\n        return [this.additionalModel];\r\n      }\r\n\r\n      // 插入用户自定义扩展模块\r\n      if (Object.prototype.toString.call(this.additionalModel) === \"[object Array]\") {\r\n        Modules.push(...this.additionalModel);\r\n      } else {\r\n        this.additionalModel && Modules.push(this.additionalModel);\r\n      }\r\n\r\n      // 翻译模块\r\n      const TranslateModule = {\r\n        translate: [\"value\", customTranslate(this.translations || translationsCN)]\r\n      };\r\n      Modules.push(TranslateModule);\r\n\r\n      // 根据需要的流程类型设置侧边栏构建器\r\n      // if (this.processType === \"bpmn\") {\r\n      //   Modules.push(bpmnModdleExtension);\r\n      // }\r\n      if (this.processType === \"camunda\") {\r\n        Modules.push(camundaModdleExtension);\r\n      }\r\n      if (this.processType === \"flowable\") {\r\n        Modules.push(flowableModdleExtension);\r\n      }\r\n      if (this.processType === \"activiti\") {\r\n        Modules.push(activitiModdleExtension);\r\n      }\r\n\r\n      return Modules;\r\n    },\r\n    moddleExtensions() {\r\n      const Extensions = {};\r\n      // 仅使用用户自定义模块\r\n      if (this.onlyCustomizeModdle) {\r\n        return this.moddleExtension || null;\r\n      }\r\n\r\n      // 插入用户自定义模块\r\n      if (this.moddleExtension) {\r\n        for (let key in this.moddleExtension) {\r\n          Extensions[key] = this.moddleExtension[key];\r\n        }\r\n      }\r\n\r\n      // 根据需要的 \"流程类型\" 设置 对应的解析文件\r\n      if (this.processType === \"activiti\") {\r\n        Extensions.activiti = activitiModdleDescriptor;\r\n      }\r\n      if (this.processType === \"flowable\") {\r\n        Extensions.flowable = flowableModdleDescriptor;\r\n      }\r\n      if (this.processType === \"camunda\") {\r\n        Extensions.camunda = camundaModdleDescriptor;\r\n      }\r\n      return Extensions;\r\n    },\r\n    panelStyle() {\r\n      if (typeof this.panelWidth === \"number\") return { width: `${this.panelWidth}px` };\r\n      return { width: this.panelWidth };\r\n    }\r\n  },\r\n  mounted() {\r\n    this.initBpmnModeler();\r\n    this.createNewDiagram(this.value);\r\n    this.$once(\"hook:beforeDestroy\", () => {\r\n      if (this.bpmnModeler) this.bpmnModeler.destroy();\r\n      this.$emit(\"destroy\", this.bpmnModeler);\r\n      this.bpmnModeler = null;\r\n    });\r\n  },\r\n  methods: {\r\n    initBpmnModeler() {\r\n      if (this.bpmnModeler) return;\r\n      this.bpmnModeler = new BpmnModeler({\r\n        container: this.$refs[\"bpmn-canvas\"],\r\n        additionalModules: this.additionalModules,\r\n        moddleExtensions: this.moddleExtensions\r\n      });\r\n      this.$emit(\"init-finished\", this.bpmnModeler);\r\n      this.initModelListeners();\r\n    },\r\n    createNewDiagram(xml) {\r\n      // 将字符串转换成图显示出来\r\n      let xmlString = xml || DefaultEmptyXML(new Date().getTime(), \"测试流程\");\r\n      this.bpmnModeler\r\n        .importXML(xmlString)\r\n        .then(result => {\r\n          const { warnings } = result;\r\n          if (warnings && warnings.length) console.warn(warnings);\r\n        })\r\n        .catch(e => {\r\n          console.error(e);\r\n        });\r\n    },\r\n    initModelListeners() {\r\n      const EventBus = this.bpmnModeler.get(\"eventBus\");\r\n      const that = this;\r\n      // 注册需要的监听事件, 将. 替换为 - , 避免解析异常\r\n      this.events.forEach(event => {\r\n        EventBus.on(event, function(eventObj) {\r\n          let eventName = event.replace(/\\./g, \"-\");\r\n          let element = eventObj ? eventObj.element : null;\r\n          that.$emit(eventName, element, eventObj);\r\n        });\r\n      });\r\n      // 监听图形改变返回xml\r\n      EventBus.on(\"commandStack.changed\", async () => {\r\n        try {\r\n          this.recoverable = this.bpmnModeler.get(\"commandStack\").canRedo();\r\n          this.revocable = this.bpmnModeler.get(\"commandStack\").canUndo();\r\n          let { xml } = await this.bpmnModeler.saveXML({ format: true });\r\n          this.$emit(\"input\", xml);\r\n          this.$emit(\"change\", xml);\r\n        } catch (e) {\r\n          console.error(e);\r\n        }\r\n      });\r\n      // 监听视图缩放变化\r\n      this.bpmnModeler.on(\"canvas.viewbox.changed\", e => {\r\n        this.defaultZoom = Math.floor(e.viewbox.scale * 100) / 100;\r\n        // this.bpmnModeler.get(\"canvas\").zoom(this.defaultZoom);\r\n        this.currentScale = Math.floor(this.defaultZoom * 100) + \"%\";\r\n      });\r\n    },\r\n\r\n    // 下载流程图到本地\r\n    async downloadProcess(type) {\r\n      try {\r\n        const _this = this;\r\n        // 按需要类型创建文件并下载\r\n        if (type === \"xml\" || type === \"bpmn\") {\r\n          const { err, xml } = await this.bpmnModeler.saveXML();\r\n          // 读取异常时抛出异常\r\n          if (err) {\r\n            return console.error(err);\r\n          }\r\n          let { href, filename } = _this.setEncoded(type.toUpperCase(), xml);\r\n          downloadFunc(href, filename);\r\n        } else {\r\n          const { err, svg } = await this.bpmnModeler.saveSVG();\r\n          // 读取异常时抛出异常\r\n          if (err) {\r\n            return console.error(err);\r\n          }\r\n          let { href, filename } = _this.setEncoded(\"SVG\", svg);\r\n          downloadFunc(href, filename);\r\n        }\r\n      } catch (e) {\r\n        console.error(e);\r\n      }\r\n      // 文件下载方法\r\n      function downloadFunc(href, filename) {\r\n        if (href && filename) {\r\n          let a = document.createElement(\"a\");\r\n          a.download = filename; //指定下载的文件名\r\n          a.href = href; //  URL对象\r\n          a.click(); // 模拟点击\r\n          URL.revokeObjectURL(a.href); // 释放URL 对象\r\n        }\r\n      }\r\n    },\r\n\r\n    // 根据所需类型进行转码并返回下载地址\r\n    setEncoded(type, data) {\r\n      const encodedData = encodeURIComponent(data);\r\n      return {\r\n        filename: `diagram.${type}`,\r\n        href: `data:application/${type === \"svg\" ? \"text/xml\" : \"bpmn20-xml\"};charset=UTF-8,${encodedData}`,\r\n        data: data\r\n      };\r\n    },\r\n\r\n    // 加载本地文件\r\n    importLocalFile() {\r\n      const that = this;\r\n      const file = this.$refs.refFile.files[0];\r\n      const reader = new FileReader();\r\n      reader.readAsText(file);\r\n      reader.onload = function() {\r\n        let xmlStr = this.result;\r\n        that.createNewDiagram(xmlStr);\r\n      };\r\n    },\r\n    /* ------------------------------------------------ refs methods ------------------------------------------------------ */\r\n    downloadProcessAsXml() {\r\n      this.downloadProcess(\"xml\");\r\n    },\r\n    downloadProcessAsBpmn() {\r\n      this.downloadProcess(\"bpmn\");\r\n    },\r\n    downloadProcessAsSvg() {\r\n      this.downloadProcess(\"svg\");\r\n    },\r\n    processRedo() {\r\n      this.bpmnModeler.get(\"commandStack\").redo();\r\n    },\r\n    processUndo() {\r\n      this.bpmnModeler.get(\"commandStack\").undo();\r\n    },\r\n    processZoomIn() {\r\n      this.defaultZoom = Math.floor(this.defaultZoom * 10 + 1) / 10;\r\n      this.bpmnModeler.get(\"canvas\").zoom(this.defaultZoom);\r\n    },\r\n    processZoomOut() {\r\n      this.defaultZoom = Math.floor(this.defaultZoom * 10 - 1) / 10;\r\n      this.bpmnModeler.get(\"canvas\").zoom(this.defaultZoom);\r\n    },\r\n    processReZoom() {\r\n      this.defaultZoom = 1;\r\n      this.bpmnModeler.get(\"canvas\").zoom(\"fit-viewport\", \"auto\");\r\n    },\r\n    processRestart() {\r\n      this.createNewDiagram(null);\r\n    },\r\n    previewProcessXML() {\r\n      this.bpmnModeler.saveXML({ format: true }).then(({ xml }) => {\r\n        this.previewResult = xml;\r\n        this.previewType = \"xml\";\r\n        this.previewModelVisible = true;\r\n      });\r\n    },\r\n    previewProcessJson() {\r\n      this.bpmnModeler.saveXML({ format: true }).then(({ xml }) => {\r\n        this.previewResult = convert.xml2json(xml, { spaces: 2 });\r\n        this.previewType = \"json\";\r\n        this.previewModelVisible = true;\r\n      });\r\n    }\r\n  },\r\n  watch: {\r\n    value: {\r\n      handler: function(val) {\r\n        this.createNewDiagram(val);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProcessDesigner.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProcessDesigner.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProcessDesigner.vue?vue&type=template&id=683e0f32&\"\nimport script from \"./ProcessDesigner.vue?vue&type=script&lang=js&\"\nexport * from \"./ProcessDesigner.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import MyProcessDesigner from \"./ProcessDesigner.vue\";\r\n\r\nMyProcessDesigner.install = function(Vue) {\r\n  Vue.component(MyProcessDesigner.name, MyProcessDesigner);\r\n};\r\n\r\nexport default MyProcessDesigner;\r\n","import MyProcessDesigner from \"./process-designer\";\r\n\r\nconst components = [MyProcessDesigner];\r\n\r\nconst install = function(Vue) {\r\n  components.forEach(component => {\r\n    Vue.component(component.name, component);\r\n  });\r\n};\r\n\r\nif (typeof window !== \"undefined\" && window.Vue) {\r\n  install(window.Vue);\r\n}\r\n\r\nexport default {\r\n  version: \"0.0.1\",\r\n  install,\r\n  ...components\r\n};\r\n","import Vue from \"vue\";\r\nimport App from \"./App.vue\";\r\nimport VueRouter from \"vue-router\";\r\nVue.use(VueRouter);\r\n\r\n// 加载基础ElementUI\r\nimport ElementUI from \"element-ui\";\r\nVue.use(ElementUI);\r\nimport \"../package/theme/element-variables.scss\";\r\n\r\nimport MyPD from \"../package/index.js\";\r\nVue.use(MyPD);\r\nimport \"../package/theme/index.scss\";\r\n\r\nimport \"bpmn-js/dist/assets/diagram-js.css\";\r\nimport \"bpmn-js/dist/assets/bpmn-font/css/bpmn.css\";\r\nimport \"bpmn-js/dist/assets/bpmn-font/css/bpmn-codes.css\";\r\n\r\nimport \"bpmn-js-properties-panel/dist/assets/bpmn-js-properties-panel.css\"; // 右边工具栏样式\r\n\r\nimport clickoutside from \"element-ui/src/utils/clickoutside\";\r\nVue.directive(\"clickoutside\", clickoutside);\r\n\r\nnew Vue({\r\n  router: new VueRouter({\r\n    mode: \"history\"\r\n  }),\r\n  render: h => h(App)\r\n}).$mount(\"#app\");\r\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","module.exports = elementUI;","module.exports = VueRouter;","module.exports = Vue;","\"use strict\";\r\n\r\nmodule.exports = {\r\n  __init__: [\"camundaModdleExtension\"],\r\n  camundaModdleExtension: [\"type\", require(\"./extension\")]\r\n};\r\n","\"use strict\";\r\n\r\nvar some = require(\"min-dash\").some;\r\n\r\nvar ALLOWED_TYPES = {\r\n  FailedJobRetryTimeCycle: [\"bpmn:StartEvent\", \"bpmn:BoundaryEvent\", \"bpmn:IntermediateCatchEvent\", \"bpmn:Activity\"],\r\n  Connector: [\"bpmn:EndEvent\", \"bpmn:IntermediateThrowEvent\"],\r\n  Field: [\"bpmn:EndEvent\", \"bpmn:IntermediateThrowEvent\"]\r\n};\r\n\r\nfunction is(element, type) {\r\n  return element && typeof element.$instanceOf === \"function\" && element.$instanceOf(type);\r\n}\r\n\r\nfunction exists(element) {\r\n  return element && element.length;\r\n}\r\n\r\nfunction includesType(collection, type) {\r\n  return (\r\n    exists(collection) &&\r\n    some(collection, function(element) {\r\n      return is(element, type);\r\n    })\r\n  );\r\n}\r\n\r\nfunction anyType(element, types) {\r\n  return some(types, function(type) {\r\n    return is(element, type);\r\n  });\r\n}\r\n\r\nfunction isAllowed(propName, propDescriptor, newElement) {\r\n  var name = propDescriptor.name,\r\n    types = ALLOWED_TYPES[name.replace(/flowable:/, \"\")];\r\n\r\n  return name === propName && anyType(newElement, types);\r\n}\r\n\r\nfunction FlowableModdleExtension(eventBus) {\r\n  eventBus.on(\r\n    \"property.clone\",\r\n    function(context) {\r\n      var newElement = context.newElement,\r\n        propDescriptor = context.propertyDescriptor;\r\n\r\n      this.canCloneProperty(newElement, propDescriptor);\r\n    },\r\n    this\r\n  );\r\n}\r\n\r\nFlowableModdleExtension.$inject = [\"eventBus\"];\r\n\r\nFlowableModdleExtension.prototype.canCloneProperty = function(newElement, propDescriptor) {\r\n  if (isAllowed(\"flowable:FailedJobRetryTimeCycle\", propDescriptor, newElement)) {\r\n    return (\r\n      includesType(newElement.eventDefinitions, \"bpmn:TimerEventDefinition\") ||\r\n      includesType(newElement.eventDefinitions, \"bpmn:SignalEventDefinition\") ||\r\n      is(newElement.loopCharacteristics, \"bpmn:MultiInstanceLoopCharacteristics\")\r\n    );\r\n  }\r\n\r\n  if (isAllowed(\"flowable:Connector\", propDescriptor, newElement)) {\r\n    return includesType(newElement.eventDefinitions, \"bpmn:MessageEventDefinition\");\r\n  }\r\n\r\n  if (isAllowed(\"flowable:Field\", propDescriptor, newElement)) {\r\n    return includesType(newElement.eventDefinitions, \"bpmn:MessageEventDefinition\");\r\n  }\r\n};\r\n\r\nmodule.exports = FlowableModdleExtension;\r\n","/*\r\n * @author igdianov\r\n * address https://github.com/igdianov/activiti-bpmn-moddle\r\n * */\r\n\r\nmodule.exports = {\r\n  __init__: [\"FlowableModdleExtension\"],\r\n  FlowableModdleExtension: [\"type\", require(\"./flowableExtension\")]\r\n};\r\n","/*\r\n * @author igdianov\r\n * address https://github.com/igdianov/activiti-bpmn-moddle\r\n * */\r\n\r\nmodule.exports = {\r\n  __init__: [\"ActivitiModdleExtension\"],\r\n  ActivitiModdleExtension: [\"type\", require(\"./activitiExtension\")]\r\n};\r\n"],"sourceRoot":""}