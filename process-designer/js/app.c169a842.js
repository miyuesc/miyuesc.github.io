!function(e){function t(t){for(var i,a,o=t[0],l=t[1],p=t[2],m=0,u=[];m<o.length;m++)a=o[m],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&u.push(r[a][0]),r[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);for(c&&c(t);u.length;)u.shift()();return s.push.apply(s,p||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],i=!0,o=1;o<n.length;o++){var l=n[o];0!==r[l]&&(i=!1)}i&&(s.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},r={app:0},s=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="./";var o=window.webpackJsonp=window.webpackJsonp||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var p=0;p<o.length;p++)t(o[p]);var c=l;s.push([0,"chunk-vendors"]),n()}({0:function(e,t,n){e.exports=n("56d7")},"09c5":function(e,t,n){"use strict";n("45fc"),n("b0c0"),n("ac1f"),n("5319");var i=n("87f2").some,r={FailedJobRetryTimeCycle:["bpmn:StartEvent","bpmn:BoundaryEvent","bpmn:IntermediateCatchEvent","bpmn:Activity"],Connector:["bpmn:EndEvent","bpmn:IntermediateThrowEvent"],Field:["bpmn:EndEvent","bpmn:IntermediateThrowEvent"]};function s(e,t){return e&&"function"==typeof e.$instanceOf&&e.$instanceOf(t)}function a(e,t){return(n=e)&&n.length&&i(e,(function(e){return s(e,t)}));var n}function o(e,t,n){var a=t.name,o=r[a.replace(/activiti:/,"")];return a===e&&function(e,t){return i(t,(function(t){return s(e,t)}))}(n,o)}function l(e){e.on("property.clone",(function(e){var t=e.newElement,n=e.propertyDescriptor;this.canCloneProperty(t,n)}),this)}l.$inject=["eventBus"],l.prototype.canCloneProperty=function(e,t){return o("activiti:FailedJobRetryTimeCycle",t,e)?a(e.eventDefinitions,"bpmn:TimerEventDefinition")||a(e.eventDefinitions,"bpmn:SignalEventDefinition")||s(e.loopCharacteristics,"bpmn:MultiInstanceLoopCharacteristics"):o("activiti:Connector",t,e)||o("activiti:Field",t,e)?a(e.eventDefinitions,"bpmn:MessageEventDefinition"):void 0},e.exports=l},1:function(e,t){},2:function(e,t){},"215a":function(e,t,n){"use strict";n("c975"),n("45fc");var i=n("87f2").isFunction,r=n("87f2").isObject,s=n("87f2").some;function a(e){var t=this;e.on("moddleCopy.canCopyProperty",(function(e){var n=e.property,i=e.parent;return t.canCopyProperty(n,i)}))}function o(e,t){return e&&i(e.$instanceOf)&&e.$instanceOf(t)}function l(e,t){return s(t,(function(t){return o(e,t)}))}function p(e,t){return t?o(e,t)?e:e.$parent?p(e.$parent,t):void 0:e.$parent}a.$inject=["eventBus"],a.prototype.canCopyProperty=function(e,t){return!(r(e)&&!function(e,t){var n=e.$type&&e.$model.getTypeDescriptor(e.$type),i=n&&n.meta&&n.meta.allowedIn;return!(i&&!function(e){return-1!==e.indexOf("*")}(i))||s(i,(function(e){return p(t,e)}))}(e,t))&&!(o(e,"camunda:InputOutput")&&!this.canHostInputOutput(t))&&!(l(e,["camunda:Connector","camunda:Field"])&&!this.canHostConnector(t))&&!(o(e,"camunda:In")&&!this.canHostIn(t))&&void 0},a.prototype.canHostInputOutput=function(e){if(p(e,"camunda:Connector"))return!0;var t=p(e,"bpmn:FlowNode");return!!t&&!l(t,["bpmn:StartEvent","bpmn:Gateway","bpmn:BoundaryEvent"])&&(!o(t,"bpmn:SubProcess")||!t.get("triggeredByEvent"))},a.prototype.canHostConnector=function(e){return!o(p(e,"camunda:ServiceTaskLike"),"bpmn:MessageEventDefinition")||p(e,"bpmn:IntermediateThrowEvent")||p(e,"bpmn:EndEvent")},a.prototype.canHostIn=function(e){return!!p(e,"bpmn:CallActivity")||!p(e,"bpmn:SignalEventDefinition")||p(e,"bpmn:IntermediateThrowEvent")||p(e,"bpmn:EndEvent")},e.exports=a},"4c0a":function(e,t,n){},"4c56":function(e,t,n){var i=n("1020");i.registerLanguage("xml",n("8dcb")),i.registerLanguage("json",n("5ad2")),e.exports=i},"56d7":function(e,t,n){"use strict";n.r(t),n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("8bbf"),r=n.n(i),s={"Exclusive Gateway":"Exklusives Gateway","Parallel Gateway":"Paralleles Gateway","Inclusive Gateway":"Inklusives Gateway","Complex Gateway":"Komplexes Gateway","Event based Gateway":"Ereignis-basiertes Gateway","Message Start Event":"消息启动事件","Timer Start Event":"定时启动事件","Conditional Start Event":"条件启动事件","Signal Start Event":"信号启动事件","Error Start Event":"错误启动事件","Escalation Start Event":"升级启动事件","Compensation Start Event":"补偿启动事件","Message Start Event (non-interrupting)":"消息启动事件 (非中断)","Timer Start Event (non-interrupting)":"定时启动事件 (非中断)","Conditional Start Event (non-interrupting)":"条件启动事件 (非中断)","Signal Start Event (non-interrupting)":"信号启动事件 (非中断)","Escalation Start Event (non-interrupting)":"升级启动事件 (非中断)"},a=n("5e40");function o(e,t,n,i,r,s){a.a.call(this,e,t,n,i,r,s,2e3),this.handlers.label=function(){return null}}o.prototype=a.a.prototype;var l={__init__:["customRenderer"],customRenderer:["type",o]},p=(n("ac1f"),n("5319"),n("87f2")),c=n("7a6b"),m=n("dbc8"),u=n("145d"),d=n("cf0a"),b=n("78f9");function f(e,t,n,i,r,s,a,o,l,p,c,m,u){e=e||{},i.registerProvider(this),console.log(u),this._contextPad=i,this._modeling=r,this._elementFactory=s,this._connect=a,this._create=o,this._popupMenu=l,this._canvas=p,this._rules=c,this._translate=m,!1!==e.autoPlace&&(this._autoPlace=t.get("autoPlace",!1)),n.on("create.end",250,(function(e){var t=e.context.shape;if(Object(b.a)(e)&&i.isOpen(t)){var n=i.getEntries(t);n.replace&&n.replace.action.click(e,t)}}))}function y(e,t,n){var i=e.$instanceOf(t),r=!1,s=e.eventDefinitions||[];return Object(p.forEach)(s,(function(e){e.$type===n&&(r=!0)})),i&&r}f.$inject=["config.contextPad","injector","eventBus","contextPad","modeling","elementFactory","connect","create","popupMenu","canvas","rules","translate","elementRegistry"],f.prototype.getContextPadEntries=function(e){var t=this._contextPad,n=this._modeling,i=this._elementFactory,r=this._connect,s=this._create,a=this._popupMenu,o=this._canvas,l=this._rules,b=this._autoPlace,f=this._translate,v={};if("label"===e.type)return v;var h=e.businessObject;function g(e,t){r.start(e,t)}function x(e,t,n,r){function a(t,n){var a=i.createShape(Object(p.assign)({type:e},r));s.start(t,a,{source:n})}return"string"!=typeof n&&(r=n,n=f("Append {type}",{type:e.replace(/^bpmn:/,"")})),{group:"model",className:t,title:n,action:{dragstart:a,click:b?function(t,n){var s=i.createShape(Object(p.assign)({type:e},r));b.append(n,s)}:a}}}function S(e){return function(i,r){n.splitLane(r,e),t.open(r,!0)}}if(Object(u.b)(h,["bpmn:Lane","bpmn:Participant"])&&Object(m.f)(h)){var E=Object(d.d)(e);Object(p.assign)(v,{"lane-insert-above":{group:"lane-insert-above",className:"bpmn-icon-lane-insert-above",title:f("Add Lane above"),action:{click:function(e,t){n.addLane(t,"top")}}}}),E.length<2&&(e.height>=120&&Object(p.assign)(v,{"lane-divide-two":{group:"lane-divide",className:"bpmn-icon-lane-divide-two",title:f("Divide into two Lanes"),action:{click:S(2)}}}),e.height>=180&&Object(p.assign)(v,{"lane-divide-three":{group:"lane-divide",className:"bpmn-icon-lane-divide-three",title:f("Divide into three Lanes"),action:{click:S(3)}}})),Object(p.assign)(v,{"lane-insert-below":{group:"lane-insert-below",className:"bpmn-icon-lane-insert-below",title:f("Add Lane below"),action:{click:function(e,t){n.addLane(t,"bottom")}}}})}Object(c.is)(h,"bpmn:FlowNode")&&(Object(c.is)(h,"bpmn:EventBasedGateway")?Object(p.assign)(v,{"append.receive-task":x("bpmn:ReceiveTask","bpmn-icon-receive-task",f("Append ReceiveTask")),"append.message-intermediate-event":x("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-message",f("Append MessageIntermediateCatchEvent"),{eventDefinitionType:"bpmn:MessageEventDefinition"}),"append.timer-intermediate-event":x("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-timer",f("Append TimerIntermediateCatchEvent"),{eventDefinitionType:"bpmn:TimerEventDefinition"}),"append.condition-intermediate-event":x("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-condition",f("Append ConditionIntermediateCatchEvent"),{eventDefinitionType:"bpmn:ConditionalEventDefinition"}),"append.signal-intermediate-event":x("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-signal",f("Append SignalIntermediateCatchEvent"),{eventDefinitionType:"bpmn:SignalEventDefinition"})}):y(h,"bpmn:BoundaryEvent","bpmn:CompensateEventDefinition")?Object(p.assign)(v,{"append.compensation-activity":x("bpmn:Task","bpmn-icon-task",f("Append compensation activity"),{isForCompensation:!0})}):Object(c.is)(h,"bpmn:EndEvent")||h.isForCompensation||y(h,"bpmn:IntermediateThrowEvent","bpmn:LinkEventDefinition")||Object(m.e)(h)||Object(p.assign)(v,{"append.end-event":x("bpmn:EndEvent","bpmn-icon-end-event-none",f("Append EndEvent")),"append.gateway":x("bpmn:ExclusiveGateway","bpmn-icon-gateway-none",f("Append Gateway")),"append.append-task":x("bpmn:UserTask","bpmn-icon-user-task",f("Append Task")),"append.intermediate-event":x("bpmn:IntermediateThrowEvent","bpmn-icon-intermediate-event-none",f("Append Intermediate/Boundary Event"))})),a.isEmpty(e,"bpmn-replace")||Object(p.assign)(v,{replace:{group:"edit",className:"bpmn-icon-screw-wrench",title:f("Change type"),action:{click:function(e,n){var i=Object(p.assign)(function(e){var n=o.getContainer(),i=t.getPad(e).html,r=n.getBoundingClientRect(),s=i.getBoundingClientRect(),a=s.top-r.top;return{x:s.left-r.left,y:a+s.height+5}}(n),{cursor:{x:e.x,y:e.y}});a.open(n,"bpmn-replace",i)}}}}),Object(u.b)(h,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference"])&&Object(p.assign)(v,{"append.text-annotation":x("bpmn:TextAnnotation","bpmn-icon-text-annotation"),connect:{group:"connect",className:"bpmn-icon-connection-multi",title:f("Connect using "+(h.isForCompensation?"":"Sequence/MessageFlow or ")+"Association"),action:{click:g,dragstart:g}}}),Object(u.b)(h,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&Object(p.assign)(v,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:f("Connect using DataInputAssociation"),action:{click:g,dragstart:g}}}),Object(c.is)(h,"bpmn:Group")&&Object(p.assign)(v,{"append.text-annotation":x("bpmn:TextAnnotation","bpmn-icon-text-annotation")});var F=l.allowed("elements.delete",{elements:[e]});return Object(p.isArray)(F)&&(F=F[0]===e),F&&Object(p.assign)(v,{delete:{group:"edit",className:"bpmn-icon-trash",title:f("Remove"),action:{click:function(){n.removeElements([e])}}}}),v};var v={__init__:["contextPadProvider"],contextPadProvider:["type",f]},h=(n("99af"),n("4de4"),n("7db0"),n("c975"),n("d81d"),n("b0c0"),n("a9e3"),n("d3b7"),n("ddb0"),n("5530")),g=(n("b64b"),{name:"ConditionConfig",props:{bpmnModeler:Object,conditions:Object,elementId:String},data:function(){return{condition:{}}},watch:{conditions:{deep:!0,immediate:!0,handler:function(){this.conditions&&Object.keys(this.conditions).length&&this.initConditionForm(this.conditions)}}},mounted:function(){this.bpmnModeler&&(this.modeling=this.bpmnModeler.get("modeling"),this.moddle=this.bpmnModeler.get("moddle"),this.elementRegistry=this.bpmnModeler.get("elementRegistry"))},methods:{initConditionForm:function(e){var t=e.language?"script":"expression",n=e.resource?"externalScript":"inlineScript";this.condition=Object(h.a)(Object(h.a)({},e),{},{conditionType:"condition"===e.type?t:void 0,scriptType:"condition"===e.type?n:void 0,resource:e.resource})},updateFlowType:function(e){var t=this,n=this.elementRegistry.get(this.elementId),i=this.elementRegistry.get(n.businessObject.sourceRef.id);setTimeout((function(){"normal"===e&&(i.businessObject.default&&i.businessObject.default.id===n.id&&t.modeling.updateProperties(i,{default:null}),t.modeling.updateProperties(n,{conditionExpression:null}),delete n.businessObject.conditionExpression),"default"===e&&(t.modeling.updateProperties(i,{default:n}),delete n.businessObject.conditionExpression),"condition"===e&&t.modeling.updateProperties(n,{conditionExpression:t.moddle.create("bpmn:FormalExpression")}),t.initConditionForm({type:e})}))},changeFlowConditionType:function(e){this.$set(this.condition,"body",""),"expression"===e&&(this.$set(this.condition,"language",void 0),this.$set(this.condition,"resource",void 0));var t=this.elementRegistry.get(this.elementId);this.modeling.updateProperties(t,{conditionExpression:this.moddle.create("bpmn:FormalExpression",{body:""})})},updateFlowCondition:function(){var e,t=this.condition,n=t.conditionType,i=t.scriptType,r=t.body,s=t.resource,a=t.language,o=this.elementRegistry.get(this.elementId);"expression"===n?e=this.moddle.create("bpmn:FormalExpression",{body:r}):("inlineScript"===i?this.$set(this.condition,"resource",void 0):this.$set(this.condition,"body",void 0),e=this.moddle.create("bpmn:FormalExpression",{body:r,resource:s,language:a})),this.modeling.updateProperties(o,{conditionExpression:e})}}}),x=n("2877"),S=Object(x.a)(g,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"element-property input-property"},[n("div",{staticClass:"element-property__label"},[e._v("流转类型：")]),n("div",{staticClass:"element-property__value"},[n("el-select",{attrs:{size:"mini"},on:{change:e.updateFlowType},model:{value:e.condition.type,callback:function(t){e.$set(e.condition,"type",t)},expression:"condition.type"}},[n("el-option",{attrs:{label:"普通流转路径",value:"normal"}}),n("el-option",{attrs:{label:"默认流转路径",value:"default"}}),n("el-option",{attrs:{label:"条件流转路径",value:"condition"}})],1)],1)]),"condition"===e.condition.type?n("div",{staticClass:"element-property input-property"},[n("div",{staticClass:"element-property__label"},[e._v("条件格式：")]),n("div",{staticClass:"element-property__value"},[n("el-select",{attrs:{size:"mini"},on:{change:e.changeFlowConditionType},model:{value:e.condition.conditionType,callback:function(t){e.$set(e.condition,"conditionType",t)},expression:"condition.conditionType"}},[n("el-option",{attrs:{label:"表达式",value:"expression"}}),n("el-option",{attrs:{label:"脚本",value:"script"}})],1)],1)]):e._e(),"expression"===e.condition.conditionType?n("div",{staticClass:"element-property input-property"},[n("div",{staticClass:"element-property__label"},[e._v("表达式：")]),n("div",{staticClass:"element-property__value"},[n("el-input",{attrs:{size:"mini",clearable:""},on:{change:e.updateFlowCondition},model:{value:e.condition.body,callback:function(t){e.$set(e.condition,"body",t)},expression:"condition.body"}})],1)]):e._e(),"script"===e.condition.conditionType?[n("div",{staticClass:"element-property input-property"},[n("div",{staticClass:"element-property__label"},[e._v("脚本格式：")]),n("div",{staticClass:"element-property__value"},[n("el-input",{attrs:{size:"mini",clearable:""},on:{change:e.updateFlowCondition},model:{value:e.condition.language,callback:function(t){e.$set(e.condition,"language",t)},expression:"condition.language"}})],1)]),n("div",{staticClass:"element-property input-property"},[n("div",{staticClass:"element-property__label"},[e._v("脚本类型：")]),n("div",{staticClass:"element-property__value"},[n("el-select",{attrs:{size:"mini"},on:{change:e.updateFlowCondition},model:{value:e.condition.scriptType,callback:function(t){e.$set(e.condition,"scriptType",t)},expression:"condition.scriptType"}},[n("el-option",{attrs:{label:"内联脚本",value:"inlineScript"}}),n("el-option",{attrs:{label:"外部脚本",value:"externalScript"}})],1)],1)]),"inlineScript"===e.condition.scriptType?n("div",{staticClass:"element-property input-property"},[n("div",{staticClass:"element-property__label"},[e._v("脚本：")]),n("div",{staticClass:"element-property__value"},[n("el-input",{attrs:{size:"mini",type:"textarea",clearable:""},on:{change:e.updateFlowCondition},model:{value:e.condition.body,callback:function(t){e.$set(e.condition,"body",t)},expression:"condition.body"}})],1)]):e._e(),"externalScript"===e.condition.scriptType?n("div",{staticClass:"element-property input-property"},[n("div",{staticClass:"element-property__label"},[e._v("资源地址：")]),n("div",{staticClass:"element-property__value"},[n("el-input",{attrs:{size:"mini",clearable:""},on:{change:e.updateFlowCondition},model:{value:e.condition.resource,callback:function(t){e.$set(e.condition,"resource",t)},expression:"condition.resource"}})],1)]):e._e()]:e._e()],2)}),[],!1,null,null,null).exports,E=(n("a434"),n("96cf"),n("1da1")),F={name:"ElementListener",props:{listeners:{type:Array,default:function(){return[]}},bpmnModeler:Object,elementId:String},inject:{prefix:"prefix",width:"width"},data:function(){return{ownerListenersList:[],ownerListenersObjectList:[],listenerForm:{},listenerFieldForm:{},fieldsOfListener:[],showListenerForm:!1,listenerIndex:0,showListenerFieldForm:!1,listenerFiledIndex:0,listenerTypeObject:{classListener:"Java 类",expressionListener:"表达式",delegateExpressionListener:"代理表达式",scriptListener:"脚本"},fieldTypeObject:{string:"字符串",expression:"表达式"}}},watch:{listeners:{deep:!0,handler:function(e){e.length?(this.ownerListenersObjectList=e,this.ownerListenersList=e.map((function(e){var t;return e.class&&(t="classListener"),e.expression&&(t="expressionListener"),e.delegateExpression&&(t="delegateExpressionListener"),e.script&&(t="scriptListener"),Object(h.a)(Object(h.a)({},e),{},{listenerType:t})}))):(this.ownerListenersObjectList=[],this.ownerListenersList=[])}}},created:function(){this.initModel()},beforeDestroy:function(){clearTimeout(this.timer)},methods:{initModel:function(){var e=this;this.bpmnModeler?(this.timer&&clearTimeout(this.timer),this.moddle=this.bpmnModeler.get("moddle")):this.timer=setTimeout((function(){return e.initModel()}),10)},openListenerForm:function(e,t){var n=this;if(e){var i=JSON.parse(JSON.stringify(e));for(var r in e.script&&Object.assign(i.script,Object(h.a)(Object(h.a)({},e.script),{},{scriptType:e.script.resource?"externalScript":"inlineScript"})),i)this.$set(this.listenerForm,r,i[r]);this.listenerIndex=t}else this.listenerForm={},this.listenerIndex=-1;this.initListenerFields(),this.showListenerForm=!0,this.$nextTick((function(){n.$refs.listenerFormRef&&n.$refs.listenerFormRef.clearValidate()}))},handleCancel:function(){this.showListenerForm=!1,this.listenerForm={},this.listenerScriptForm={}},saveListenerConfig:function(){var e=this;return Object(E.a)(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.listenerFormRef.validate();case 2:if(t.sent){t.next=5;break}return t.abrupt("return");case 5:n=e.initListenerObject(e.listenerForm),i=e.moddle.create("".concat(e.prefix,":ExecutionListener"),n),e.$emit("listener-save",i),-1===e.listenerIndex?(e.ownerListenersObjectList.push(i),e.ownerListenersList.push(e.listenerForm)):(e.ownerListenersObjectList.splice(e.listenerIndex,1,i),e.ownerListenersList.splice(e.listenerIndex,1,e.listenerForm)),e.$emit("change",e.ownerListenersObjectList),e.showListenerForm=!1,e.listenerForm={};case 12:case"end":return t.stop()}}),t)})))()},initListenerObject:function(e){var t=this,n={};switch(n.event=e.event,e.listenerType){case"scriptListener":n.script=this.moddle.create("".concat(this.prefix,":Script"),Object(h.a)({},this.listenerScriptForm));break;case"expressionListener":n.expression=e.expression;break;case"delegateExpressionListener":n.delegateExpression=e.delegateExpression;break;default:n.class=e.class}return e.fields&&(n.fields=e.fields.map((function(e){return t.moddle.create("".concat(t.prefix,":Field"),e)}))),n},initListenerFields:function(){this.listenerForm.fields&&this.listenerForm.fields.length?this.fieldsOfListener=this.listenerForm.fields.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{fieldType:e.string?"string":"expression"})})):this.fieldsOfListener=[]},openListenerFieldForm:function(e,t){var n=this;this.listenerFieldForm=e?JSON.parse(JSON.stringify(e)):{},this.listenerFiledIndex=e?t:-1,this.showListenerFieldForm=!0,this.$nextTick((function(){n.$refs.listenerFieldFormRef&&n.$refs.listenerFieldFormRef.clearValidate()}))},saveListenerFiled:function(){var e=this;return Object(E.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.listenerFieldFormRef.validate();case 2:if(t.sent){t.next=5;break}return t.abrupt("return");case 5:n="string"===e.listenerFieldForm.fieldType?{name:e.listenerFieldForm.name,string:e.listenerFieldForm.string}:{name:e.listenerFieldForm.name,expression:e.listenerFieldForm.expression},-1===e.listenerFiledIndex?e.listenerForm.fields?e.listenerForm.fields.push(n):e.$set(e.listenerForm,"fields",[n]):e.listenerForm.fields.splice(e.listenerFiledIndex,1,n),e.initListenerFields(),e.showListenerFieldForm=!1;case 9:case"end":return t.stop()}}),t)})))()},removeListener:function(e,t){var n=this.ownerListenersList.splice(t,1);this.$emit("remove-listener",n),this.$emit("change",this.ownerListenersList)},removeListenerField:function(e,t){this.listenerForm.fields.splice(t,1);var n=this.fieldsOfListener.splice(t,1);this.$emit("remove-listener",n)}}},A=Object(x.a)(F,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"panel-tab__content"},[n("div",{staticClass:"element-property list-property"},[n("el-table",{attrs:{data:e.ownerListenersList,size:"mini","max-height":"240",border:"",fit:""}},[n("el-table-column",{attrs:{label:"序号",width:"50px",type:"index"}}),n("el-table-column",{attrs:{label:"事件类型","min-width":"100px",prop:"event"}}),n("el-table-column",{attrs:{label:"监听器类型","min-width":"100px","show-overflow-tooltip":"",formatter:function(t){return e.listenerTypeObject[t.listenerType]}}}),n("el-table-column",{attrs:{label:"操作",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,r=t.$index;return[n("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.openListenerForm(i,r)}}},[e._v("编辑")]),n("el-divider",{attrs:{direction:"vertical"}}),n("el-button",{staticStyle:{color:"#ff4d4f"},attrs:{size:"mini",type:"text"},on:{click:function(t){return e.removeListener(i,r)}}},[e._v("移除")])]}}])})],1)],1),n("div",{staticClass:"element-drawer__button"},[n("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.openListenerForm(null)}}},[e._v("添加监听器")])],1),n("el-drawer",{attrs:{visible:e.showListenerForm,title:"事件监听器",size:this.width+"px","append-to-body":"","destroy-on-close":""},on:{"update:visible":function(t){e.showListenerForm=t}}},[n("el-form",{ref:"listenerFormRef",attrs:{size:"mini",model:e.listenerForm,"label-width":"96px"}},[n("el-form-item",{attrs:{label:"事件类型",prop:"event",rules:{required:!0,trigger:["blur","change"]}}},[n("el-select",{model:{value:e.listenerForm.event,callback:function(t){e.$set(e.listenerForm,"event",t)},expression:"listenerForm.event"}},[n("el-option",{attrs:{label:"start",value:"start"}}),n("el-option",{attrs:{label:"end",value:"end"}})],1)],1),n("el-form-item",{attrs:{label:"监听器类型",prop:"listenerType",rules:{required:!0,trigger:["blur","change"]}}},[n("el-select",{model:{value:e.listenerForm.listenerType,callback:function(t){e.$set(e.listenerForm,"listenerType",t)},expression:"listenerForm.listenerType"}},e._l(Object.keys(e.listenerTypeObject),(function(t){return n("el-option",{key:t,attrs:{label:e.listenerTypeObject[t],value:t}})})),1)],1),"classListener"===e.listenerForm.listenerType?n("el-form-item",{key:"listener-class",attrs:{label:"Java类",prop:"class",rules:{required:!0,trigger:["blur","change"]}}},[n("el-input",{attrs:{clearable:""},model:{value:e.listenerForm.class,callback:function(t){e.$set(e.listenerForm,"class",t)},expression:"listenerForm.class"}})],1):e._e(),"expressionListener"===e.listenerForm.listenerType?n("el-form-item",{key:"listener-expression",attrs:{label:"表达式",prop:"expression",rules:{required:!0,trigger:["blur","change"]}}},[n("el-input",{attrs:{clearable:""},model:{value:e.listenerForm.expression,callback:function(t){e.$set(e.listenerForm,"expression",t)},expression:"listenerForm.expression"}})],1):e._e(),"delegateExpressionListener"===e.listenerForm.listenerType?n("el-form-item",{key:"listener-delegate",attrs:{label:"代理表达式",prop:"delegateExpression",rules:{required:!0,trigger:["blur","change"]}}},[n("el-input",{attrs:{clearable:""},model:{value:e.listenerForm.delegateExpression,callback:function(t){e.$set(e.listenerForm,"delegateExpression",t)},expression:"listenerForm.delegateExpression"}})],1):e._e(),"scriptListener"===e.listenerForm.listenerType?[n("el-form-item",{key:"listener-script-format",attrs:{label:"脚本格式",prop:"scriptFormat",rules:{required:!0,trigger:["blur","change"]}}},[n("el-input",{attrs:{clearable:""},model:{value:e.listenerForm.script.scriptFormat,callback:function(t){e.$set(e.listenerForm.script,"scriptFormat",t)},expression:"listenerForm.script.scriptFormat"}})],1),n("el-form-item",{key:"listener-script-type",attrs:{label:"脚本类型",prop:"script.scriptType",rules:{required:!0,trigger:["blur","change"]}}},[n("el-select",{model:{value:e.listenerForm.script.scriptType,callback:function(t){e.$set(e.listenerForm.script,"scriptType",t)},expression:"listenerForm.script.scriptType"}},[n("el-option",{attrs:{label:"内联脚本",value:"inlineScript"}}),n("el-option",{attrs:{label:"外部脚本",value:"externalScript"}})],1)],1),"inlineScript"===e.listenerForm.script.scriptType?n("el-form-item",{key:"listener-script",attrs:{label:"脚本内容",prop:"script.value",rules:{required:!0,trigger:["blur","change"]}}},[n("el-input",{attrs:{clearable:""},model:{value:e.listenerForm.script.value,callback:function(t){e.$set(e.listenerForm.script,"value",t)},expression:"listenerForm.script.value"}})],1):e._e(),"externalScript"===e.listenerForm.script.scriptType?n("el-form-item",{key:"listener-resource",attrs:{label:"资源地址",prop:"script.resource",rules:{required:!0,trigger:["blur","change"]}}},[n("el-input",{attrs:{clearable:""},model:{value:e.listenerForm.script.resource,callback:function(t){e.$set(e.listenerForm.script,"resource",t)},expression:"listenerForm.script.resource"}})],1):e._e()]:e._e()],2),n("el-divider"),n("p",{staticClass:"listener-filed__title"},[n("span",[n("i",{staticClass:"el-icon-menu"}),e._v("注入字段：")]),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.openListenerFieldForm(null)}}},[e._v("添加字段")])],1),n("el-table",{staticStyle:{flex:"none"},attrs:{data:e.fieldsOfListener,size:"mini","max-height":"240",border:"",fit:""}},[n("el-table-column",{attrs:{label:"序号",width:"50px",type:"index"}}),n("el-table-column",{attrs:{label:"字段名称","min-width":"100px",prop:"name"}}),n("el-table-column",{attrs:{label:"字段类型","min-width":"80px","show-overflow-tooltip":"",formatter:function(t){return e.fieldTypeObject[t.fieldType]}}}),n("el-table-column",{attrs:{label:"字段值/表达式","min-width":"100px","show-overflow-tooltip":"",formatter:function(e){return e.string||e.expression}}}),n("el-table-column",{attrs:{label:"操作",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,r=t.$index;return[n("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.openListenerFieldForm(i,r)}}},[e._v("编辑")]),n("el-divider",{attrs:{direction:"vertical"}}),n("el-button",{staticStyle:{color:"#ff4d4f"},attrs:{size:"mini",type:"text"},on:{click:function(t){return e.removeListenerField(i,r)}}},[e._v("移除")])]}}])})],1),n("div",{staticClass:"element-drawer__button"},[n("el-button",{attrs:{size:"mini"},on:{click:e.handleCancel}},[e._v("取 消")]),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.saveListenerConfig}},[e._v("保 存")])],1)],1),n("el-dialog",{attrs:{title:"字段配置",visible:e.showListenerFieldForm,width:"600px","append-to-body":"","destroy-on-close":""},on:{"update:visible":function(t){e.showListenerFieldForm=t}}},[n("el-form",{ref:"listenerFieldFormRef",attrs:{model:e.listenerFieldForm,size:"mini","label-width":"96px"}},[n("el-form-item",{attrs:{label:"字段名称：",prop:"name",rules:{required:!0,trigger:["blur","change"]}}},[n("el-input",{attrs:{clearable:""},model:{value:e.listenerFieldForm.name,callback:function(t){e.$set(e.listenerFieldForm,"name",t)},expression:"listenerFieldForm.name"}})],1),n("el-form-item",{attrs:{label:"字段类型：",prop:"fieldType",rules:{required:!0,trigger:["blur","change"]}}},[n("el-select",{model:{value:e.listenerFieldForm.fieldType,callback:function(t){e.$set(e.listenerFieldForm,"fieldType",t)},expression:"listenerFieldForm.fieldType"}},e._l(Object.keys(e.fieldTypeObject),(function(t){return n("el-option",{key:t,attrs:{label:e.fieldTypeObject[t],value:t}})})),1)],1),"string"===e.listenerFieldForm.fieldType?n("el-form-item",{key:"field-string",attrs:{label:"字段值：",prop:"string",rules:{required:!0,trigger:["blur","change"]}}},[n("el-input",{attrs:{clearable:""},model:{value:e.listenerFieldForm.string,callback:function(t){e.$set(e.listenerFieldForm,"string",t)},expression:"listenerFieldForm.string"}})],1):e._e(),"expression"===e.listenerFieldForm.fieldType?n("el-form-item",{key:"field-expression",attrs:{label:"表达式：",prop:"expression",rules:{required:!0,trigger:["blur","change"]}}},[n("el-input",{attrs:{clearable:""},model:{value:e.listenerFieldForm.expression,callback:function(t){e.$set(e.listenerFieldForm,"expression",t)},expression:"listenerFieldForm.expression"}})],1):e._e()],1),n("template",{slot:"footer"},[n("el-button",{attrs:{size:"mini"},on:{click:function(t){e.showListenerFieldForm=!1}}},[e._v("取 消")]),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.saveListenerFiled}},[e._v("确 定")])],1)],2)],1)}),[],!1,null,null,null).exports,C={name:"ElementAttributes",props:{attributes:{type:Array,default:function(){return[]}},bpmnModeler:Object,elementId:String},inject:{prefix:"prefix",width:"width"},data:function(){return{ownerAttributes:[],attributeForm:{},attributeIndex:-1,showAttributeForm:!1}},computed:{},created:function(){this.initModel()},beforeDestroy:function(){clearTimeout(this.timer)},methods:{initModel:function(){var e=this;this.bpmnModeler?(this.timer&&clearTimeout(this.timer),this.moddle=this.bpmnModeler.get("moddle")):this.timer=setTimeout((function(){return e.initModel()}),10)},openAttributesForm:function(e,t){var n=this;this.attributeIndex=t,this.attributeForm=-1===t?{}:JSON.parse(JSON.stringify(e)),this.showAttributeForm=!0,this.$nextTick((function(){n.$refs.attributeFormRef&&n.$refs.attributeFormRef.clearValidate()}))},removeAttributes:function(e,t){var n=this.ownerAttributes.splice(t,1);this.$emit("removed",n),this.$emit("change",this.ownerAttributes)},saveAttribute:function(){var e=this;return Object(E.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.attributeFormRef.validate();case 2:if(t.sent){t.next=5;break}return t.abrupt("return");case 5:-1===e.attributeIndex?e.ownerAttributes.push(e.attributeForm):e.ownerAttributes.splice(e.attributeIndex,1,e.attributeForm),e.$emit("saved",e.attributeForm),e.$emit("change",e.ownerAttributes),e.showAttributeForm=!1;case 9:case"end":return t.stop()}}),t)})))()}},watch:{attributes:{deep:!0,immediate:!0,handler:function(e){var t;e&&(this.ownerAttributes=JSON.parse(JSON.stringify((null===(t=this.attributes[0])||void 0===t?void 0:t.values)||[])))}}}},w=Object(x.a)(C,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"panel-tab__content"},[n("div",{staticClass:"element-property list-property"},[n("el-table",{attrs:{data:e.ownerAttributes,size:"mini","max-height":"240",border:"",fit:""}},[n("el-table-column",{attrs:{label:"序号",width:"50px",type:"index"}}),n("el-table-column",{attrs:{label:"属性名",prop:"name","min-width":"100px","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{label:"属性值",prop:"value","min-width":"100px","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{label:"操作",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,r=t.$index;return[n("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.openAttributesForm(i,r)}}},[e._v("编辑")]),n("el-divider",{attrs:{direction:"vertical"}}),n("el-button",{staticStyle:{color:"#ff4d4f"},attrs:{size:"mini",type:"text"},on:{click:function(t){return e.removeAttributes(i,r)}}},[e._v("移除")])]}}])})],1)],1),n("div",{staticClass:"element-drawer__button"},[n("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.openAttributesForm(null,-1)}}},[e._v("添加属性")])],1),n("el-dialog",{attrs:{visible:e.showAttributeForm,title:"属性配置",width:"600px","append-to-body":"","destroy-on-close":""},on:{"update:visible":function(t){e.showAttributeForm=t}}},[n("el-form",{ref:"attributeFormRef",attrs:{model:e.attributeForm,"label-width":"80px",size:"mini"}},[n("el-form-item",{attrs:{label:"属性名：",prop:"name",rules:{required:!0,trigger:["blur","change"]}}},[n("el-input",{attrs:{clearable:""},model:{value:e.attributeForm.name,callback:function(t){e.$set(e.attributeForm,"name",t)},expression:"attributeForm.name"}})],1),n("el-form-item",{attrs:{label:"属性值：",prop:"value",rules:{required:!0,trigger:["blur","change"]}}},[n("el-input",{attrs:{clearable:""},model:{value:e.attributeForm.value,callback:function(t){e.$set(e.attributeForm,"value",t)},expression:"attributeForm.value"}})],1)],1),n("template",{slot:"footer"},[n("el-button",{attrs:{size:"mini"},on:{click:function(t){e.showAttributeForm=!1}}},[e._v("取 消")]),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.saveAttribute}},[e._v("确 定")])],1)],2)],1)}),[],!1,null,null,null).exports,O={name:"TaskLoopCharacteristics",props:{bpmnModeler:Object,elementId:String,elementBusinessObject:Object},inject:{prefix:"prefix"},data:function(){return{loopCharacteristics:null,loopInstanceForm:{}}},watch:{elementBusinessObject:{immediate:!0,deep:!0,handler:function(e,t){null!=t&&t.loopCharacteristics&&e.loopCharacteristics===t.loopCharacteristics||this.initElementBusinessObject(e.id)}},loopInstanceForm:{deep:!0,handler:function(){this.updateLoopCharacteristicsObject()}}},created:function(){this.updateLoopCharacteristicsObject=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return function(){t&&(clearTimeout(t),t=null);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];t=setTimeout(e.bind.apply(e,[this].concat(r)),n)}}(this.updateLoopCharacteristicsObject,200)},methods:{initElementBusinessObject:function(e){var t,n;!this.modeling&&(this.modeling=this.bpmnModeler.get("modeling")),!this.moddle&&(this.moddle=this.bpmnModeler.get("moddle")),!this.elementRegistry&&(this.elementRegistry=this.bpmnModeler.get("elementRegistry")),e&&(this.element=this.elementRegistry.get(e),this.loopCharacteristicsObject=null!==(t=null===(n=this.element.businessObject)||void 0===n?void 0:n.get("loopCharacteristics"))&&void 0!==t?t:null,this.initLoopCharacteristics())},initLoopCharacteristics:function(){if(this.loopCharacteristicsObject){var e,t,n,i,r,s=this.loopCharacteristicsObject.$type;"bpmn:MultiInstanceLoopCharacteristics"===s&&(this.loopCharacteristics=this.loopCharacteristicsObject.isSequential?"SequentialMultiInstance":"ParallelMultiInstance"),"bpmn:StandardLoopCharacteristics"===s&&(this.loopCharacteristics="StandardLoop"),this.$set(this.loopInstanceForm,"collection",this.loopCharacteristicsObject.collection),this.$set(this.loopInstanceForm,"elementVariable",this.loopCharacteristicsObject.elementVariable),this.$set(this.loopInstanceForm,"isSequential",this.loopCharacteristicsObject.isSequential),this.$set(this.loopInstanceForm,"asyncBefore",this.loopCharacteristicsObject.asyncBefore),this.$set(this.loopInstanceForm,"asyncAfter",this.loopCharacteristicsObject.asyncAfter),this.$set(this.loopInstanceForm,"exclusive",this.loopCharacteristicsObject.exclusive),this.$set(this.loopInstanceForm,"loopCardinality",null===(e=this.loopCharacteristicsObject.loopCardinality)||void 0===e?void 0:e.body),this.$set(this.loopInstanceForm,"completionCondition",null===(t=this.loopCharacteristicsObject.completionCondition)||void 0===t?void 0:t.body),this.$set(this.loopInstanceForm,"failedJobRetryTimeCycle",null===(n=this.loopCharacteristicsObject)||void 0===n||null===(i=n.extensionElements)||void 0===i||null===(r=i.values[0])||void 0===r?void 0:r.body)}else this.loopCharacteristics="Null"},updateLoopCharacteristics:function(e){return this.loopInstanceForm={},"Null"!==e&&e?"StandardLoop"===e?(this.loopCharacteristicsObject=this.moddle.create("bpmn:StandardLoopCharacteristics"),void this.modeling.updateProperties(this.element,{loopCharacteristics:this.loopCharacteristicsObject})):(this.loopCharacteristicsObject=this.moddle.create("bpmn:MultiInstanceLoopCharacteristics",{isSequential:"SequentialMultiInstance"===e}),void this.modeling.updateProperties(this.element,{loopCharacteristics:this.loopCharacteristicsObject})):(this.loopCharacteristicsObject={},this.modeling.updateProperties(this.element,{loopCharacteristics:null}),void delete this.element.businessObject.loopCharacteristics)},updateLoopCharacteristicsObject:function(){var e,t;Object.keys(this.loopInstanceForm).length&&(this.loopCharacteristicsObject||this.updateLoopCharacteristics(this.loopCharacteristics),this.loopInstanceForm.loopCardinality?this.loopCharacteristicsObject.loopCardinality=this.moddle.create("bpmn:FormalExpression",{body:this.loopInstanceForm.loopCardinality}):this.loopCharacteristicsObject.loopCardinality&&delete this.loopCharacteristicsObject.loopCardinality,this.loopInstanceForm.collection?this.loopCharacteristicsObject.collection=this.loopInstanceForm.collection:this.loopCharacteristicsObject.collection&&delete this.loopCharacteristicsObject.collection,this.loopInstanceForm.elementVariable?this.loopCharacteristicsObject.elementVariable=this.loopInstanceForm.elementVariable:this.loopCharacteristicsObject.elementVariable&&delete this.loopCharacteristicsObject.elementVariable,this.loopInstanceForm.completionCondition?this.loopCharacteristicsObject.completionCondition=this.moddle.create("bpmn:FormalExpression",{body:this.loopInstanceForm.completionCondition}):this.loopCharacteristicsObject.completionCondition&&delete this.loopCharacteristicsObject.completionCondition,this.loopCharacteristicsObject.asyncBefore=this.loopInstanceForm.asyncBefore,this.loopCharacteristicsObject.asyncAfter=this.loopInstanceForm.asyncAfter,this.loopCharacteristicsObject.exclusive=this.loopInstanceForm.exclusive,null!==(e=this.loopInstanceForm)&&void 0!==e&&e.asyncBefore||null!==(t=this.loopInstanceForm)&&void 0!==t&&t.asyncAfter||(this.$set(this.loopInstanceForm,"failedJobRetryTimeCycle",""),this.loopCharacteristicsObject.extensionElements&&delete this.loopCharacteristicsObject.extensionElements),this.loopInstanceForm.failedJobRetryTimeCycle?this.loopCharacteristicsObject.extensionElements=this.moddle.create("bpmn:ExtensionElements",{values:[this.moddle.create("".concat(this.prefix,":FailedJobRetryTimeCycle"),{body:this.loopInstanceForm.failedJobRetryTimeCycle})]}):this.loopCharacteristicsObject.extensionElements&&delete this.loopCharacteristicsObject.extensionElements,this.updateElementProperties(this.loopCharacteristicsObject))},updateElementProperties:function(e){var t=Object(h.a)({},this.element.businessObject);t.$type&&delete t.$type,t.di&&delete t.di,t.id&&delete t.id,t.$parent&&delete t.$parent,t.loopCharacteristics&&delete t.loopCharacteristics,this.modeling.updateProperties(this.element,Object(h.a)(Object(h.a)({},t),{},{loopCharacteristics:e}))}}},I=Object(x.a)(O,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"element-property input-property"},[n("div",{staticClass:"element-property__label"},[e._v("回路特性：")]),n("div",{staticClass:"element-property__value"},[n("el-select",{attrs:{size:"mini"},on:{change:e.updateLoopCharacteristics},model:{value:e.loopCharacteristics,callback:function(t){e.loopCharacteristics=t},expression:"loopCharacteristics"}},[n("el-option",{attrs:{label:"并行多重事件",value:"ParallelMultiInstance"}}),n("el-option",{attrs:{label:"时序多重事件",value:"SequentialMultiInstance"}}),n("el-option",{attrs:{label:"循环事件",value:"StandardLoop"}}),n("el-option",{attrs:{label:"无",value:"Null"}})],1)],1)]),"ParallelMultiInstance"===e.loopCharacteristics||"SequentialMultiInstance"===e.loopCharacteristics?[n("el-divider",[n("i",{staticClass:"el-icon-coin"}),e._v(" 多实例配置")]),n("el-form",{ref:"loopInstanceFormRef",attrs:{model:e.loopInstanceForm,size:"mini","label-width":"100px","label-suffix":"："}},[n("el-form-item",{attrs:{label:"循环基数",prop:"loopCardinality"}},[n("el-input",{attrs:{clearable:""},model:{value:e.loopInstanceForm.loopCardinality,callback:function(t){e.$set(e.loopInstanceForm,"loopCardinality",t)},expression:"loopInstanceForm.loopCardinality"}})],1),n("el-form-item",{attrs:{label:"集合",prop:"collection"}},[n("el-input",{attrs:{clearable:""},model:{value:e.loopInstanceForm.collection,callback:function(t){e.$set(e.loopInstanceForm,"collection",t)},expression:"loopInstanceForm.collection"}})],1),n("el-form-item",{attrs:{label:"元素变量",prop:"elementVariable"}},[n("el-input",{attrs:{clearable:""},model:{value:e.loopInstanceForm.elementVariable,callback:function(t){e.$set(e.loopInstanceForm,"elementVariable",t)},expression:"loopInstanceForm.elementVariable"}})],1),n("el-form-item",{attrs:{label:"完成条件",prop:"completionCondition"}},[n("el-input",{attrs:{clearable:""},model:{value:e.loopInstanceForm.completionCondition,callback:function(t){e.$set(e.loopInstanceForm,"completionCondition",t)},expression:"loopInstanceForm.completionCondition"}})],1),n("el-form-item",{attrs:{label:"异步状态"}},[n("el-checkbox",{attrs:{label:"异步前"},model:{value:e.loopInstanceForm.asyncBefore,callback:function(t){e.$set(e.loopInstanceForm,"asyncBefore",t)},expression:"loopInstanceForm.asyncBefore"}}),n("el-checkbox",{attrs:{label:"异步后"},model:{value:e.loopInstanceForm.asyncAfter,callback:function(t){e.$set(e.loopInstanceForm,"asyncAfter",t)},expression:"loopInstanceForm.asyncAfter"}}),e.loopInstanceForm.asyncAfter||e.loopInstanceForm.asyncBefore?n("el-checkbox",{attrs:{label:"排除"},model:{value:e.loopInstanceForm.exclusive,callback:function(t){e.$set(e.loopInstanceForm,"exclusive",t)},expression:"loopInstanceForm.exclusive"}}):e._e()],1),e.loopInstanceForm.asyncAfter||e.loopInstanceForm.asyncBefore?n("el-form-item",{attrs:{label:"重试周期",prop:"failedJobRetryTimeCycle"}},[n("el-input",{attrs:{clearable:""},model:{value:e.loopInstanceForm.failedJobRetryTimeCycle,callback:function(t){e.$set(e.loopInstanceForm,"failedJobRetryTimeCycle",t)},expression:"loopInstanceForm.failedJobRetryTimeCycle"}})],1):e._e()],1)]:e._e()],2)}),[],!1,null,"11c84d5c",null).exports,T={name:"ElementFormConfig",props:{bpmnModeler:Object,elementId:String,elementBusinessObject:Object},inject:{prefix:"prefix",width:"width"},data:function(){return{formKey:"",formFieldsList:[],formFieldForm:{},formFieldIndex:-1,formFieldOptionIndex:-1,fieldModelVisible:!1,fieldOptionModelVisible:!1,fieldOptionForm:{},fieldOptionType:"",fieldType:{long:"长整型",string:"字符串",boolean:"布尔类",date:"日期类",enum:"枚举类",custom:"自定义类型"},fieldEnumValues:[],fieldConstraintsList:[],fieldPropertiesList:[]}},computed:{drawerTitle:function(){return-1===this.formFieldIndex?"添加字段":"编辑字段"},optionModelTitle:function(){return"配置"}},watch:{elementBusinessObject:{immediate:!0,deep:!0,handler:function(e){this.moddle&&this.elementRegistry||this.initModel(),e&&e.id&&this.initFromData()}}},created:function(){},beforeDestroy:function(){clearTimeout(this.timer)},methods:{initModel:function(){var e=this;this.bpmnModeler?(this.timer&&clearTimeout(this.timer),this.moddle=this.bpmnModeler.get("moddle"),this.elementRegistry=this.bpmnModeler.get("elementRegistry"),this.modeling=this.bpmnModeler.get("modeling")):this.timer=setTimeout((function(){return e.initModel()}),10)},initFromData:function(){var e,t=this;this.element=this.elementRegistry.get(this.elementId)||null,this.element&&(this.elExtensionElements=this.element.businessObject.get("extensionElements")||this.moddle.create("bpmn:ExtensionElements",{values:[]}),this.formData=(null===(e=this.elExtensionElements.values.filter((function(e){return e.$type==="".concat(t.prefix,":FormData")})))||void 0===e?void 0:e[0])||this.moddle.create("".concat(this.prefix,":FormData"),{fields:[]}),this.elementOtherExtensions=this.elExtensionElements.values.filter((function(e){return e.$type!=="".concat(t.prefix,":FormData")})),this.formFieldsList=this.formData.fields||[])},openFieldForm:function(e,t){var n,i;this.formFieldIndex=t,this.formFieldForm=e?JSON.parse(JSON.stringify(e)):{},e?(this.editingField=e,this.formFieldForm.typeType=e.type,e&&!this.fieldType[e.type]&&(this.formFieldForm.typeType="custom")):this.editingField=null,this.createFormField(e||{}),e&&"enum"===e.type?this.fieldEnumValues=(null==e?void 0:e.values)||[]:this.fieldEnumValues=[],this.fieldConstraintsList=(null==e||null===(n=e.validation)||void 0===n?void 0:n.constraints)||[],this.fieldPropertiesList=(null==e||null===(i=e.properties)||void 0===i?void 0:i.values)||[],this.fieldModelVisible=!0},changeFieldTypeType:function(e){this.$set(this.formFieldForm,"type","custom"===e?"":e)},createFormField:function(e){this.editingField||(this.editingField=this.moddle.create("".concat(this.prefix,":FormField")));var t=Object(h.a)({},this.editingField);return delete t.$type,delete t.$attrs,delete t.$parent,this.modeling.updateModdleProperties(this.element,this.editingField,Object(h.a)(Object(h.a)({},t),e)),this.editingField},openFieldOptionForm:function(e,t,n){this.fieldOptionModelVisible=!0,this.fieldOptionType=n,this.formFieldOptionIndex=t,this.fieldOptionForm=e?JSON.parse(JSON.stringify(e)):{}},removeFieldOptionItem:function(e,t,n){"property"!==n?"enum"!==n?this.editingField.validation.constraints.splice(t,1):this.editingField.values.splice(t,1):this.editingField.properties.values.splice(t,1)},saveFieldOption:function(){var e,t;"property"===this.fieldOptionType?(e=this.moddle.create("".concat(this.prefix,":Property"),{id:this.fieldOptionForm.id,value:this.fieldOptionForm.value}),t=this.editingField.properties||this.moddle.create("".concat(this.prefix,":Properties"),{values:[]})):"enum"===this.fieldOptionType?e=this.moddle.create("".concat(this.prefix,":Value"),{id:this.fieldOptionForm.id,name:this.fieldOptionForm.name}):(e=this.moddle.create("".concat(this.prefix,":Constraint"),{name:this.fieldOptionForm.name,config:this.fieldOptionForm.config}),t=this.editingField.validation||this.moddle.create("".concat(this.prefix,":Validation"),{constraints:[]})),-1===this.formFieldOptionIndex?("property"===this.fieldOptionType&&(t.values.push(e),-1===this.formFieldIndex&&this.fieldPropertiesList.push(e)),"constraint"===this.fieldOptionType&&(t.constraints.push(e),-1===this.formFieldIndex&&this.fieldConstraintsList.push(e)),"enum"===this.fieldOptionType&&(this.editingField.values&&this.editingField.values.push(e),!this.editingField.values&&(this.editingField.values=[e]),-1===this.formFieldIndex&&this.fieldEnumValues.push(e))):("property"===this.fieldOptionType&&t.values.splice(this.formFieldOptionIndex,1,e),"constraint"===this.fieldOptionType&&t.constraints.splice(this.formFieldOptionIndex,1,e),"enum"===this.fieldOptionType&&this.editingField.values.splice(this.formFieldOptionIndex,1,e));var n="property"===this.fieldOptionType?{properties:t}:{validation:t};this.createFormField(n),this.fieldOptionModelVisible=!1},removeField:function(e,t){this.formData.fields.splice(t,1),this.updateElementExtensions()},saveField:function(){var e={id:this.formFieldForm.id,type:this.formFieldForm.type,label:this.formFieldForm.label,defaultValue:this.formFieldForm.defaultValue},t=this.createFormField(e);-1===this.formFieldIndex?this.formData.fields.push(t):this.formData.fields.splice(this.formFieldIndex,1,t),this.updateElementExtensions(),this.fieldModelVisible=!1},updateElementExtensions:function(){var e=this.moddle.create("bpmn:ExtensionElements",{values:this.elementOtherExtensions.concat(this.formData)});this.modeling.updateProperties(this.element,{extensionElements:e})}}},k={name:"MyProcessPanel",components:{ElementFormConfig:Object(x.a)(T,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"panel-tab__content"},[n("el-form",{attrs:{size:"mini","label-width":"90px","label-suffix":"："}},[n("el-form-item",{attrs:{label:"表单key"}},[n("el-input",{attrs:{size:"mini",clearable:""},on:{change:function(t){return e.$emit("change-form-key",e.formKey)}},nativeOn:{keyup:function(t){return e.$emit("change-form-key",e.formKey)}},model:{value:e.formKey,callback:function(t){e.formKey=t},expression:"formKey"}})],1)],1),n("div",{staticClass:"element-property list-property"},[n("el-divider",[n("i",{staticClass:"el-icon-coin"}),e._v(" 表单字段")]),n("el-table",{attrs:{data:e.formFieldsList,size:"mini","max-height":"240",border:"",fit:""}},[n("el-table-column",{attrs:{label:"序号",type:"index",width:"50px"}}),n("el-table-column",{attrs:{label:"字段名称",prop:"label","min-width":"80px","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{label:"字段类型",prop:"type","min-width":"80px",formatter:function(t){return e.fieldType[t.type]||t.type},"show-overflow-tooltip":""}}),n("el-table-column",{attrs:{label:"默认值",prop:"defaultValue","min-width":"80px","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{label:"操作",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,r=t.$index;return[n("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.openFieldForm(i,r)}}},[e._v("编辑")]),n("el-divider",{attrs:{direction:"vertical"}}),n("el-button",{staticStyle:{color:"#ff4d4f"},attrs:{size:"mini",type:"text"},on:{click:function(t){return e.removeField(i,r)}}},[e._v("移除")])]}}])})],1)],1),n("div",{staticClass:"element-drawer__button"},[n("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.openFieldForm(null,-1)}}},[e._v("添加字段")])],1),n("el-drawer",{attrs:{visible:e.fieldModelVisible,title:e.drawerTitle,size:this.width+"px","append-to-body":"","destroy-on-close":""},on:{"update:visible":function(t){e.fieldModelVisible=t}}},[n("el-form",{attrs:{model:e.formFieldForm,"label-width":"90px","label-suffix":"：",size:"mini"}},[n("el-form-item",{attrs:{label:"字段ID"}},[n("el-input",{attrs:{clearable:""},model:{value:e.formFieldForm.id,callback:function(t){e.$set(e.formFieldForm,"id",t)},expression:"formFieldForm.id"}})],1),n("el-form-item",{attrs:{label:"类型"}},[n("el-select",{attrs:{placeholder:"请选择字段类型",clearable:""},on:{change:e.changeFieldTypeType},model:{value:e.formFieldForm.typeType,callback:function(t){e.$set(e.formFieldForm,"typeType",t)},expression:"formFieldForm.typeType"}},e._l(e.fieldType,(function(e,t){return n("el-option",{key:t,attrs:{label:e,value:t}})})),1)],1),"custom"===e.formFieldForm.typeType?n("el-form-item",{attrs:{label:"类型名称"}},[n("el-input",{attrs:{clearable:""},model:{value:e.formFieldForm.type,callback:function(t){e.$set(e.formFieldForm,"type",t)},expression:"formFieldForm.type"}})],1):e._e(),n("el-form-item",{attrs:{label:"名称"}},[n("el-input",{attrs:{clearable:""},model:{value:e.formFieldForm.label,callback:function(t){e.$set(e.formFieldForm,"label",t)},expression:"formFieldForm.label"}})],1),n("el-form-item",{attrs:{label:"默认值"}},[n("el-input",{attrs:{clearable:""},model:{value:e.formFieldForm.defaultValue,callback:function(t){e.$set(e.formFieldForm,"defaultValue",t)},expression:"formFieldForm.defaultValue"}})],1)],1),"enum"===e.formFieldForm.type?[n("el-divider",{key:"enum-divider"}),n("p",{key:"enum-title",staticClass:"listener-filed__title"},[n("span",[n("i",{staticClass:"el-icon-menu"}),e._v("枚举值列表：")]),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.openFieldOptionForm(null,-1,"enum")}}},[e._v("添加枚举值")])],1),n("el-table",{key:"enum-table",attrs:{data:e.fieldEnumValues,size:"mini","max-height":"240",border:"",fit:""}},[n("el-table-column",{attrs:{label:"序号",width:"50px",type:"index"}}),n("el-table-column",{attrs:{label:"枚举值编号",prop:"id","min-width":"100px","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{label:"枚举值名称",prop:"name","min-width":"100px","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{label:"操作",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,r=t.$index;return[n("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.openFieldOptionForm(i,r,"enum")}}},[e._v("编辑")]),n("el-divider",{attrs:{direction:"vertical"}}),n("el-button",{staticStyle:{color:"#ff4d4f"},attrs:{size:"mini",type:"text"},on:{click:function(t){return e.removeFieldOptionItem(i,r,"enum")}}},[e._v("移除")])]}}],null,!1,1977609051)})],1)]:e._e(),n("el-divider",{key:"validation-divider"}),n("p",{key:"validation-title",staticClass:"listener-filed__title"},[n("span",[n("i",{staticClass:"el-icon-menu"}),e._v("约束条件列表：")]),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.openFieldOptionForm(null,-1,"constraint")}}},[e._v("添加约束")])],1),n("el-table",{key:"validation-table",attrs:{data:e.fieldConstraintsList,size:"mini","max-height":"240",border:"",fit:""}},[n("el-table-column",{attrs:{label:"序号",width:"50px",type:"index"}}),n("el-table-column",{attrs:{label:"约束名称",prop:"name","min-width":"100px","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{label:"约束配置",prop:"config","min-width":"100px","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{label:"操作",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,r=t.$index;return[n("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.openFieldOptionForm(i,r,"constraint")}}},[e._v("编辑")]),n("el-divider",{attrs:{direction:"vertical"}}),n("el-button",{staticStyle:{color:"#ff4d4f"},attrs:{size:"mini",type:"text"},on:{click:function(t){return e.removeFieldOptionItem(i,r,"constraint")}}},[e._v("移除")])]}}])})],1),n("el-divider",{key:"property-divider"}),n("p",{key:"property-title",staticClass:"listener-filed__title"},[n("span",[n("i",{staticClass:"el-icon-menu"}),e._v("字段属性列表：")]),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.openFieldOptionForm(null,-1,"property")}}},[e._v("添加属性")])],1),n("el-table",{key:"property-table",attrs:{data:e.fieldPropertiesList,size:"mini","max-height":"240",border:"",fit:""}},[n("el-table-column",{attrs:{label:"序号",width:"50px",type:"index"}}),n("el-table-column",{attrs:{label:"属性编号",prop:"id","min-width":"100px","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{label:"属性值",prop:"value","min-width":"100px","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{label:"操作",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,r=t.$index;return[n("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.openFieldOptionForm(i,r,"property")}}},[e._v("编辑")]),n("el-divider",{attrs:{direction:"vertical"}}),n("el-button",{staticStyle:{color:"#ff4d4f"},attrs:{size:"mini",type:"text"},on:{click:function(t){return e.removeFieldOptionItem(i,r,"property")}}},[e._v("移除")])]}}])})],1),n("div",{staticClass:"element-drawer__button"},[n("el-button",{attrs:{size:"mini"}},[e._v("取 消")]),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.saveField}},[e._v("保 存")])],1)],2),n("el-dialog",{attrs:{visible:e.fieldOptionModelVisible,title:e.optionModelTitle,width:"600px","append-to-body":"","destroy-on-close":""},on:{"update:visible":function(t){e.fieldOptionModelVisible=t}}},[n("el-form",{attrs:{model:e.fieldOptionForm,size:"mini","label-width":"96px","label-suffix":"："}},["constraint"!==e.fieldOptionType?n("el-form-item",{key:"option-id",attrs:{label:"编号/ID"}},[n("el-input",{attrs:{clearable:""},model:{value:e.fieldOptionForm.id,callback:function(t){e.$set(e.fieldOptionForm,"id",t)},expression:"fieldOptionForm.id"}})],1):e._e(),"property"!==e.fieldOptionType?n("el-form-item",{key:"option-name",attrs:{label:"名称"}},[n("el-input",{attrs:{clearable:""},model:{value:e.fieldOptionForm.name,callback:function(t){e.$set(e.fieldOptionForm,"name",t)},expression:"fieldOptionForm.name"}})],1):e._e(),"constraint"===e.fieldOptionType?n("el-form-item",{key:"option-config",attrs:{label:"配置"}},[n("el-input",{attrs:{clearable:""},model:{value:e.fieldOptionForm.config,callback:function(t){e.$set(e.fieldOptionForm,"config",t)},expression:"fieldOptionForm.config"}})],1):e._e(),"property"===e.fieldOptionType?n("el-form-item",{key:"option-value",attrs:{label:"值"}},[n("el-input",{attrs:{clearable:""},model:{value:e.fieldOptionForm.value,callback:function(t){e.$set(e.fieldOptionForm,"value",t)},expression:"fieldOptionForm.value"}})],1):e._e()],1),n("template",{slot:"footer"},[n("el-button",{attrs:{size:"mini"},on:{click:function(t){e.fieldOptionModelVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.saveFieldOption}},[e._v("确 定")])],1)],2)],1)}),[],!1,null,null,null).exports,TaskLoopCharacteristics:I,ElementAttributes:w,ElementListener:A,ConditionConfig:S},componentName:"MyProcessPanel",props:{bpmnModeler:Object,prefix:{type:String,default:"camunda"},width:{type:Number,default:480},idEditDisabled:{type:Boolean,default:!1}},provide:function(){return{prefix:this.prefix,width:this.width}},data:function(){return{activeTab:"base",activeElementBusinessObject:{},documentation:"",sequenceFlowCondition:{},elementListeners:[],elementAttributes:[]}},computed:{elementType:function(){return this.activeElementBusinessObject?this.activeElementBusinessObject.$type:null},elementId:function(){return this.activeElementBusinessObject?this.activeElementBusinessObject.id:null},flowTypeViewable:function(){return"bpmn:SequenceFlow"===this.elementType&&this.activeElementBusinessObject.sourceRef&&"bpmn:StartEvent"!==this.activeElementBusinessObject.sourceRef.$type},taskLoopViewable:function(){return this.elementType&&-1!==this.elementType.indexOf("Task")}},watch:{elementType:function(e){console.log("selectionElementType: ",e)},elementId:function(e){console.log("selectionElementId: ",e)}},created:function(){this.initModels()},methods:{initModels:function(){var e=this;this.bpmnModeler?(this.timer&&clearTimeout(this.timer),this.modeling=this.bpmnModeler.get("modeling"),this.moddle=this.bpmnModeler.get("moddle"),this.eventBus=this.bpmnModeler.get("eventBus"),this.bpmnFactory=this.bpmnModeler.get("bpmnFactory"),this.elementRegistry=this.bpmnModeler.get("elementRegistry"),this.replace=this.bpmnModeler.get("replace"),this.selection=this.bpmnModeler.get("selection"),this.$nextTick((function(){return e.getActiveElement()}))):this.timer=setTimeout((function(){return e.initModels()}),10)},getActiveElement:function(){var e=this,t=this.elementRegistry.find((function(e){return"bpmn:Process"===e.type}));this.activeElementBusinessObject=Object(h.a)({},t.businessObject),this.bpmnModeler.on("selection.changed",(function(t){var n=t.newSelection[0]||e.elementRegistry.find((function(e){return"bpmn:Process"===e.type}));e.initFormOnChanged(n.id)})),this.bpmnModeler.on("element.changed",(function(t){var n=t.element;n&&n.id===e.activeElementBusinessObject.id&&e.initFormOnChanged(n.id)}))},initFormOnChanged:function(e){var t,n,i,r,s=this,a=this.elementRegistry.get(e);if(a){this.activeElementBusinessObject=Object(h.a)({},a.businessObject);var o=null===(t=a.businessObject)||void 0===t?void 0:t.documentation;if(this.documentation=o&&o.length?null===(n=o[0])||void 0===n?void 0:n.text:"",null!==(i=a.businessObject)&&void 0!==i&&null!==(r=i.extensionElements)&&void 0!==r&&r.values?(this.elementListeners=a.businessObject.extensionElements.values.filter((function(e){return e.$type==="".concat(s.prefix,":ExecutionListener")})),this.elementAttributes=a.businessObject.extensionElements.values.filter((function(e){return e.$type==="".concat(s.prefix,":Properties")}))):(this.elementListeners=[],this.elementAttributes=[]),-1!==a.type.indexOf("SequenceFlow")){if(a.businessObject.conditionExpression)return this.sequenceFlowCondition=Object(h.a)({},a.businessObject.conditionExpression),void this.$set(this.sequenceFlowCondition,"type","condition");var l=this.elementRegistry.get(a.businessObject.sourceRef.id);if(l.businessObject.default&&l.businessObject.default.id===e)return void this.$set(this.sequenceFlowCondition,"type","default");this.$set(this.sequenceFlowCondition,"type","normal")}}},updateBaseId:function(e){this.elementRegistry.updateId(this.elementId,e)},updateBaseInfo:function(e,t){var n=this.elementRegistry.get(this.elementId),i={};i[e]=t,this.modeling.updateProperties(n,i)},updateDocumentation:function(){var e=this.elementRegistry.get(this.elementId),t=this.bpmnFactory.create("bpmn:Documentation",{text:this.documentation});this.modeling.updateProperties(e,{documentation:[t]})},updateElementListener:function(e){var t,n=this,i=this.elementRegistry.get(this.elementId),r=i.businessObject.get("extensionElements"),s=(null==r||null===(t=r.get("values"))||void 0===t?void 0:t.filter((function(e){return e.$type!=="".concat(n.prefix,":ExecutionListener")})))||[],a=this.moddle.create("bpmn:ExtensionElements",{values:s.concat(e)});this.updateElementExtensions(i,a)},updateElementAttributes:function(e){var t,n=this,i=this.moddle.create("".concat(this.prefix,":Properties"),{values:e.map((function(e){return n.moddle.create("".concat(n.prefix,":Property"),{name:e.name,value:e.value})}))}),r=this.elementRegistry.get(this.elementId),s=r.businessObject.get("extensionElements"),a=(null==s||null===(t=s.get("values"))||void 0===t?void 0:t.filter((function(e){return e.$type!=="".concat(n.prefix,":Properties")})))||[],o=this.moddle.create("bpmn:ExtensionElements",{values:a.concat([i])});this.updateElementExtensions(r,o)},updateElementExtensions:function(e,t){this.modeling.updateProperties(e,{extensionElements:t}),this.initFormOnChanged(this.elementId)}}},_={name:"App",components:{MyProcessPanel:Object(x.a)(k,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"process-panel__container",style:{width:this.width+"px"}},[n("el-collapse",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[n("el-collapse-item",{attrs:{name:"base"}},[n("div",{staticClass:"panel-tab__title",attrs:{slot:"title"},slot:"title"},[n("i",{staticClass:"el-icon-info"}),e._v("常规")]),n("div",{staticClass:"panel-tab__content"},[n("el-form",{attrs:{size:"mini","label-width":"90px","label-suffix":"："}},[n("el-form-item",{attrs:{label:"ID"}},[n("el-input",{attrs:{disabled:e.idEditDisabled,clearable:""},on:{change:function(t){return e.updateBaseId(t)}},nativeOn:{keyup:function(t){return e.updateBaseId(e.activeElementBusinessObject.id)}},model:{value:e.activeElementBusinessObject.id,callback:function(t){e.$set(e.activeElementBusinessObject,"id",t)},expression:"activeElementBusinessObject.id"}})],1),n("el-form-item",{attrs:{label:"名称"}},[n("el-input",{attrs:{clearable:""},on:{change:function(t){return e.updateBaseInfo("name",t)}},nativeOn:{keyup:function(t){return e.updateBaseInfo("name",e.activeElementBusinessObject.name)}},model:{value:e.activeElementBusinessObject.name,callback:function(t){e.$set(e.activeElementBusinessObject,"name",t)},expression:"activeElementBusinessObject.name"}})],1),"bpmn:Process"===e.elementType?[n("el-form-item",{attrs:{label:"版本标签"}},[n("el-input",{attrs:{clearable:""},on:{change:function(t){return e.updateBaseInfo("versionTag",t)}},nativeOn:{keyup:function(t){return e.updateBaseInfo("versionTag",e.activeElementBusinessObject.versionTag)}},model:{value:e.activeElementBusinessObject.versionTag,callback:function(t){e.$set(e.activeElementBusinessObject,"versionTag",t)},expression:"activeElementBusinessObject.versionTag"}})],1),n("el-form-item",{attrs:{label:"可执行"}},[n("el-switch",{attrs:{"active-text":"是","inactive-text":"否"},on:{change:function(t){return e.updateBaseInfo("isExecutable",t)}},model:{value:e.activeElementBusinessObject.isExecutable,callback:function(t){e.$set(e.activeElementBusinessObject,"isExecutable",t)},expression:"activeElementBusinessObject.isExecutable"}})],1)]:e._e()],2),"bpmn:UserTask"===e.elementType?[n("div",{staticClass:"element-property input-property"},[n("div",{staticClass:"element-property__label"},[e._v("处理人")]),n("div",{staticClass:"element-property__value"},[n("el-select",{attrs:{size:"mini"},on:{change:function(t){return e.updateBaseInfo("assignee",e.activeElementBusinessObject.assignee)}},model:{value:e.activeElementBusinessObject.assignee,callback:function(t){e.$set(e.activeElementBusinessObject,"assignee",t)},expression:"activeElementBusinessObject.assignee"}},[n("el-option",{attrs:{label:"诸葛亮",value:"zgl"}}),n("el-option",{attrs:{label:"张良",value:"zhangliang"}}),n("el-option",{attrs:{label:"墨子",value:"mozi"}})],1)],1)]),n("div",{staticClass:"element-property input-property"},[n("div",{staticClass:"element-property__label"},[e._v("候选人")]),n("div",{staticClass:"element-property__value"},[n("el-select",{attrs:{size:"mini"},on:{change:function(t){return e.updateBaseInfo("candidateUsers",e.activeElementBusinessObject.candidateUsers)}},model:{value:e.activeElementBusinessObject.candidateUsers,callback:function(t){e.$set(e.activeElementBusinessObject,"candidateUsers",t)},expression:"activeElementBusinessObject.candidateUsers"}},[n("el-option",{attrs:{label:"孙悟空",value:"swk"}}),n("el-option",{attrs:{label:"花木兰",value:"hml"}}),n("el-option",{attrs:{label:"唐僧",value:"ts"}})],1)],1)]),n("div",{staticClass:"element-property input-property"},[n("div",{staticClass:"element-property__label"},[e._v("候选组")]),n("div",{staticClass:"element-property__value"},[n("el-select",{attrs:{size:"mini"},on:{change:function(t){return e.updateBaseInfo("candidateGroups",e.activeElementBusinessObject.candidateGroups)}},model:{value:e.activeElementBusinessObject.candidateGroups,callback:function(t){e.$set(e.activeElementBusinessObject,"candidateGroups",t)},expression:"activeElementBusinessObject.candidateGroups"}},[n("el-option",{attrs:{label:"战士",value:"zs"}}),n("el-option",{attrs:{label:"坦克",value:"tk"}}),n("el-option",{attrs:{label:"刺客",value:"ck"}})],1)],1)])]:e._e(),e.flowTypeViewable?n("condition-config",e._b({attrs:{conditions:e.sequenceFlowCondition,"element-id":e.elementId}},"condition-config",e.$props,!1)):e._e(),e.taskLoopViewable?n("task-loop-characteristics",e._b({attrs:{"element-id":e.elementId,"element-business-object":e.activeElementBusinessObject}},"task-loop-characteristics",e.$props,!1)):e._e()],2)]),"bpmn:UserTask"===e.elementType||"bpmn:StartEvent"===e.elementType?[n("el-collapse-item",{attrs:{name:"form"}},[n("div",{staticClass:"panel-tab__title",attrs:{slot:"title"},slot:"title"},[n("i",{staticClass:"el-icon-s-order"}),e._v("表单")]),n("element-form-config",e._b({attrs:{"element-id":e.elementId,"element-business-object":e.activeElementBusinessObject},on:{"change-form-key":function(t){return e.updateBaseInfo("formKey",t)}}},"element-form-config",e.$props,!1))],1)]:e._e(),n("el-collapse-item",{attrs:{name:"listeners"}},[n("div",{staticClass:"panel-tab__title",attrs:{slot:"title"},slot:"title"},[n("i",{staticClass:"el-icon-message-solid"}),e._v("监听器")]),n("element-listener",e._b({attrs:{"element-id":e.elementId,listeners:e.elementListeners},on:{change:e.updateElementListener}},"element-listener",e.$props,!1))],1),n("el-collapse-item",{attrs:{name:"extensions"}},[n("div",{staticClass:"panel-tab__title",attrs:{slot:"title"},slot:"title"},[n("i",{staticClass:"el-icon-circle-plus"}),e._v("扩展属性")]),n("element-attributes",e._b({attrs:{"element-id":e.elementId,attributes:e.elementAttributes},on:{change:e.updateElementAttributes}},"element-attributes",e.$props,!1))],1),n("el-collapse-item",{attrs:{name:"other"}},[n("div",{staticClass:"panel-tab__title",attrs:{slot:"title"},slot:"title"},[n("i",{staticClass:"el-icon-s-promotion"}),e._v("其他")]),n("div",{staticClass:"panel-tab__content"},[n("div",{staticClass:"element-property input-property"},[n("div",{staticClass:"element-property__label"},[e._v("元素文档")]),n("div",{staticClass:"element-property__value"},[n("el-input",{attrs:{type:"textarea",size:"mini",resize:"vertical",autosize:{minRows:2,maxRows:4}},on:{input:e.updateDocumentation,blur:e.updateDocumentation},model:{value:e.documentation,callback:function(t){e.documentation=t},expression:"documentation"}})],1)])])])],2)],1)}),[],!1,null,null,null).exports},data:function(){return{xmlString:"",modeler:null,reloadIndex:0,controlDrawerVisible:!1,translationsSelf:s,controlForm:{simulation:!0,labelEditing:!1,labelVisible:!1,prefix:"camunda",headerButtonSize:"mini",additionalModel:[v]},addis:{}}},created:function(){},methods:{initModeler:function(e){var t=this;setTimeout((function(){t.modeler=e,t.addis.customRenderer&&console.log(t.modeler.get("customRenderer"))}),10)},reloadProcessDesigner:function(){for(var e in this.controlForm.additionalModel=[],this.addis)this.addis[e]&&this.controlForm.additionalModel.push(this.addis[e]);this.reloadIndex+=1,this.modeler=null},changeLabelEditingStatus:function(e){this.addis.labelEditing=!!e&&{labelEditingProvider:["value",""]},this.reloadProcessDesigner()},changeLabelVisibleStatus:function(e){this.addis.customRenderer=!!e&&l,this.reloadProcessDesigner()},elementClick:function(e){this.element=e,console.log(e)}}},M=(n("5c0b"),Object(x.a)(_,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("my-process-designer",e._b({key:"designer-"+e.reloadIndex,ref:"processDesigner",attrs:{keyboard:""},on:{"element-click":e.elementClick,"init-finished":e.initModeler}},"my-process-designer",e.controlForm,!1)),n("my-process-panel",{key:"penal-"+e.reloadIndex,staticClass:"process-panel",attrs:{"bpmn-modeler":e.modeler,prefix:e.controlForm.prefix}}),n("div",{staticClass:"demo-control-bar"},[n("div",{staticClass:"open-control-dialog",on:{click:function(t){e.controlDrawerVisible=!0}}},[n("i",{staticClass:"el-icon-setting"})])]),n("el-drawer",{attrs:{visible:e.controlDrawerVisible,size:"400px",title:"偏好设置","append-to-body":"","destroy-on-close":""},on:{"update:visible":function(t){e.controlDrawerVisible=t}}},[n("el-form",{staticClass:"control-form",attrs:{model:e.controlForm,size:"small","label-suffix":"：","label-width":"100px"}},[n("el-form-item",{attrs:{label:"流转模拟"}},[n("el-switch",{attrs:{"inactive-text":"停用","active-text":"启用"},on:{change:e.reloadProcessDesigner},model:{value:e.controlForm.simulation,callback:function(t){e.$set(e.controlForm,"simulation",t)},expression:"controlForm.simulation"}})],1),n("el-form-item",{attrs:{label:"禁用双击"}},[n("el-switch",{attrs:{"inactive-text":"停用","active-text":"启用"},on:{change:e.changeLabelEditingStatus},model:{value:e.controlForm.labelEditing,callback:function(t){e.$set(e.controlForm,"labelEditing",t)},expression:"controlForm.labelEditing"}})],1),n("el-form-item",{attrs:{label:"隐藏label"}},[n("el-switch",{attrs:{"inactive-text":"停用","active-text":"启用"},on:{change:e.changeLabelVisibleStatus},model:{value:e.controlForm.labelVisible,callback:function(t){e.$set(e.controlForm,"labelVisible",t)},expression:"controlForm.labelVisible"}})],1),n("el-form-item",{attrs:{label:"流程引擎"}},[n("el-radio-group",{on:{change:e.reloadProcessDesigner},model:{value:e.controlForm.prefix,callback:function(t){e.$set(e.controlForm,"prefix",t)},expression:"controlForm.prefix"}},[n("el-radio",{attrs:{label:"camunda"}},[e._v("camunda")]),n("el-radio",{attrs:{label:"flowable"}},[e._v("flowable")]),n("el-radio",{attrs:{label:"activiti"}},[e._v("activiti")])],1)],1),n("el-form-item",{attrs:{label:"工具栏"}},[n("el-radio-group",{model:{value:e.controlForm.headerButtonSize,callback:function(t){e.$set(e.controlForm,"headerButtonSize",t)},expression:"controlForm.headerButtonSize"}},[n("el-radio",{attrs:{label:"mini"}},[e._v("mini")]),n("el-radio",{attrs:{label:"small"}},[e._v("small")]),n("el-radio",{attrs:{label:"medium"}},[e._v("medium")])],1)],1)],1),n("br"),n("p",{staticStyle:{color:"#999999"}},[e._v("注：activiti 好像不支持表单配置，控制台可能会报错")]),n("p",{staticStyle:{color:"#999999"}},[e._v("更多配置请查看源码："),n("a",{attrs:{href:"https://github.com/miyuesc/bpmn-process-designer"}},[e._v("MiyueSC/bpmn-process-designer")])])],1)],1)}),[],!1,null,null,null).exports),P=n("5f72"),j=n.n(P),B=(n("4c0a"),n("4c56")),L=(n("9123"),n("4160"),n("159b"),n("25f0"),n("3ca3"),n("2b3d"),n("2909")),D=n("7024"),$=function(e,t,n){return n||(n="camunda"),'<?xml version="1.0" encoding="UTF-8"?>\n<bpmn2:definitions \n  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n  xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL"\n  xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"\n  xmlns:dc="http://www.omg.org/spec/DD/20100524/DC"\n  xmlns:di="http://www.omg.org/spec/DD/20100524/DI"\n  xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd"\n  id="sample-diagram"\n  targetNamespace="'.concat({activiti:"http://activiti.org/bpmn",camunda:"http://bpmn.io/schema/bpmn",flowable:"http://flowable.org/bpmn"}[n],'">\n  <bpmn2:process id="Process_').concat(e,'" name="').concat(t,'" isExecutable="true">\n  </bpmn2:process>\n  <bpmndi:BPMNDiagram id="BPMNDiagram_1">\n    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_').concat(e,'">\n    </bpmndi:BPMNPlane>\n  </bpmndi:BPMNDiagram>\n</bpmn2:definitions>')};function R(e){return function(t,n){return n=n||{},(t=e[t]||t).replace(/{([^}]+)}/g,(function(t,i){var r=n[i];return null!==e[n[i]]&&"undefined"!==e[n[i]]&&(r=e[n[i]]),r||"{"+i+"}"}))}}var z={"Append EndEvent":"追加结束事件","Append Gateway":"追加网关","Append Task":"追加任务","Append Intermediate/Boundary Event":"追加中间抛出事件/边界事件","Activate the global connect tool":"激活全局连接工具","Append {type}":"添加 {type}","Add Lane above":"在上面添加道","Divide into two Lanes":"分割成两个道","Divide into three Lanes":"分割成三个道","Add Lane below":"在下面添加道","Append compensation activity":"追加补偿活动","Change type":"修改类型","Connect using Association":"使用关联连接","Connect using Sequence/MessageFlow or Association":"使用顺序/消息流或者关联连接","Connect using DataInputAssociation":"使用数据输入关联连接",Remove:"移除","Activate the hand tool":"激活抓手工具","Activate the lasso tool":"激活套索工具","Activate the create/remove space tool":"激活创建/删除空间工具","Create expanded SubProcess":"创建扩展子过程","Create IntermediateThrowEvent/BoundaryEvent":"创建中间抛出事件/边界事件","Create Pool/Participant":"创建池/参与者","Parallel Multi Instance":"并行多重事件","Sequential Multi Instance":"时序多重事件",DataObjectReference:"数据对象参考",DataStoreReference:"数据存储参考",Loop:"循环","Ad-hoc":"即席","Create {type}":"创建 {type}",Task:"任务","Send Task":"发送任务","Receive Task":"接收任务","User Task":"用户任务","Manual Task":"手工任务","Business Rule Task":"业务规则任务","Service Task":"服务任务","Script Task":"脚本任务","Call Activity":"调用活动","Sub Process (collapsed)":"子流程（折叠的）","Sub Process (expanded)":"子流程（展开的）","Start Event":"开始事件",StartEvent:"开始事件","Intermediate Throw Event":"中间事件","End Event":"结束事件",EndEvent:"结束事件","Create StartEvent":"创建开始事件","Create EndEvent":"创建结束事件","Create Task":"创建任务","Create Gateway":"创建网关","Create DataObjectReference":"创建数据对象","Create DataStoreReference":"创建数据存储","Create Group":"创建分组","Create Intermediate/Boundary Event":"创建中间/边界事件","Message Start Event":"消息开始事件","Timer Start Event":"定时开始事件","Conditional Start Event":"条件开始事件","Signal Start Event":"信号开始事件","Error Start Event":"错误开始事件","Escalation Start Event":"升级开始事件","Compensation Start Event":"补偿开始事件","Message Start Event (non-interrupting)":"消息开始事件（非中断）","Timer Start Event (non-interrupting)":"定时开始事件（非中断）","Conditional Start Event (non-interrupting)":"条件开始事件（非中断）","Signal Start Event (non-interrupting)":"信号开始事件（非中断）","Escalation Start Event (non-interrupting)":"升级开始事件（非中断）","Message Intermediate Catch Event":"消息中间捕获事件","Message Intermediate Throw Event":"消息中间抛出事件","Timer Intermediate Catch Event":"定时中间捕获事件","Escalation Intermediate Throw Event":"升级中间抛出事件","Conditional Intermediate Catch Event":"条件中间捕获事件","Link Intermediate Catch Event":"链接中间捕获事件","Link Intermediate Throw Event":"链接中间抛出事件","Compensation Intermediate Throw Event":"补偿中间抛出事件","Signal Intermediate Catch Event":"信号中间捕获事件","Signal Intermediate Throw Event":"信号中间抛出事件","Message End Event":"消息结束事件","Escalation End Event":"定时结束事件","Error End Event":"错误结束事件","Cancel End Event":"取消结束事件","Compensation End Event":"补偿结束事件","Signal End Event":"信号结束事件","Terminate End Event":"终止结束事件","Message Boundary Event":"消息边界事件","Message Boundary Event (non-interrupting)":"消息边界事件（非中断）","Timer Boundary Event":"定时边界事件","Timer Boundary Event (non-interrupting)":"定时边界事件（非中断）","Escalation Boundary Event":"升级边界事件","Escalation Boundary Event (non-interrupting)":"升级边界事件（非中断）","Conditional Boundary Event":"条件边界事件","Conditional Boundary Event (non-interrupting)":"条件边界事件（非中断）","Error Boundary Event":"错误边界事件","Cancel Boundary Event":"取消边界事件","Signal Boundary Event":"信号边界事件","Signal Boundary Event (non-interrupting)":"信号边界事件（非中断）","Compensation Boundary Event":"补偿边界事件","Exclusive Gateway":"互斥网关","Parallel Gateway":"并行网关","Inclusive Gateway":"相容网关","Complex Gateway":"复杂网关","Event based Gateway":"事件网关",Transaction:"转运","Sub Process":"子流程","Event Sub Process":"事件子流程","Collapsed Pool":"折叠池","Expanded Pool":"展开池","no parent for {element} in {parent}":"在{parent}里，{element}没有父类","no shape type specified":"没有指定的形状类型","flow elements must be children of pools/participants":"流元素必须是池/参与者的子类","out of bounds release":"out of bounds release","more than {count} child lanes":"子道大于{count} ","element required":"元素不能为空","diagram not part of bpmn:Definitions":"流程图不符合bpmn规范","no diagram to display":"没有可展示的流程图","no process or collaboration to display":"没有可展示的流程/协作","element {element} referenced by {referenced}#{property} not yet drawn":"由{referenced}#{property}引用的{element}元素仍未绘制","already rendered {element}":"{element} 已被渲染","failed to import {element}":"导入{element}失败",Id:"编号",Name:"名称",General:"常规",Details:"详情","Message Name":"消息名称",Message:"消息",Initiator:"创建者","Asynchronous Continuations":"持续异步","Asynchronous Before":"异步前","Asynchronous After":"异步后","Job Configuration":"工作配置",Exclusive:"排除","Job Priority":"工作优先级","Retry Time Cycle":"重试时间周期",Documentation:"文档","Element Documentation":"元素文档","History Configuration":"历史配置","History Time To Live":"历史的生存时间",Forms:"表单","Form Key":"表单key","Form Fields":"表单字段","Business Key":"业务key","Form Field":"表单字段",ID:"编号",Type:"类型",Label:"名称","Default Value":"默认值","Default Flow":"默认流转路径","Conditional Flow":"条件流转路径","Sequence Flow":"普通流转路径",Validation:"校验","Add Constraint":"添加约束",Config:"配置",Properties:"属性","Add Property":"添加属性",Value:"值",Listeners:"监听器","Execution Listener":"执行监听","Event Type":"事件类型","Listener Type":"监听器类型","Java Class":"Java类",Expression:"表达式","Must provide a value":"必须提供一个值","Delegate Expression":"代理表达式",Script:"脚本","Script Format":"脚本格式","Script Type":"脚本类型","Inline Script":"内联脚本","External Script":"外部脚本",Resource:"资源","Field Injection":"字段注入",Extensions:"扩展","Input/Output":"输入/输出","Input Parameters":"输入参数","Output Parameters":"输出参数",Parameters:"参数","Output Parameter":"输出参数","Timer Definition Type":"定时器定义类型","Timer Definition":"定时器定义",Date:"日期",Duration:"持续",Cycle:"循环",Signal:"信号","Signal Name":"信号名称",Escalation:"升级",Error:"错误","Link Name":"链接名称",Condition:"条件名称","Variable Name":"变量名称","Variable Event":"变量事件","Specify more than one variable change event as a comma separated list.":"多个变量事件以逗号隔开","Wait for Completion":"等待完成","Activity Ref":"活动参考","Version Tag":"版本标签",Executable:"可执行文件","External Task Configuration":"扩展任务配置","Task Priority":"任务优先级",External:"外部",Connector:"连接器","Must configure Connector":"必须配置连接器","Connector Id":"连接器编号",Implementation:"实现方式","Field Injections":"字段注入",Fields:"字段","Result Variable":"结果变量",Topic:"主题","Configure Connector":"配置连接器","Input Parameter":"输入参数",Assignee:"代理人","Candidate Users":"候选用户","Candidate Groups":"候选组","Due Date":"到期时间","Follow Up Date":"跟踪日期",Priority:"优先级","The follow up date as an EL expression (e.g. ${someDate} or an ISO date (e.g. 2015-06-26T09:54:00)":"跟踪日期必须符合EL表达式，如： ${someDate} ,或者一个ISO标准日期，如：2015-06-26T09:54:00","The due date as an EL expression (e.g. ${someDate} or an ISO date (e.g. 2015-06-26T09:54:00)":"跟踪日期必须符合EL表达式，如： ${someDate} ,或者一个ISO标准日期，如：2015-06-26T09:54:00",Variables:"变量","Candidate Starter Configuration":"候选人起动器配置","Candidate Starter Groups":"候选人起动器组","This maps to the process definition key.":"这映射到流程定义键。","Candidate Starter Users":"候选人起动器的用户","Specify more than one user as a comma separated list.":"指定多个用户作为逗号分隔的列表。","Tasklist Configuration":"Tasklist配置",Startable:"启动","Specify more than one group as a comma separated list.":"指定多个组作为逗号分隔的列表。"},V=n("3bf7"),N=n.n(V),G=n("8ff4"),U=n("6584"),J=n("78e6"),q=n("94c0"),Z=n.n(q),K=n("e15b"),X=n.n(K),H=n("a674"),W=n.n(H),Q=n("c51a"),Y=n.n(Q),ee={name:"MyProcessDesigner",componentName:"MyProcessDesigner",props:{value:String,translations:Object,additionalModel:[Object,Array],moddleExtension:Object,onlyCustomizeAddi:{type:Boolean,default:!1},onlyCustomizeModdle:{type:Boolean,default:!1},simulation:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},prefix:{type:String,default:"camunda"},events:{type:Array,default:function(){return["element.click"]}},headerButtonSize:{type:String,default:"small",validator:function(e){return-1!==["default","medium","small","mini"].indexOf(e)}},headerButtonType:{type:String,default:"primary",validator:function(e){return-1!==["default","primary","success","warning","danger","info"].indexOf(e)}}},data:function(){return{defaultZoom:1,previewModelVisible:!1,simulationStatus:!1,previewResult:"",previewType:"xml",recoverable:!1,revocable:!1}},computed:{additionalModules:function(){var e=[];if(this.onlyCustomizeAddi)return"[object Array]"===Object.prototype.toString.call(this.additionalModel)?this.additionalModel||[]:[this.additionalModel];"[object Array]"===Object.prototype.toString.call(this.additionalModel)?e.push.apply(e,Object(L.a)(this.additionalModel)):this.additionalModel&&e.push(this.additionalModel);var t={translate:["value",R(this.translations||z)]};return e.push(t),this.simulation&&e.push(N.a),"camunda"===this.prefix&&e.push(Z.a),"flowable"===this.prefix&&e.push(W.a),"activiti"===this.prefix&&e.push(X.a),e},moddleExtensions:function(){var e={};if(this.onlyCustomizeModdle)return this.moddleExtension||null;if(this.moddleExtension)for(var t in this.moddleExtension)e[t]=this.moddleExtension[t];return"activiti"===this.prefix&&(e.activiti=U),"flowable"===this.prefix&&(e.flowable=J),"camunda"===this.prefix&&(e.camunda=G),e}},mounted:function(){var e=this;this.initBpmnModeler(),this.createNewDiagram(this.value),this.$once("hook:beforeDestroy",(function(){e.bpmnModeler&&e.bpmnModeler.destroy(),e.$emit("destroy",e.bpmnModeler),e.bpmnModeler=null}))},methods:{initBpmnModeler:function(){this.bpmnModeler||(this.bpmnModeler=new D.a({container:this.$refs["bpmn-canvas"],keyboard:this.keyboard?{bindTo:document}:null,additionalModules:this.additionalModules,moddleExtensions:this.moddleExtensions}),this.$emit("init-finished",this.bpmnModeler),this.initModelListeners())},initModelListeners:function(){var e=this,t=this.bpmnModeler.get("eventBus"),n=this;this.events.forEach((function(e){t.on(e,(function(t){var i=e.replace(/\./g,"-"),r=t?t.element:null;n.$emit(i,r,t)}))})),t.on("commandStack.changed",Object(E.a)(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.recoverable=e.bpmnModeler.get("commandStack").canRedo(),e.revocable=e.bpmnModeler.get("commandStack").canUndo(),t.next=5,e.bpmnModeler.saveXML({format:!0});case 5:n=t.sent,i=n.xml,e.$emit("input",i),e.$emit("change",i),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.error("[Process Designer Warn ]: ".concat(t.t0.message||t.t0));case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))),this.bpmnModeler.on("canvas.viewbox.changed",(function(e){console.log(e)}))},createNewDiagram:function(e){var t=this;return Object(E.a)(regeneratorRuntime.mark((function n(){var i,r,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=e||$((new Date).getTime(),"测试流程",t.prefix),n.prev=1,n.next=4,t.bpmnModeler.importXML(i);case 4:r=n.sent,(s=r.warnings)&&console.warn(s),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),console.error("[Process Designer Warn ]: ".concat(n.t0.message||n.t0));case 12:case"end":return n.stop()}}),n,null,[[1,9]])})))()},downloadProcess:function(e,t){var n=this;return Object(E.a)(regeneratorRuntime.mark((function i(){var r,s,a,o,l,p,c,m,u,d,b,f,y,v;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(v=function(e,t){if(e&&t){var n=document.createElement("a");n.download=t,n.href=e,n.click(),URL.revokeObjectURL(n.href)}},i.prev=1,r=n,"xml"!==e&&"bpmn"!==e){i.next=14;break}return i.next=6,n.bpmnModeler.saveXML();case 6:s=i.sent,a=s.err,o=s.xml,a&&console.error("[Process Designer Warn ]: ".concat(a.message||a)),l=r.setEncoded(e.toUpperCase(),t,o),p=l.href,c=l.filename,v(p,c),i.next=23;break;case 14:return i.next=16,n.bpmnModeler.saveSVG();case 16:if(m=i.sent,u=m.err,d=m.svg,!u){i.next=21;break}return i.abrupt("return",console.error(u));case 21:b=r.setEncoded("SVG",t,d),f=b.href,y=b.filename,v(f,y);case 23:i.next=28;break;case 25:i.prev=25,i.t0=i.catch(1),console.error("[Process Designer Warn ]: ".concat(i.t0.message||i.t0));case 28:case"end":return i.stop()}}),i,null,[[1,25]])})))()},setEncoded:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"diagram",n=arguments.length>2?arguments[2]:void 0,i=encodeURIComponent(n);return{filename:"".concat(t,".").concat(e),href:"data:application/".concat("svg"===e?"text/xml":"bpmn20-xml",";charset=UTF-8,").concat(i),data:n}},importLocalFile:function(){var e=this,t=this.$refs.refFile.files[0],n=new FileReader;n.readAsText(t),n.onload=function(){var t=this.result;e.createNewDiagram(t)}},downloadProcessAsXml:function(){this.downloadProcess("xml")},downloadProcessAsBpmn:function(){this.downloadProcess("bpmn")},downloadProcessAsSvg:function(){this.downloadProcess("svg")},processSimulation:function(){this.simulationStatus=!this.simulationStatus,this.simulation&&this.bpmnModeler.get("toggleMode").toggleMode()},processRedo:function(){this.bpmnModeler.get("commandStack").redo()},processUndo:function(){this.bpmnModeler.get("commandStack").undo()},processZoomIn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1,t=Math.floor(10*this.defaultZoom*10+10*e*10)/100;if(t>4)throw new Error("[Process Designer Warn ]: The zoom ratio cannot be greater than 4");this.defaultZoom=t,this.bpmnModeler.get("canvas").zoom(this.defaultZoom)},processZoomOut:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1,t=Math.floor(10*this.defaultZoom*10-10*e*10)/100;if(t<.2)throw new Error("[Process Designer Warn ]: The zoom ratio cannot be less than 0.2");this.defaultZoom=t,this.bpmnModeler.get("canvas").zoom(this.defaultZoom)},processZoomTo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(e<.2)throw new Error("[Process Designer Warn ]: The zoom ratio cannot be less than 0.2");if(e>4)throw new Error("[Process Designer Warn ]: The zoom ratio cannot be greater than 4");this.defaultZoom=e,this.bpmnModeler.get("canvas").zoom(e)},processReZoom:function(){this.defaultZoom=1,this.bpmnModeler.get("canvas").zoom("fit-viewport","auto")},processRestart:function(){var e=this;this.recoverable=!1,this.revocable=!1,this.createNewDiagram(null).then((function(){return e.bpmnModeler.get("canvas").zoom(1,"auto")}))},elementsAlign:function(e){var t=this.bpmnModeler.get("alignElements"),n=this.bpmnModeler.get("selection").get();!n||n.length<=1?this.$message.warning("请按住 Ctrl 键选择多个元素对齐"):this.$confirm("自动对齐可能造成图形变形，是否继续？","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return t.trigger(n,e)}))},previewProcessXML:function(){var e=this;this.bpmnModeler.saveXML({format:!0}).then((function(t){var n=t.xml;e.previewResult=n,e.previewType="xml",e.previewModelVisible=!0}))},previewProcessJson:function(){var e=this;this.bpmnModeler.saveXML({format:!0}).then((function(t){var n=t.xml;e.previewResult=Y.a.xml2json(n,{spaces:2}),e.previewType="json",e.previewModelVisible=!0}))}},watch:{value:{handler:function(e){this.createNewDiagram(e)}}}},te=Object(x.a)(ee,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"my-process-designer"},[n("div",{staticClass:"my-process-designer__header"},[e._t("control-header"),e.$slots["control-header"]?e._e():n("div",[n("el-button-group",[n("el-button",{attrs:{size:e.headerButtonSize,type:e.headerButtonType,icon:"el-icon-folder-opened"},on:{click:function(t){return e.$refs.refFile.click()}}},[e._v("打开文件")]),n("el-tooltip",{attrs:{effect:"light"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("el-button",{attrs:{size:e.headerButtonSize,type:"text"},on:{click:function(t){return e.downloadProcessAsXml()}}},[e._v("下载为XML文件")]),n("br"),n("el-button",{attrs:{size:e.headerButtonSize,type:"text"},on:{click:function(t){return e.downloadProcessAsSvg()}}},[e._v("下载为SVG文件")]),n("br"),n("el-button",{attrs:{size:e.headerButtonSize,type:"text"},on:{click:function(t){return e.downloadProcessAsBpmn()}}},[e._v("下载为BPMN文件")])],1),n("el-button",{attrs:{size:e.headerButtonSize,type:e.headerButtonType,icon:"el-icon-download"}},[e._v("下载文件")])],1),n("el-tooltip",{attrs:{effect:"light"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("el-button",{attrs:{size:e.headerButtonSize,type:"text"},on:{click:e.previewProcessXML}},[e._v("预览XML")]),n("br"),n("el-button",{attrs:{size:e.headerButtonSize,type:"text"},on:{click:e.previewProcessJson}},[e._v("预览JSON")])],1),n("el-button",{attrs:{size:e.headerButtonSize,type:e.headerButtonType,icon:"el-icon-view"}},[e._v("预览")])],1),e.simulation?n("el-tooltip",{attrs:{effect:"light",content:this.simulationStatus?"退出模拟":"开启模拟"}},[n("el-button",{attrs:{size:e.headerButtonSize,type:e.headerButtonType,icon:"el-icon-cpu"},on:{click:e.processSimulation}},[e._v(" 模拟 ")])],1):e._e()],1),n("el-button-group",[n("el-tooltip",{attrs:{effect:"light",content:"缩小视图"}},[n("el-button",{attrs:{size:e.headerButtonSize,disabled:e.defaultZoom<.2,icon:"el-icon-zoom-out"},on:{click:function(t){return e.processZoomOut()}}})],1),n("el-button",{attrs:{size:e.headerButtonSize}},[e._v(e._s(Math.floor(10*this.defaultZoom*10)+"%"))]),n("el-tooltip",{attrs:{effect:"light",content:"放大视图"}},[n("el-button",{attrs:{size:e.headerButtonSize,disabled:e.defaultZoom>4,icon:"el-icon-zoom-in"},on:{click:function(t){return e.processZoomIn()}}})],1),n("el-tooltip",{attrs:{effect:"light",content:"重置视图并居中"}},[n("el-button",{attrs:{size:e.headerButtonSize,icon:"el-icon-c-scale-to-original"},on:{click:function(t){return e.processReZoom()}}})],1)],1),n("el-button-group",[n("el-tooltip",{attrs:{effect:"light",content:"向左对齐"}},[n("el-button",{staticClass:"align align-left",attrs:{size:e.headerButtonSize,icon:"el-icon-s-data"},on:{click:function(t){return e.elementsAlign("left")}}})],1),n("el-tooltip",{attrs:{effect:"light",content:"向右对齐"}},[n("el-button",{staticClass:"align align-right",attrs:{size:e.headerButtonSize,icon:"el-icon-s-data"},on:{click:function(t){return e.elementsAlign("right")}}})],1),n("el-tooltip",{attrs:{effect:"light",content:"向上对齐"}},[n("el-button",{staticClass:"align align-top",attrs:{size:e.headerButtonSize,icon:"el-icon-s-data"},on:{click:function(t){return e.elementsAlign("top")}}})],1),n("el-tooltip",{attrs:{effect:"light",content:"向下对齐"}},[n("el-button",{staticClass:"align align-bottom",attrs:{size:e.headerButtonSize,icon:"el-icon-s-data"},on:{click:function(t){return e.elementsAlign("bottom")}}})],1),n("el-tooltip",{attrs:{effect:"light",content:"水平居中"}},[n("el-button",{staticClass:"align align-center",attrs:{size:e.headerButtonSize,icon:"el-icon-s-data"},on:{click:function(t){return e.elementsAlign("center")}}})],1),n("el-tooltip",{attrs:{effect:"light",content:"垂直居中"}},[n("el-button",{staticClass:"align align-middle",attrs:{size:e.headerButtonSize,icon:"el-icon-s-data"},on:{click:function(t){return e.elementsAlign("middle")}}})],1)],1),n("el-button-group",[n("el-tooltip",{attrs:{effect:"light",content:"撤销"}},[n("el-button",{attrs:{size:e.headerButtonSize,disabled:!e.revocable,icon:"el-icon-refresh-left"},on:{click:function(t){return e.processUndo()}}})],1),n("el-tooltip",{attrs:{effect:"light",content:"恢复"}},[n("el-button",{attrs:{size:e.headerButtonSize,disabled:!e.recoverable,icon:"el-icon-refresh-right"},on:{click:function(t){return e.processRedo()}}})],1),n("el-tooltip",{attrs:{effect:"light",content:"重新绘制"}},[n("el-button",{attrs:{size:e.headerButtonSize,icon:"el-icon-refresh"},on:{click:e.processRestart}})],1)],1)],1),n("input",{ref:"refFile",staticStyle:{display:"none"},attrs:{type:"file",id:"files",accept:".xml, .bpmn"},on:{change:e.importLocalFile}})],2),n("div",{staticClass:"my-process-designer__container"},[n("div",{ref:"bpmn-canvas",staticClass:"my-process-designer__canvas"})]),n("el-dialog",{attrs:{title:"预览",width:"60%",visible:e.previewModelVisible,"append-to-body":"","destroy-on-close":""},on:{"update:visible":function(t){e.previewModelVisible=t}}},[n("highlightjs",{attrs:{language:e.previewType,code:e.previewResult}})],1)],1)}),[],!1,null,null,null).exports;te.install=function(e){e.component(te.name,te)};var ne=[te],ie=function(e){ne.forEach((function(t){e.component(t.name,t)}))};"undefined"!=typeof window&&window.Vue&&ie(window.Vue);var re=Object(h.a)({version:"0.0.1",install:ie},ne);n("d5a9"),n("f910"),n("2c13"),n("e7f6"),r.a.use(j.a),r.a.use(B.vuePlugin),r.a.use(re),new r.a({render:function(e){return e(M)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";n("9c0c")},"5f72":function(e,t){e.exports=ELEMENT},6584:function(e){e.exports=JSON.parse('{"name":"Activiti","uri":"http://activiti.org/bpmn","prefix":"activiti","xml":{"tagAlias":"lowerCase"},"associations":[],"types":[{"name":"Definitions","isAbstract":true,"extends":["bpmn:Definitions"],"properties":[{"name":"diagramRelationId","isAttr":true,"type":"String"}]},{"name":"InOutBinding","superClass":["Element"],"isAbstract":true,"properties":[{"name":"source","isAttr":true,"type":"String"},{"name":"sourceExpression","isAttr":true,"type":"String"},{"name":"target","isAttr":true,"type":"String"},{"name":"businessKey","isAttr":true,"type":"String"},{"name":"local","isAttr":true,"type":"Boolean","default":false},{"name":"variables","isAttr":true,"type":"String"}]},{"name":"In","superClass":["InOutBinding"],"meta":{"allowedIn":["bpmn:CallActivity"]}},{"name":"Out","superClass":["InOutBinding"],"meta":{"allowedIn":["bpmn:CallActivity"]}},{"name":"AsyncCapable","isAbstract":true,"extends":["bpmn:Activity","bpmn:Gateway","bpmn:Event"],"properties":[{"name":"async","isAttr":true,"type":"Boolean","default":false},{"name":"asyncBefore","isAttr":true,"type":"Boolean","default":false},{"name":"asyncAfter","isAttr":true,"type":"Boolean","default":false},{"name":"exclusive","isAttr":true,"type":"Boolean","default":true}]},{"name":"JobPriorized","isAbstract":true,"extends":["bpmn:Process","activiti:AsyncCapable"],"properties":[{"name":"jobPriority","isAttr":true,"type":"String"}]},{"name":"SignalEventDefinition","isAbstract":true,"extends":["bpmn:SignalEventDefinition"],"properties":[{"name":"async","isAttr":true,"type":"Boolean","default":false}]},{"name":"ErrorEventDefinition","isAbstract":true,"extends":["bpmn:ErrorEventDefinition"],"properties":[{"name":"errorCodeVariable","isAttr":true,"type":"String"},{"name":"errorMessageVariable","isAttr":true,"type":"String"}]},{"name":"Error","isAbstract":true,"extends":["bpmn:Error"],"properties":[{"name":"activiti:errorMessage","isAttr":true,"type":"String"}]},{"name":"PotentialStarter","superClass":["Element"],"properties":[{"name":"resourceAssignmentExpression","type":"bpmn:ResourceAssignmentExpression"}]},{"name":"FormSupported","isAbstract":true,"extends":["bpmn:StartEvent","bpmn:UserTask"],"properties":[{"name":"formHandlerClass","isAttr":true,"type":"String"},{"name":"formKey","isAttr":true,"type":"String"}]},{"name":"TemplateSupported","isAbstract":true,"extends":["bpmn:Process","bpmn:FlowElement"],"properties":[{"name":"modelerTemplate","isAttr":true,"type":"String"}]},{"name":"Initiator","isAbstract":true,"extends":["bpmn:StartEvent"],"properties":[{"name":"initiator","isAttr":true,"type":"String"}]},{"name":"ScriptTask","isAbstract":true,"extends":["bpmn:ScriptTask"],"properties":[{"name":"resultVariable","isAttr":true,"type":"String"},{"name":"resource","isAttr":true,"type":"String"}]},{"name":"Process","isAbstract":true,"extends":["bpmn:Process"],"properties":[{"name":"candidateStarterGroups","isAttr":true,"type":"String"},{"name":"candidateStarterUsers","isAttr":true,"type":"String"},{"name":"versionTag","isAttr":true,"type":"String"},{"name":"historyTimeToLive","isAttr":true,"type":"String"},{"name":"isStartableInTasklist","isAttr":true,"type":"Boolean","default":true},{"name":"executionListener","isAbstract":true,"type":"Expression"}]},{"name":"EscalationEventDefinition","isAbstract":true,"extends":["bpmn:EscalationEventDefinition"],"properties":[{"name":"escalationCodeVariable","isAttr":true,"type":"String"}]},{"name":"FormalExpression","isAbstract":true,"extends":["bpmn:FormalExpression"],"properties":[{"name":"resource","isAttr":true,"type":"String"}]},{"name":"multiinstance_type","superClass":["Element"]},{"name":"multiinstance_condition","superClass":["Element"]},{"name":"Assignable","extends":["bpmn:UserTask"],"properties":[{"name":"assignee","isAttr":true,"type":"String"},{"name":"candidateUsers","isAttr":true,"type":"String"},{"name":"candidateGroups","isAttr":true,"type":"String"},{"name":"dueDate","isAttr":true,"type":"String"},{"name":"followUpDate","isAttr":true,"type":"String"},{"name":"priority","isAttr":true,"type":"String"},{"name":"multiinstance_condition","isAttr":true,"type":"String"}]},{"name":"CallActivity","extends":["bpmn:CallActivity"],"properties":[{"name":"calledElementBinding","isAttr":true,"type":"String","default":"latest"},{"name":"calledElementVersion","isAttr":true,"type":"String"},{"name":"calledElementVersionTag","isAttr":true,"type":"String"},{"name":"calledElementTenantId","isAttr":true,"type":"String"},{"name":"caseRef","isAttr":true,"type":"String"},{"name":"caseBinding","isAttr":true,"type":"String","default":"latest"},{"name":"caseVersion","isAttr":true,"type":"String"},{"name":"caseTenantId","isAttr":true,"type":"String"},{"name":"variableMappingClass","isAttr":true,"type":"String"},{"name":"variableMappingDelegateExpression","isAttr":true,"type":"String"}]},{"name":"ServiceTaskLike","extends":["bpmn:ServiceTask","bpmn:BusinessRuleTask","bpmn:SendTask","bpmn:MessageEventDefinition"],"properties":[{"name":"expression","isAttr":true,"type":"String"},{"name":"class","isAttr":true,"type":"String"},{"name":"delegateExpression","isAttr":true,"type":"String"},{"name":"resultVariable","isAttr":true,"type":"String"}]},{"name":"DmnCapable","extends":["bpmn:BusinessRuleTask"],"properties":[{"name":"decisionRef","isAttr":true,"type":"String"},{"name":"decisionRefBinding","isAttr":true,"type":"String","default":"latest"},{"name":"decisionRefVersion","isAttr":true,"type":"String"},{"name":"mapDecisionResult","isAttr":true,"type":"String","default":"resultList"},{"name":"decisionRefTenantId","isAttr":true,"type":"String"}]},{"name":"ExternalCapable","extends":["activiti:ServiceTaskLike"],"properties":[{"name":"type","isAttr":true,"type":"String"},{"name":"topic","isAttr":true,"type":"String"}]},{"name":"TaskPriorized","extends":["bpmn:Process","activiti:ExternalCapable"],"properties":[{"name":"taskPriority","isAttr":true,"type":"String"}]},{"name":"Properties","superClass":["Element"],"meta":{"allowedIn":["*"]},"properties":[{"name":"values","type":"Property","isMany":true}]},{"name":"Property","superClass":["Element"],"properties":[{"name":"id","type":"String","isAttr":true},{"name":"name","type":"String","isAttr":true},{"name":"value","type":"String","isAttr":true}]},{"name":"Connector","superClass":["Element"],"meta":{"allowedIn":["activiti:ServiceTaskLike"]},"properties":[{"name":"inputOutput","type":"InputOutput"},{"name":"connectorId","type":"String"}]},{"name":"InputOutput","superClass":["Element"],"meta":{"allowedIn":["bpmn:FlowNode","activiti:Connector"]},"properties":[{"name":"inputOutput","type":"InputOutput"},{"name":"connectorId","type":"String"},{"name":"inputParameters","isMany":true,"type":"InputParameter"},{"name":"outputParameters","isMany":true,"type":"OutputParameter"}]},{"name":"InputOutputParameter","properties":[{"name":"name","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"},{"name":"definition","type":"InputOutputParameterDefinition"}]},{"name":"InputOutputParameterDefinition","isAbstract":true},{"name":"List","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"items","isMany":true,"type":"InputOutputParameterDefinition"}]},{"name":"Map","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"entries","isMany":true,"type":"Entry"}]},{"name":"Entry","properties":[{"name":"key","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"},{"name":"definition","type":"InputOutputParameterDefinition"}]},{"name":"Value","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"id","isAttr":true,"type":"String"},{"name":"name","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"}]},{"name":"Script","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"scriptFormat","isAttr":true,"type":"String"},{"name":"resource","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"}]},{"name":"Field","superClass":["Element"],"meta":{"allowedIn":["activiti:ServiceTaskLike","activiti:ExecutionListener","activiti:TaskListener"]},"properties":[{"name":"name","isAttr":true,"type":"String"},{"name":"expression","type":"String"},{"name":"stringValue","isAttr":true,"type":"String"},{"name":"string","type":"String"}]},{"name":"InputParameter","superClass":["InputOutputParameter"]},{"name":"OutputParameter","superClass":["InputOutputParameter"]},{"name":"Collectable","isAbstract":true,"extends":["bpmn:MultiInstanceLoopCharacteristics"],"superClass":["activiti:AsyncCapable"],"properties":[{"name":"collection","isAttr":true,"type":"String"},{"name":"elementVariable","isAttr":true,"type":"String"}]},{"name":"FailedJobRetryTimeCycle","superClass":["Element"],"meta":{"allowedIn":["activiti:AsyncCapable","bpmn:MultiInstanceLoopCharacteristics"]},"properties":[{"name":"body","isBody":true,"type":"String"}]},{"name":"ExecutionListener","superClass":["Element"],"meta":{"allowedIn":["bpmn:Task","bpmn:ServiceTask","bpmn:UserTask","bpmn:BusinessRuleTask","bpmn:ScriptTask","bpmn:ReceiveTask","bpmn:ManualTask","bpmn:ExclusiveGateway","bpmn:SequenceFlow","bpmn:ParallelGateway","bpmn:InclusiveGateway","bpmn:EventBasedGateway","bpmn:StartEvent","bpmn:IntermediateCatchEvent","bpmn:IntermediateThrowEvent","bpmn:EndEvent","bpmn:BoundaryEvent","bpmn:CallActivity","bpmn:SubProcess","bpmn:Process"]},"properties":[{"name":"expression","isAttr":true,"type":"String"},{"name":"class","isAttr":true,"type":"String"},{"name":"delegateExpression","isAttr":true,"type":"String"},{"name":"event","isAttr":true,"type":"String"},{"name":"script","type":"Script"},{"name":"fields","type":"Field","isMany":true}]},{"name":"TaskListener","superClass":["Element"],"meta":{"allowedIn":["bpmn:UserTask"]},"properties":[{"name":"expression","isAttr":true,"type":"String"},{"name":"class","isAttr":true,"type":"String"},{"name":"delegateExpression","isAttr":true,"type":"String"},{"name":"event","isAttr":true,"type":"String"},{"name":"script","type":"Script"},{"name":"fields","type":"Field","isMany":true}]},{"name":"FormProperty","superClass":["Element"],"meta":{"allowedIn":["bpmn:StartEvent","bpmn:UserTask"]},"properties":[{"name":"id","type":"String","isAttr":true},{"name":"name","type":"String","isAttr":true},{"name":"type","type":"String","isAttr":true},{"name":"required","type":"String","isAttr":true},{"name":"readable","type":"String","isAttr":true},{"name":"writable","type":"String","isAttr":true},{"name":"variable","type":"String","isAttr":true},{"name":"expression","type":"String","isAttr":true},{"name":"datePattern","type":"String","isAttr":true},{"name":"default","type":"String","isAttr":true},{"name":"values","type":"Value","isMany":true}]},{"name":"FormProperty","superClass":["Element"],"properties":[{"name":"id","type":"String","isAttr":true},{"name":"label","type":"String","isAttr":true},{"name":"type","type":"String","isAttr":true},{"name":"datePattern","type":"String","isAttr":true},{"name":"defaultValue","type":"String","isAttr":true},{"name":"properties","type":"Properties"},{"name":"validation","type":"Validation"},{"name":"values","type":"Value","isMany":true}]},{"name":"Validation","superClass":["Element"],"properties":[{"name":"constraints","type":"Constraint","isMany":true}]},{"name":"Constraint","superClass":["Element"],"properties":[{"name":"name","type":"String","isAttr":true},{"name":"config","type":"String","isAttr":true}]},{"name":"ConditionalEventDefinition","isAbstract":true,"extends":["bpmn:ConditionalEventDefinition"],"properties":[{"name":"variableName","isAttr":true,"type":"String"},{"name":"variableEvent","isAttr":true,"type":"String"}]}],"emumerations":[]}')},"78e6":function(e){e.exports=JSON.parse('{"name":"Flowable","uri":"http://flowable.org/bpmn","prefix":"flowable","xml":{"tagAlias":"lowerCase"},"associations":[],"types":[{"name":"Definitions","isAbstract":true,"extends":["bpmn:Definitions"],"properties":[{"name":"diagramRelationId","isAttr":true,"type":"String"}]},{"name":"InOutBinding","superClass":["Element"],"isAbstract":true,"properties":[{"name":"source","isAttr":true,"type":"String"},{"name":"sourceExpression","isAttr":true,"type":"String"},{"name":"target","isAttr":true,"type":"String"},{"name":"businessKey","isAttr":true,"type":"String"},{"name":"local","isAttr":true,"type":"Boolean","default":false},{"name":"variables","isAttr":true,"type":"String"}]},{"name":"In","superClass":["InOutBinding"],"meta":{"allowedIn":["bpmn:CallActivity"]}},{"name":"Out","superClass":["InOutBinding"],"meta":{"allowedIn":["bpmn:CallActivity"]}},{"name":"AsyncCapable","isAbstract":true,"extends":["bpmn:Activity","bpmn:Gateway","bpmn:Event"],"properties":[{"name":"async","isAttr":true,"type":"Boolean","default":false},{"name":"asyncBefore","isAttr":true,"type":"Boolean","default":false},{"name":"asyncAfter","isAttr":true,"type":"Boolean","default":false},{"name":"exclusive","isAttr":true,"type":"Boolean","default":true}]},{"name":"flowable:in","superClass":["Element"],"properties":[{"name":"source","type":"string","isAttr":true},{"name":"target","type":"string","isAttr":true}]},{"name":"flowable:out","superClass":["Element"],"properties":[{"name":"source","type":"string","isAttr":true},{"name":"target","type":"string","isAttr":true}]},{"name":"BoundaryEvent","superClass":["CatchEvent"],"properties":[{"name":"cancelActivity","default":true,"isAttr":true,"type":"Boolean"},{"name":"attachedToRef","type":"Activity","isAttr":true,"isReference":true}]},{"name":"JobPriorized","isAbstract":true,"extends":["bpmn:Process","flowable:AsyncCapable"],"properties":[{"name":"jobPriority","isAttr":true,"type":"String"}]},{"name":"SignalEventDefinition","isAbstract":true,"extends":["bpmn:SignalEventDefinition"],"properties":[{"name":"async","isAttr":true,"type":"Boolean","default":false}]},{"name":"ErrorEventDefinition","isAbstract":true,"extends":["bpmn:ErrorEventDefinition"],"properties":[{"name":"errorCodeVariable","isAttr":true,"type":"String"},{"name":"errorMessageVariable","isAttr":true,"type":"String"}]},{"name":"Error","isAbstract":true,"extends":["bpmn:Error"],"properties":[{"name":"flowable:errorMessage","isAttr":true,"type":"String"}]},{"name":"PotentialStarter","superClass":["Element"],"properties":[{"name":"resourceAssignmentExpression","type":"bpmn:ResourceAssignmentExpression"}]},{"name":"UserTask","isAbstract":true,"extends":["bpmn:UserTask"],"properties":[{"name":"timerEventDefinition","type":"Expression"},{"name":"multiInstanceLoopCharacteristics","type":"MultiInstanceLoopCharacteristics"}]},{"name":"StartEvent","isAbstract":true,"extends":["bpmn:StartEvent"],"properties":[{"name":"timerEventDefinition","type":"Expression"}]},{"name":"FormSupported","isAbstract":true,"extends":["bpmn:StartEvent","bpmn:UserTask"],"properties":[{"name":"formHandlerClass","isAttr":true,"type":"String"},{"name":"formKey","isAttr":true,"type":"String"}]},{"name":"TemplateSupported","isAbstract":true,"extends":["bpmn:Process","bpmn:FlowElement"],"properties":[{"name":"modelerTemplate","isAttr":true,"type":"String"}]},{"name":"Initiator","isAbstract":true,"extends":["bpmn:StartEvent"],"properties":[{"name":"initiator","isAttr":true,"type":"String"}]},{"name":"ScriptTask","isAbstract":true,"extends":["bpmn:ScriptTask"],"properties":[{"name":"resultVariable","isAttr":true,"type":"String"},{"name":"resource","isAttr":true,"type":"String"}]},{"name":"Process","isAbstract":true,"extends":["bpmn:Process"],"properties":[{"name":"candidateStarterGroups","isAttr":true,"type":"String"},{"name":"candidateStarterUsers","isAttr":true,"type":"String"},{"name":"versionTag","isAttr":true,"type":"String"},{"name":"historyTimeToLive","isAttr":true,"type":"String"},{"name":"isStartableInTasklist","isAttr":true,"type":"Boolean","default":true}]},{"name":"EscalationEventDefinition","isAbstract":true,"extends":["bpmn:EscalationEventDefinition"],"properties":[{"name":"escalationCodeVariable","isAttr":true,"type":"String"}]},{"name":"FormalExpression","isAbstract":true,"extends":["bpmn:FormalExpression"],"properties":[{"name":"resource","isAttr":true,"type":"String"}]},{"name":"Assignable","extends":["bpmn:UserTask"],"properties":[{"name":"candidateGroups","isAttr":true,"type":"String"},{"name":"dueDate","isAttr":true,"type":"String"},{"name":"followUpDate","isAttr":true,"type":"String"},{"name":"priority","isAttr":true,"type":"String"}]},{"name":"CallActivity","extends":["bpmn:CallActivity"],"properties":[{"name":"calledElementBinding","isAttr":true,"type":"String","default":"latest"},{"name":"calledElementVersion","isAttr":true,"type":"String"},{"name":"calledElementVersionTag","isAttr":true,"type":"String"},{"name":"calledElementTenantId","isAttr":true,"type":"String"},{"name":"caseRef","isAttr":true,"type":"String"},{"name":"caseBinding","isAttr":true,"type":"String","default":"latest"},{"name":"caseVersion","isAttr":true,"type":"String"},{"name":"caseTenantId","isAttr":true,"type":"String"},{"name":"variableMappingClass","isAttr":true,"type":"String"},{"name":"variableMappingDelegateExpression","isAttr":true,"type":"String"}]},{"name":"ServiceTaskLike","extends":["bpmn:ServiceTask","bpmn:BusinessRuleTask","bpmn:SendTask","bpmn:MessageEventDefinition"],"properties":[{"name":"expression","isAttr":true,"type":"String"},{"name":"class","isAttr":true,"type":"String"},{"name":"delegateExpression","isAttr":true,"type":"String"},{"name":"resultVariable","isAttr":true,"type":"String"}]},{"name":"ExclusiveGateway","isAbstract":true,"extends":["bpmn:ExclusiveGateway"],"properties":[{"name":"serviceClass","isAttr":true,"type":"String"}]},{"name":"DmnCapable","extends":["bpmn:BusinessRuleTask"],"properties":[{"name":"decisionRef","isAttr":true,"type":"String"},{"name":"decisionRefBinding","isAttr":true,"type":"String","default":"latest"},{"name":"decisionRefVersion","isAttr":true,"type":"String"},{"name":"mapDecisionResult","isAttr":true,"type":"String","default":"resultList"},{"name":"decisionRefTenantId","isAttr":true,"type":"String"}]},{"name":"ExternalCapable","extends":["flowable:ServiceTaskLike"],"properties":[{"name":"type","isAttr":true,"type":"String"},{"name":"topic","isAttr":true,"type":"String"}]},{"name":"TaskPriorized","extends":["bpmn:Process","flowable:ExternalCapable"],"properties":[{"name":"taskPriority","isAttr":true,"type":"String"}]},{"name":"Properties","superClass":["Element"],"meta":{"allowedIn":["*"]},"properties":[{"name":"values","type":"Property","isMany":true}]},{"name":"Property","superClass":["Element"],"properties":[{"name":"id","type":"String","isAttr":true},{"name":"name","type":"String","isAttr":true},{"name":"value","type":"String","isAttr":true}]},{"name":"Connector","superClass":["Element"],"meta":{"allowedIn":["flowable:ServiceTaskLike"]},"properties":[{"name":"inputOutput","type":"InputOutput"},{"name":"connectorId","type":"String"}]},{"name":"InputOutput","superClass":["Element"],"meta":{"allowedIn":["bpmn:FlowNode","flowable:Connector"]},"properties":[{"name":"inputOutput","type":"InputOutput"},{"name":"connectorId","type":"String"},{"name":"inputParameters","isMany":true,"type":"InputParameter"},{"name":"outputParameters","isMany":true,"type":"OutputParameter"}]},{"name":"InputOutputParameter","properties":[{"name":"name","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"},{"name":"definition","type":"InputOutputParameterDefinition"}]},{"name":"InputOutputParameterDefinition","isAbstract":true},{"name":"List","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"items","isMany":true,"type":"InputOutputParameterDefinition"}]},{"name":"Map","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"entries","isMany":true,"type":"Entry"}]},{"name":"Entry","properties":[{"name":"key","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"},{"name":"definition","type":"InputOutputParameterDefinition"}]},{"name":"Value","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"id","isAttr":true,"type":"String"},{"name":"name","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"}]},{"name":"Script","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"scriptFormat","isAttr":true,"type":"String"},{"name":"resource","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"}]},{"name":"Field","superClass":["Element"],"meta":{"allowedIn":["flowable:ServiceTaskLike","flowable:ExecutionListener","flowable:TaskListener"]},"properties":[{"name":"name","isAttr":true,"type":"String"},{"name":"expression","isAttr":true,"type":"expression"},{"name":"string","type":"string"},{"name":"stringValue","isAttr":true,"type":"String"}]},{"name":"string","superClass":["Element"],"meta":{"allowedIn":["flowable:Field"]},"properties":[{"name":"body","isBody":true,"type":"String"}]},{"name":"expression","superClass":["Element"],"meta":{"allowedIn":["flowable:Field"]},"properties":[{"name":"body","isBody":true,"type":"String"}]},{"name":"InputParameter","superClass":["InputOutputParameter"]},{"name":"OutputParameter","superClass":["InputOutputParameter"]},{"name":"Collectable","isAbstract":true,"extends":["bpmn:MultiInstanceLoopCharacteristics"],"superClass":["flowable:AsyncCapable"],"properties":[{"name":"collection","isAttr":true,"type":"String"},{"name":"elementVariable","isAttr":true,"type":"String"}]},{"name":"SequenceFlow","superClass":["FlowElement"],"properties":[{"name":"isImmediate","isAttr":true,"type":"Boolean"},{"name":"conditionExpression","type":"Expression"},{"name":"sourceRef","type":"FlowNode","isAttr":true,"isReference":true},{"name":"targetRef","type":"FlowNode","isAttr":true,"isReference":true}]},{"name":"MultiInstanceLoopCharacteristics","superClass":["LoopCharacteristics"],"properties":[{"name":"isSequential","default":false,"isAttr":true,"type":"Boolean"},{"name":"behavior","type":"MultiInstanceBehavior","default":"All","isAttr":true},{"name":"loopCardinality","type":"Expression","xml":{"serialize":"xsi:type"}},{"name":"loopDataInputRef","type":"ItemAwareElement","isReference":true},{"name":"loopDataOutputRef","type":"ItemAwareElement","isReference":true},{"name":"inputDataItem","type":"DataInput","xml":{"serialize":"property"}},{"name":"outputDataItem","type":"DataOutput","xml":{"serialize":"property"}},{"name":"complexBehaviorDefinition","type":"ComplexBehaviorDefinition","isMany":true},{"name":"completionCondition","type":"Expression","xml":{"serialize":"xsi:type"}},{"name":"oneBehaviorEventRef","type":"EventDefinition","isAttr":true,"isReference":true},{"name":"noneBehaviorEventRef","type":"EventDefinition","isAttr":true,"isReference":true}]},{"name":"FailedJobRetryTimeCycle","superClass":["Element"],"meta":{"allowedIn":["flowable:AsyncCapable","bpmn:MultiInstanceLoopCharacteristics"]},"properties":[{"name":"body","isBody":true,"type":"String"}]},{"name":"ExecutionListener","superClass":["Element"],"meta":{"allowedIn":["bpmn:Task","bpmn:ServiceTask","bpmn:UserTask","bpmn:BusinessRuleTask","bpmn:ScriptTask","bpmn:ReceiveTask","bpmn:ManualTask","bpmn:ExclusiveGateway","bpmn:SequenceFlow","bpmn:ParallelGateway","bpmn:InclusiveGateway","bpmn:EventBasedGateway","bpmn:StartEvent","bpmn:IntermediateCatchEvent","bpmn:IntermediateThrowEvent","bpmn:EndEvent","bpmn:BoundaryEvent","bpmn:CallActivity","bpmn:SubProcess","bpmn:Process"]},"properties":[{"name":"expression","isAttr":true,"type":"String"},{"name":"class","isAttr":true,"type":"String"},{"name":"delegateExpression","isAttr":true,"type":"String"},{"name":"event","isAttr":true,"type":"String"},{"name":"script","type":"Script"},{"name":"fields","type":"Field","isMany":true}]},{"name":"TaskListener","superClass":["Element"],"meta":{"allowedIn":["bpmn:UserTask"]},"properties":[{"name":"expression","isAttr":true,"type":"String"},{"name":"class","isAttr":true,"type":"String"},{"name":"delegateExpression","isAttr":true,"type":"String"},{"name":"event","isAttr":true,"type":"String"},{"name":"script","type":"Script"},{"name":"fields","type":"Field","isMany":true}]},{"name":"FormProperty","superClass":["Element"],"meta":{"allowedIn":["bpmn:StartEvent","bpmn:UserTask"]},"properties":[{"name":"id","type":"String","isAttr":true},{"name":"name","type":"String","isAttr":true},{"name":"type","type":"String","isAttr":true},{"name":"required","type":"String","isAttr":true},{"name":"readable","type":"String","isAttr":true},{"name":"writable","type":"String","isAttr":true},{"name":"variable","type":"String","isAttr":true},{"name":"expression","type":"String","isAttr":true},{"name":"datePattern","type":"String","isAttr":true},{"name":"default","type":"String","isAttr":true},{"name":"values","type":"Value","isMany":true}]},{"name":"FormData","superClass":["Element"],"meta":{"allowedIn":["bpmn:StartEvent","bpmn:UserTask"]},"properties":[{"name":"fields","type":"FormField","isMany":true},{"name":"businessKey","type":"String","isAttr":true}]},{"name":"FormField","superClass":["Element"],"properties":[{"name":"id","type":"String","isAttr":true},{"name":"label","type":"String","isAttr":true},{"name":"type","type":"String","isAttr":true},{"name":"datePattern","type":"String","isAttr":true},{"name":"defaultValue","type":"String","isAttr":true},{"name":"properties","type":"Properties"},{"name":"validation","type":"Validation"},{"name":"values","type":"Value","isMany":true}]},{"name":"Validation","superClass":["Element"],"properties":[{"name":"constraints","type":"Constraint","isMany":true}]},{"name":"Constraint","superClass":["Element"],"properties":[{"name":"name","type":"String","isAttr":true},{"name":"config","type":"String","isAttr":true}]},{"name":"ConditionalEventDefinition","isAbstract":true,"extends":["bpmn:ConditionalEventDefinition"],"properties":[{"name":"variableName","isAttr":true,"type":"String"},{"name":"variableEvent","isAttr":true,"type":"String"}]}],"emumerations":[]}')},"8bbf":function(e,t){e.exports=Vue},"8ff4":function(e){e.exports=JSON.parse('{"name":"Camunda","uri":"http://camunda.org/schema/1.0/bpmn","prefix":"camunda","xml":{"tagAlias":"lowerCase"},"associations":[],"types":[{"name":"Definitions","isAbstract":true,"extends":["bpmn:Definitions"],"properties":[{"name":"diagramRelationId","isAttr":true,"type":"String"}]},{"name":"InOutBinding","superClass":["Element"],"isAbstract":true,"properties":[{"name":"source","isAttr":true,"type":"String"},{"name":"sourceExpression","isAttr":true,"type":"String"},{"name":"target","isAttr":true,"type":"String"},{"name":"businessKey","isAttr":true,"type":"String"},{"name":"local","isAttr":true,"type":"Boolean","default":false},{"name":"variables","isAttr":true,"type":"String"}]},{"name":"In","superClass":["InOutBinding"],"meta":{"allowedIn":["bpmn:CallActivity","bpmn:SignalEventDefinition"]}},{"name":"Out","superClass":["InOutBinding"],"meta":{"allowedIn":["bpmn:CallActivity"]}},{"name":"AsyncCapable","isAbstract":true,"extends":["bpmn:Activity","bpmn:Gateway","bpmn:Event"],"properties":[{"name":"async","isAttr":true,"type":"Boolean","default":false},{"name":"asyncBefore","isAttr":true,"type":"Boolean","default":false},{"name":"asyncAfter","isAttr":true,"type":"Boolean","default":false},{"name":"exclusive","isAttr":true,"type":"Boolean","default":true}]},{"name":"JobPriorized","isAbstract":true,"extends":["bpmn:Process","camunda:AsyncCapable"],"properties":[{"name":"jobPriority","isAttr":true,"type":"String"}]},{"name":"SignalEventDefinition","isAbstract":true,"extends":["bpmn:SignalEventDefinition"],"properties":[{"name":"async","isAttr":true,"type":"Boolean","default":false}]},{"name":"ErrorEventDefinition","isAbstract":true,"extends":["bpmn:ErrorEventDefinition"],"properties":[{"name":"errorCodeVariable","isAttr":true,"type":"String"},{"name":"errorMessageVariable","isAttr":true,"type":"String"}]},{"name":"Error","isAbstract":true,"extends":["bpmn:Error"],"properties":[{"name":"camunda:errorMessage","isAttr":true,"type":"String"}]},{"name":"PotentialStarter","superClass":["Element"],"properties":[{"name":"resourceAssignmentExpression","type":"bpmn:ResourceAssignmentExpression"}]},{"name":"FormSupported","isAbstract":true,"extends":["bpmn:StartEvent","bpmn:UserTask"],"properties":[{"name":"formHandlerClass","isAttr":true,"type":"String"},{"name":"formKey","isAttr":true,"type":"String"}]},{"name":"TemplateSupported","isAbstract":true,"extends":["bpmn:Process","bpmn:FlowElement"],"properties":[{"name":"modelerTemplate","isAttr":true,"type":"String"},{"name":"modelerTemplateVersion","isAttr":true,"type":"Integer"}]},{"name":"Initiator","isAbstract":true,"extends":["bpmn:StartEvent"],"properties":[{"name":"initiator","isAttr":true,"type":"String"}]},{"name":"ScriptTask","isAbstract":true,"extends":["bpmn:ScriptTask"],"properties":[{"name":"resultVariable","isAttr":true,"type":"String"},{"name":"resource","isAttr":true,"type":"String"}]},{"name":"Process","isAbstract":true,"extends":["bpmn:Process"],"properties":[{"name":"candidateStarterGroups","isAttr":true,"type":"String"},{"name":"candidateStarterUsers","isAttr":true,"type":"String"},{"name":"versionTag","isAttr":true,"type":"String"},{"name":"historyTimeToLive","isAttr":true,"type":"String"},{"name":"isStartableInTasklist","isAttr":true,"type":"Boolean","default":true}]},{"name":"EscalationEventDefinition","isAbstract":true,"extends":["bpmn:EscalationEventDefinition"],"properties":[{"name":"escalationCodeVariable","isAttr":true,"type":"String"}]},{"name":"FormalExpression","isAbstract":true,"extends":["bpmn:FormalExpression"],"properties":[{"name":"resource","isAttr":true,"type":"String"}]},{"name":"Assignable","extends":["bpmn:UserTask"],"properties":[{"name":"assignee","isAttr":true,"type":"String"},{"name":"candidateUsers","isAttr":true,"type":"String"},{"name":"candidateGroups","isAttr":true,"type":"String"},{"name":"dueDate","isAttr":true,"type":"String"},{"name":"followUpDate","isAttr":true,"type":"String"},{"name":"priority","isAttr":true,"type":"String"}]},{"name":"CallActivity","extends":["bpmn:CallActivity"],"properties":[{"name":"calledElementBinding","isAttr":true,"type":"String","default":"latest"},{"name":"calledElementVersion","isAttr":true,"type":"String"},{"name":"calledElementVersionTag","isAttr":true,"type":"String"},{"name":"calledElementTenantId","isAttr":true,"type":"String"},{"name":"caseRef","isAttr":true,"type":"String"},{"name":"caseBinding","isAttr":true,"type":"String","default":"latest"},{"name":"caseVersion","isAttr":true,"type":"String"},{"name":"caseTenantId","isAttr":true,"type":"String"},{"name":"variableMappingClass","isAttr":true,"type":"String"},{"name":"variableMappingDelegateExpression","isAttr":true,"type":"String"}]},{"name":"ServiceTaskLike","extends":["bpmn:ServiceTask","bpmn:BusinessRuleTask","bpmn:SendTask","bpmn:MessageEventDefinition"],"properties":[{"name":"expression","isAttr":true,"type":"String"},{"name":"class","isAttr":true,"type":"String"},{"name":"delegateExpression","isAttr":true,"type":"String"},{"name":"resultVariable","isAttr":true,"type":"String"}]},{"name":"DmnCapable","extends":["bpmn:BusinessRuleTask"],"properties":[{"name":"decisionRef","isAttr":true,"type":"String"},{"name":"decisionRefBinding","isAttr":true,"type":"String","default":"latest"},{"name":"decisionRefVersion","isAttr":true,"type":"String"},{"name":"mapDecisionResult","isAttr":true,"type":"String","default":"resultList"},{"name":"decisionRefTenantId","isAttr":true,"type":"String"}]},{"name":"ExternalCapable","extends":["camunda:ServiceTaskLike"],"properties":[{"name":"type","isAttr":true,"type":"String"},{"name":"topic","isAttr":true,"type":"String"}]},{"name":"TaskPriorized","extends":["bpmn:Process","camunda:ExternalCapable"],"properties":[{"name":"taskPriority","isAttr":true,"type":"String"}]},{"name":"Properties","superClass":["Element"],"meta":{"allowedIn":["*"]},"properties":[{"name":"values","type":"Property","isMany":true}]},{"name":"Property","superClass":["Element"],"properties":[{"name":"id","type":"String","isAttr":true},{"name":"name","type":"String","isAttr":true},{"name":"value","type":"String","isAttr":true}]},{"name":"Connector","superClass":["Element"],"meta":{"allowedIn":["camunda:ServiceTaskLike"]},"properties":[{"name":"inputOutput","type":"InputOutput"},{"name":"connectorId","type":"String"}]},{"name":"InputOutput","superClass":["Element"],"meta":{"allowedIn":["bpmn:FlowNode","camunda:Connector"]},"properties":[{"name":"inputOutput","type":"InputOutput"},{"name":"connectorId","type":"String"},{"name":"inputParameters","isMany":true,"type":"InputParameter"},{"name":"outputParameters","isMany":true,"type":"OutputParameter"}]},{"name":"InputOutputParameter","properties":[{"name":"name","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"},{"name":"definition","type":"InputOutputParameterDefinition"}]},{"name":"InputOutputParameterDefinition","isAbstract":true},{"name":"List","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"items","isMany":true,"type":"InputOutputParameterDefinition"}]},{"name":"Map","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"entries","isMany":true,"type":"Entry"}]},{"name":"Entry","properties":[{"name":"key","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"},{"name":"definition","type":"InputOutputParameterDefinition"}]},{"name":"Value","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"id","isAttr":true,"type":"String"},{"name":"name","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"}]},{"name":"Script","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"scriptFormat","isAttr":true,"type":"String"},{"name":"resource","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"}]},{"name":"Field","superClass":["Element"],"meta":{"allowedIn":["camunda:ServiceTaskLike","camunda:ExecutionListener","camunda:TaskListener"]},"properties":[{"name":"name","isAttr":true,"type":"String"},{"name":"expression","type":"String"},{"name":"stringValue","isAttr":true,"type":"String"},{"name":"string","type":"String"}]},{"name":"InputParameter","superClass":["InputOutputParameter"]},{"name":"OutputParameter","superClass":["InputOutputParameter"]},{"name":"Collectable","isAbstract":true,"extends":["bpmn:MultiInstanceLoopCharacteristics"],"superClass":["camunda:AsyncCapable"],"properties":[{"name":"collection","isAttr":true,"type":"String"},{"name":"elementVariable","isAttr":true,"type":"String"}]},{"name":"FailedJobRetryTimeCycle","superClass":["Element"],"meta":{"allowedIn":["camunda:AsyncCapable","bpmn:MultiInstanceLoopCharacteristics"]},"properties":[{"name":"body","isBody":true,"type":"String"}]},{"name":"ExecutionListener","superClass":["Element"],"meta":{"allowedIn":["bpmn:Task","bpmn:ServiceTask","bpmn:UserTask","bpmn:BusinessRuleTask","bpmn:ScriptTask","bpmn:ReceiveTask","bpmn:ManualTask","bpmn:ExclusiveGateway","bpmn:SequenceFlow","bpmn:ParallelGateway","bpmn:InclusiveGateway","bpmn:EventBasedGateway","bpmn:StartEvent","bpmn:IntermediateCatchEvent","bpmn:IntermediateThrowEvent","bpmn:EndEvent","bpmn:BoundaryEvent","bpmn:CallActivity","bpmn:SubProcess","bpmn:Process"]},"properties":[{"name":"expression","isAttr":true,"type":"String"},{"name":"class","isAttr":true,"type":"String"},{"name":"delegateExpression","isAttr":true,"type":"String"},{"name":"event","isAttr":true,"type":"String"},{"name":"script","type":"Script"},{"name":"fields","type":"Field","isMany":true}]},{"name":"TaskListener","superClass":["Element"],"meta":{"allowedIn":["bpmn:UserTask"]},"properties":[{"name":"expression","isAttr":true,"type":"String"},{"name":"class","isAttr":true,"type":"String"},{"name":"delegateExpression","isAttr":true,"type":"String"},{"name":"event","isAttr":true,"type":"String"},{"name":"script","type":"Script"},{"name":"fields","type":"Field","isMany":true},{"name":"id","type":"String","isAttr":true},{"name":"eventDefinitions","type":"bpmn:TimerEventDefinition","isMany":true}]},{"name":"FormProperty","superClass":["Element"],"meta":{"allowedIn":["bpmn:StartEvent","bpmn:UserTask"]},"properties":[{"name":"id","type":"String","isAttr":true},{"name":"name","type":"String","isAttr":true},{"name":"type","type":"String","isAttr":true},{"name":"required","type":"String","isAttr":true},{"name":"readable","type":"String","isAttr":true},{"name":"writable","type":"String","isAttr":true},{"name":"variable","type":"String","isAttr":true},{"name":"expression","type":"String","isAttr":true},{"name":"datePattern","type":"String","isAttr":true},{"name":"default","type":"String","isAttr":true},{"name":"values","type":"Value","isMany":true}]},{"name":"FormData","superClass":["Element"],"meta":{"allowedIn":["bpmn:StartEvent","bpmn:UserTask"]},"properties":[{"name":"fields","type":"FormField","isMany":true},{"name":"businessKey","type":"String","isAttr":true}]},{"name":"FormField","superClass":["Element"],"properties":[{"name":"id","type":"String","isAttr":true},{"name":"label","type":"String","isAttr":true},{"name":"type","type":"String","isAttr":true},{"name":"datePattern","type":"String","isAttr":true},{"name":"defaultValue","type":"String","isAttr":true},{"name":"properties","type":"Properties"},{"name":"validation","type":"Validation"},{"name":"values","type":"Value","isMany":true}]},{"name":"Validation","superClass":["Element"],"properties":[{"name":"constraints","type":"Constraint","isMany":true}]},{"name":"Constraint","superClass":["Element"],"properties":[{"name":"name","type":"String","isAttr":true},{"name":"config","type":"String","isAttr":true}]},{"name":"ConditionalEventDefinition","isAbstract":true,"extends":["bpmn:ConditionalEventDefinition"],"properties":[{"name":"variableName","isAttr":true,"type":"String"},{"name":"variableEvents","isAttr":true,"type":"String"}]}],"emumerations":[]}')},"94c0":function(e,t,n){"use strict";e.exports={__init__:["camundaModdleExtension"],camundaModdleExtension:["type",n("215a")]}},"9a1a":function(e,t,n){"use strict";n("45fc"),n("b0c0"),n("ac1f"),n("5319");var i=n("87f2").some,r={FailedJobRetryTimeCycle:["bpmn:StartEvent","bpmn:BoundaryEvent","bpmn:IntermediateCatchEvent","bpmn:Activity"],Connector:["bpmn:EndEvent","bpmn:IntermediateThrowEvent"],Field:["bpmn:EndEvent","bpmn:IntermediateThrowEvent"]};function s(e,t){return e&&"function"==typeof e.$instanceOf&&e.$instanceOf(t)}function a(e,t){return(n=e)&&n.length&&i(e,(function(e){return s(e,t)}));var n}function o(e,t,n){var a=t.name,o=r[a.replace(/flowable:/,"")];return a===e&&function(e,t){return i(t,(function(t){return s(e,t)}))}(n,o)}function l(e){e.on("property.clone",(function(e){var t=e.newElement,n=e.propertyDescriptor;this.canCloneProperty(t,n)}),this)}l.$inject=["eventBus"],l.prototype.canCloneProperty=function(e,t){return o("flowable:FailedJobRetryTimeCycle",t,e)?a(e.eventDefinitions,"bpmn:TimerEventDefinition")||a(e.eventDefinitions,"bpmn:SignalEventDefinition")||s(e.loopCharacteristics,"bpmn:MultiInstanceLoopCharacteristics"):o("flowable:Connector",t,e)||o("flowable:Field",t,e)?a(e.eventDefinitions,"bpmn:MessageEventDefinition"):void 0},e.exports=l},"9c0c":function(e,t,n){},a674:function(e,t,n){e.exports={__init__:["FlowableModdleExtension"],FlowableModdleExtension:["type",n("9a1a")]}},d5a9:function(e,t,n){},e15b:function(e,t,n){e.exports={__init__:["ActivitiModdleExtension"],ActivitiModdleExtension:["type",n("09c5")]}}});