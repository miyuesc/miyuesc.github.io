(window.webpackJsonp=window.webpackJsonp||[]).push([["app"],{0:function(e,t,n){e.exports=n("56d7")},1638:function(e,t){e.exports=X2JS},"16c4":function(e,t){e.exports=BpmnJS},"56d7":function(e,t,n){"use strict";n.r(t),n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("8bbf"),i=n.n(o),a=(n("b0c0"),{"Exclusive Gateway":"Exklusives Gateway","Parallel Gateway":"Paralleles Gateway","Inclusive Gateway":"Inklusives Gateway","Complex Gateway":"Komplexes Gateway","Event based Gateway":"Ereignis-basiertes Gateway","Message Start Event":"消息启动事件","Timer Start Event":"定时启动事件","Conditional Start Event":"条件启动事件","Signal Start Event":"信号启动事件","Error Start Event":"错误启动事件","Escalation Start Event":"升级启动事件","Compensation Start Event":"补偿启动事件","Message Start Event (non-interrupting)":"消息启动事件 (非中断)","Timer Start Event (non-interrupting)":"定时启动事件 (非中断)","Conditional Start Event (non-interrupting)":"条件启动事件 (非中断)","Signal Start Event (non-interrupting)":"信号启动事件 (非中断)","Escalation Start Event (non-interrupting)":"升级启动事件 (非中断)"}),r=n("5530"),s=n("d4ec"),l=n("262e"),c=n("2caf"),m=n("5e40"),d=n("6b8b"),u={__init__:["customRenderer"],customRenderer:["type",function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,o,i,a,l,c){var m;return Object(s.a)(this,n),(m=t.call(this,e,o,i,a,l,c,2e3)).handlers["user:MySql"]=function(e,t){var n={x:0,y:0,width:48,height:48},o=Object(d.e)("image",Object(r.a)(Object(r.a)({},n),{},{href:"https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/rules.png"}));return t.width=n.width,t.height=n.height,Object(d.a)(e,o),o},m}return n}(m.a)]},p=n("9099"),f=n("fb8f"),b=n("2ed5"),g=(n("ee18"),n("ad7c"),n("5f33")),h=n("b454"),v=n("417f"),x=n.n(v),y=n("2e42");function S(e,t,n){e.on("autoPlace",100,(function(e){var t=e.shape;return function(e,t){var n=200,o=Object(y.c)(e);return{x:Object(y.b)(e).right+n+t.width/2,y:o.y}}(e.source,t)})),e.on("autoPlace.end",(function(e){n.scrollToElement(e.shape)})),this.append=function(n,o,i){e.fire("autoPlace.start",{source:n,shape:o});var a=e.fire("autoPlace",{source:n,shape:o}),r=t.appendShape(n,o,a,n.parent,i);return e.fire("autoPlace.end",{source:n,shape:r}),r}}S.$inject=["eventBus","modeling","canvas"];var w={name:"App",directives:{clickoutside:x.a},data:function(){return{xmlString:"",modeler:null,reloadIndex:0,controlDrawerVisible:!1,infoTipVisible:!1,pageMode:!1,translationsSelf:a,controlForm:{processId:"",processName:"",simulation:!0,labelEditing:!1,labelVisible:!1,prefix:"flowable",headerButtonSize:"mini",events:["element.click","element.contextmenu"],moddleExtension:{user:h},additionalModel:[p.a,f.a,g.a,{__init__:["autoPlaceSelectionBehavior"],autoPlace:["type",S]}]},addis:{CustomContentPadProvider:p.a,CustomPaletteProvider:f.a}}},created:function(){},methods:{initModeler:function(e){var t=this;setTimeout((function(){t.modeler=e;var n=e.get("canvas").getRootElement();b.a.prettyPrimary("Process Id:",n.id),b.a.prettyPrimary("Process Name:",n.businessObject.name)}),10)},reloadProcessDesigner:function(e){for(var t in this.controlForm.additionalModel=[],this.addis)this.addis[t]&&this.controlForm.additionalModel.push(this.addis[t]);!e&&(this.xmlString=void 0),this.reloadIndex+=1,this.modeler=null},changeLabelEditingStatus:function(e){this.addis.labelEditing=!!e&&{labelEditingProvider:["value",""]},this.reloadProcessDesigner()},changeLabelVisibleStatus:function(e){this.addis.customRenderer=!!e&&u,this.reloadProcessDesigner()},elementClick:function(e){console.log(e),this.element=e},elementContextmenu:function(e){console.log("elementContextmenu:",e)},changePageMode:function(e){var t=e?{stroke:"#ffffff",fill:"#333333"}:{stroke:"#000000",fill:"#ffffff"},n=this.modeler.get("elementRegistry").getAll();this.modeler.get("modeling").setColor(n,t)},toggle:function(){console.log(this.modeler),console.log(this.modeler.get("toggleMode")),this.modeler.get("toggleMode").toggleMode()}}},E=(n("5c0b"),n("2877")),k=Object(E.a)(w,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("my-process-palette"),n("my-process-designer",e._b({key:"designer-"+e.reloadIndex,ref:"processDesigner",attrs:{options:{taskResizingEnabled:!0,eventResizingEnabled:!0,minimap:{open:!0}},keyboard:""},on:{"element-click":e.elementClick,"element-contextmenu":e.elementContextmenu,"init-finished":e.initModeler},model:{value:e.xmlString,callback:function(t){e.xmlString=t},expression:"xmlString"}},"my-process-designer",e.controlForm,!1)),n("my-properties-panel",{key:"penal-"+e.reloadIndex,staticClass:"process-panel",attrs:{"bpmn-modeler":e.modeler,prefix:e.controlForm.prefix}}),n("div",{staticClass:"demo-control-bar"},[n("div",{staticClass:"open-model-button",on:{click:function(t){e.controlDrawerVisible=!0}}},[n("i",{staticClass:"el-icon-setting"})])]),n("el-drawer",{attrs:{visible:e.controlDrawerVisible,size:"400px",title:"偏好设置","append-to-body":"","destroy-on-close":""},on:{"update:visible":function(t){e.controlDrawerVisible=t}}},[n("el-form",{staticClass:"control-form",attrs:{model:e.controlForm,size:"small","label-width":"100px"},nativeOn:{submit:function(e){e.preventDefault()}}},[n("el-form-item",{attrs:{label:"流程ID"}},[n("el-input",{on:{change:function(t){return e.reloadProcessDesigner(!0)}},model:{value:e.controlForm.processId,callback:function(t){e.$set(e.controlForm,"processId",t)},expression:"controlForm.processId"}})],1),n("el-form-item",{attrs:{label:"流程名称"}},[n("el-input",{on:{change:function(t){return e.reloadProcessDesigner(!0)}},model:{value:e.controlForm.processName,callback:function(t){e.$set(e.controlForm,"processName",t)},expression:"controlForm.processName"}})],1),n("el-form-item",{attrs:{label:"流转模拟"}},[n("el-switch",{attrs:{"inactive-text":"停用","active-text":"启用"},on:{change:function(t){return e.reloadProcessDesigner()}},model:{value:e.controlForm.simulation,callback:function(t){e.$set(e.controlForm,"simulation",t)},expression:"controlForm.simulation"}})],1),n("el-form-item",{attrs:{label:"禁用双击"}},[n("el-switch",{attrs:{"inactive-text":"停用","active-text":"启用"},on:{change:e.changeLabelEditingStatus},model:{value:e.controlForm.labelEditing,callback:function(t){e.$set(e.controlForm,"labelEditing",t)},expression:"controlForm.labelEditing"}})],1),n("el-form-item",{attrs:{label:"自定义渲染"}},[n("el-switch",{attrs:{"inactive-text":"停用","active-text":"启用"},on:{change:e.changeLabelVisibleStatus},model:{value:e.controlForm.labelVisible,callback:function(t){e.$set(e.controlForm,"labelVisible",t)},expression:"controlForm.labelVisible"}})],1),n("el-form-item",{attrs:{label:"流程引擎"}},[n("el-radio-group",{on:{change:function(t){return e.reloadProcessDesigner()}},model:{value:e.controlForm.prefix,callback:function(t){e.$set(e.controlForm,"prefix",t)},expression:"controlForm.prefix"}},[n("el-radio",{attrs:{label:"camunda"}},[e._v("camunda")]),n("el-radio",{attrs:{label:"flowable"}},[e._v("flowable")]),n("el-radio",{attrs:{label:"activiti"}},[e._v("activiti")])],1)],1),n("el-form-item",{attrs:{label:"工具栏"}},[n("el-radio-group",{model:{value:e.controlForm.headerButtonSize,callback:function(t){e.$set(e.controlForm,"headerButtonSize",t)},expression:"controlForm.headerButtonSize"}},[n("el-radio",{attrs:{label:"mini"}},[e._v("mini")]),n("el-radio",{attrs:{label:"small"}},[e._v("small")]),n("el-radio",{attrs:{label:"medium"}},[e._v("medium")])],1)],1),n("el-switch",{attrs:{"active-text":"dark","inactive-text":"light"},on:{change:e.changePageMode},model:{value:e.pageMode,callback:function(t){e.pageMode=t},expression:"pageMode"}})],1)],1),n("div",{staticClass:"demo-info-bar"},[n("div",{staticClass:"open-model-button",on:{click:function(t){e.infoTipVisible=!e.infoTipVisible}}},[n("i",{staticClass:"el-icon-info"})]),n("transition",{attrs:{name:"zoom-in-right"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.infoTipVisible,expression:"infoTipVisible"}],staticClass:"info-tip"},[n("p",[n("strong",[e._v("该项目仅作为Bpmn.js的简单演示项目，不涉及过多的自定义Render内容。")])]),n("p",[e._v("注：activiti 好像不支持表单配置，控制台可能会报错")]),n("p",[n("span",[e._v("更多配置请查看源码：")]),n("a",{attrs:{href:"https://github.com/miyuesc/bpmn-process-designer"}},[e._v("MiyueSC/bpmn-process-designer")])]),n("p",[n("span",[e._v("bpmn 官方图标：")]),n("a",{attrs:{href:"https://cdn.staticaly.com/gh/bpmn-io/bpmn-font/master/dist/demo.html"}},[e._v("bpmn-io/bpmn-font")])]),n("p",[n("span",[e._v("疑问请在此留言：")]),n("a",{attrs:{href:"https://github.com/miyuesc/bpmn-process-designer/issues/16"}},[e._v("MiyueSC/bpmn-process-designer/issues")])])])])],1)],1)}),[],!1,null,null,null).exports,P=n("bc3a"),F=n.n(P),C=n("5f72"),_=n.n(C),M=(n("4c0a"),n("2084")),V=(n("9123"),n("3772"));n("d5a9"),n("f910"),n("2c13"),n("e7f6"),i.a.prototype.$axios=F.a,i.a.use(_.a),i.a.use(M.vuePlugin),i.a.use(V.a),new i.a({render:function(e){return e(k)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";n("9c0c")},"5f72":function(e,t){e.exports=ELEMENT},"8bbf":function(e,t){e.exports=Vue},"9c0c":function(e,t,n){},b454:function(e){e.exports=JSON.parse('{"name":"UserSql","uri":"http://user.org/schema/1.0/bpmn","prefix":"user","xml":{"tagAlias":"lowerCase"},"associations":[],"types":[{"name":"MySql","superClass":["bpmn:Task"],"properties":[{"name":"address","isAttr":true,"type":"String"},{"name":"username","isAttr":true,"type":"String"},{"name":"password","isAttr":true,"type":"String"}]}]}')}},[[0,"runtime","chunk-libs","chunk-components"]]]);