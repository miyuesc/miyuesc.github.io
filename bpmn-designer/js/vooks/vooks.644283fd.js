import{r as e,I as t,w as n,k as o,g as a,b as i,o as u,e as c,B as l}from"../@vue/@vue.974ccd00.js";import{o as r,a as s}from"../evtd/evtd.12f38dac.js";function d(o){const a=e(!!o.value);if(a.value)return t(a);const i=n(o,(e=>{e&&(a.value=!0,i())}));return t(a)}function f(t){const a=o(t),i=e(a.value);return n(a,(e=>{i.value=e})),"function"==typeof t?i:{__v_isRef:!0,get value(){return i.value},set value(e){t.set(e)}}}function v(){return null!==a()}const w="undefined"!=typeof window;let k,m;var p,y;function h(e){if(m)return;let t=!1;i((()=>{m||null==k||k.then((()=>{t||e()}))})),u((()=>{t=!0}))}k=w?null===(y=null===(p=document)||void 0===p?void 0:p.fonts)||void 0===y?void 0:y.ready:void 0,m=!1,void 0!==k?k.then((()=>{m=!0})):m=!0;const b=e(null);function g(e){if(e.clientX>0||e.clientY>0)b.value={x:e.clientX,y:e.clientY};else{const{target:t}=e;if(t instanceof Element){const{left:e,top:n,width:o,height:a}=t.getBoundingClientRect();b.value=e>0||n>0?{x:e+o/2,y:n+a/2}:{x:0,y:0}}else b.value=null}}let P=0,x=!0;function T(){if(!w)return t(e(null));0===P&&r("click",document,g,!0);const n=()=>{P+=1};return x&&(x=v())?(c(n),u((()=>{P-=1,0===P&&s("click",document,g,!0)}))):n(),t(b)}const j=e(void 0);let M=0;function S(){j.value=Date.now()}let C=!0;function D(n){if(!w)return t(e(!1));const o=e(!1);let a=null;function i(){null!==a&&window.clearTimeout(a)}function l(){i(),o.value=!0,a=window.setTimeout((()=>{o.value=!1}),n)}0===M&&r("click",window,S,!0);const d=()=>{M+=1,r("click",window,l,!0)};return C&&(C=v())?(c(d),u((()=>{M-=1,0===M&&s("click",window,S,!0),s("click",window,l,!0),i()}))):d(),t(o)}function E(e,t){return n(e,(e=>{void 0!==e&&(t.value=e)})),o((()=>void 0===e.value?t.value:e.value))}function _(){const n=e(!1);return i((()=>{n.value=!0})),t(n)}function B(e,t){return o((()=>{for(const n of t)if(void 0!==e[n])return e[n];return e[t[t.length-1]]}))}const I="undefined"!=typeof window&&(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream;function O(){return I}function R(e={},o){const a=l({ctrl:!1,command:!1,win:!1,shift:!1,tab:!1}),{keydown:i,keyup:d}=e,f=e=>{switch(e.key){case"Control":a.ctrl=!0;break;case"Meta":a.command=!0,a.win=!0;break;case"Shift":a.shift=!0;break;case"Tab":a.tab=!0}void 0!==i&&Object.keys(i).forEach((t=>{if(t!==e.key)return;const n=i[t];if("function"==typeof n)n(e);else{const{stop:t=!1,prevent:o=!1}=n;t&&e.stopPropagation(),o&&e.preventDefault(),n.handler(e)}}))},w=e=>{switch(e.key){case"Control":a.ctrl=!1;break;case"Meta":a.command=!1,a.win=!1;break;case"Shift":a.shift=!1;break;case"Tab":a.tab=!1}void 0!==d&&Object.keys(d).forEach((t=>{if(t!==e.key)return;const n=d[t];if("function"==typeof n)n(e);else{const{stop:t=!1,prevent:o=!1}=n;t&&e.stopPropagation(),o&&e.preventDefault(),n.handler(e)}}))},k=()=>{(void 0===o||o.value)&&(r("keydown",document,f),r("keyup",document,w)),void 0!==o&&n(o,(e=>{e?(r("keydown",document,f),r("keyup",document,w)):(s("keydown",document,f),s("keyup",document,w))}))};return v()?(c(k),u((()=>{(void 0===o||o.value)&&(s("keydown",document,f),s("keyup",document,w))}))):k(),t(a)}export{O as a,E as b,B as c,d,R as e,D as f,T as g,_ as i,h as o,f as u};
